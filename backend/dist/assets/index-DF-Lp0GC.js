var Ok=Object.defineProperty;var hg=e=>{throw TypeError(e)};var Mk=(e,t,r)=>t in e?Ok(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var jr=(e,t,r)=>Mk(e,typeof t!="symbol"?t+"":t,r),Ud=(e,t,r)=>t.has(e)||hg("Cannot "+r);var Y=(e,t,r)=>(Ud(e,t,"read from private field"),r?r.call(e):t.get(e)),it=(e,t,r)=>t.has(e)?hg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),We=(e,t,r,n)=>(Ud(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),or=(e,t,r)=>(Ud(e,t,"access private method"),r);var ic=(e,t,r,n)=>({set _(s){We(e,t,s,r)},get _(){return Y(e,t,n)}});function Dk(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var oM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jx={exports:{}},Zu={},Cx={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ol=Symbol.for("react.element"),Fk=Symbol.for("react.portal"),Lk=Symbol.for("react.fragment"),zk=Symbol.for("react.strict_mode"),Vk=Symbol.for("react.profiler"),$k=Symbol.for("react.provider"),Uk=Symbol.for("react.context"),Bk=Symbol.for("react.forward_ref"),Wk=Symbol.for("react.suspense"),Hk=Symbol.for("react.memo"),qk=Symbol.for("react.lazy"),gg=Symbol.iterator;function Kk(e){return e===null||typeof e!="object"?null:(e=gg&&e[gg]||e["@@iterator"],typeof e=="function"?e:null)}var Ex={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_x=Object.assign,Tx={};function no(e,t,r){this.props=e,this.context=t,this.refs=Tx,this.updater=r||Ex}no.prototype.isReactComponent={};no.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};no.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Px(){}Px.prototype=no.prototype;function fp(e,t,r){this.props=e,this.context=t,this.refs=Tx,this.updater=r||Ex}var mp=fp.prototype=new Px;mp.constructor=fp;_x(mp,no.prototype);mp.isPureReactComponent=!0;var vg=Array.isArray,Ax=Object.prototype.hasOwnProperty,pp={current:null},Rx={key:!0,ref:!0,__self:!0,__source:!0};function Ix(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Ax.call(t,n)&&!Rx.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ol,type:e,key:a,ref:o,props:s,_owner:pp.current}}function Gk(e,t){return{$$typeof:Ol,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hp(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ol}function Qk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var yg=/\/+/g;function Bd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qk(""+e.key):t.toString(36)}function Oc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ol:case Fk:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Bd(o,0):n,vg(s)?(r="",e!=null&&(r=e.replace(yg,"$&/")+"/"),Oc(s,t,r,"",function(d){return d})):s!=null&&(hp(s)&&(s=Gk(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yg,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",vg(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Bd(a,l);o+=Oc(a,t,r,c,s)}else if(c=Kk(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Bd(a,l++),o+=Oc(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function oc(e,t,r){if(e==null)return e;var n=[],s=0;return Oc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Zk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wr={current:null},Mc={transition:null},Yk={ReactCurrentDispatcher:wr,ReactCurrentBatchConfig:Mc,ReactCurrentOwner:pp};function Ox(){throw Error("act(...) is not supported in production builds of React.")}tt.Children={map:oc,forEach:function(e,t,r){oc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return oc(e,function(){t++}),t},toArray:function(e){return oc(e,function(t){return t})||[]},only:function(e){if(!hp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};tt.Component=no;tt.Fragment=Lk;tt.Profiler=Vk;tt.PureComponent=fp;tt.StrictMode=zk;tt.Suspense=Wk;tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yk;tt.act=Ox;tt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_x({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=pp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Ax.call(t,c)&&!Rx.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:Ol,type:e.type,key:s,ref:a,props:n,_owner:o}};tt.createContext=function(e){return e={$$typeof:Uk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:$k,_context:e},e.Consumer=e};tt.createElement=Ix;tt.createFactory=function(e){var t=Ix.bind(null,e);return t.type=e,t};tt.createRef=function(){return{current:null}};tt.forwardRef=function(e){return{$$typeof:Bk,render:e}};tt.isValidElement=hp;tt.lazy=function(e){return{$$typeof:qk,_payload:{_status:-1,_result:e},_init:Zk}};tt.memo=function(e,t){return{$$typeof:Hk,type:e,compare:t===void 0?null:t}};tt.startTransition=function(e){var t=Mc.transition;Mc.transition={};try{e()}finally{Mc.transition=t}};tt.unstable_act=Ox;tt.useCallback=function(e,t){return wr.current.useCallback(e,t)};tt.useContext=function(e){return wr.current.useContext(e)};tt.useDebugValue=function(){};tt.useDeferredValue=function(e){return wr.current.useDeferredValue(e)};tt.useEffect=function(e,t){return wr.current.useEffect(e,t)};tt.useId=function(){return wr.current.useId()};tt.useImperativeHandle=function(e,t,r){return wr.current.useImperativeHandle(e,t,r)};tt.useInsertionEffect=function(e,t){return wr.current.useInsertionEffect(e,t)};tt.useLayoutEffect=function(e,t){return wr.current.useLayoutEffect(e,t)};tt.useMemo=function(e,t){return wr.current.useMemo(e,t)};tt.useReducer=function(e,t,r){return wr.current.useReducer(e,t,r)};tt.useRef=function(e){return wr.current.useRef(e)};tt.useState=function(e){return wr.current.useState(e)};tt.useSyncExternalStore=function(e,t,r){return wr.current.useSyncExternalStore(e,t,r)};tt.useTransition=function(){return wr.current.useTransition()};tt.version="18.3.1";Cx.exports=tt;var u=Cx.exports;const se=kx(u),gp=Dk({__proto__:null,default:se},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk=u,Jk=Symbol.for("react.element"),ej=Symbol.for("react.fragment"),tj=Object.prototype.hasOwnProperty,rj=Xk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nj={key:!0,ref:!0,__self:!0,__source:!0};function Mx(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)tj.call(t,n)&&!nj.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Jk,type:e,key:a,ref:o,props:s,_owner:rj.current}}Zu.Fragment=ej;Zu.jsx=Mx;Zu.jsxs=Mx;jx.exports=Zu;var i=jx.exports,Dx={exports:{}},Ur={},Fx={exports:{}},Lx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,E){var K=P.length;P.push(E);e:for(;0<K;){var O=K-1>>>1,de=P[O];if(0<s(de,E))P[O]=E,P[K]=de,K=O;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var E=P[0],K=P.pop();if(K!==E){P[0]=K;e:for(var O=0,de=P.length,G=de>>>1;O<G;){var Se=2*(O+1)-1,Ce=P[Se],qe=Se+1,ae=P[qe];if(0>s(Ce,K))qe<de&&0>s(ae,Ce)?(P[O]=ae,P[qe]=K,O=qe):(P[O]=Ce,P[Se]=K,O=Se);else if(qe<de&&0>s(ae,K))P[O]=ae,P[qe]=K,O=qe;else break e}}return E}function s(P,E){var K=P.sortIndex-E.sortIndex;return K!==0?K:P.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,p=3,h=!1,b=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var E=r(d);E!==null;){if(E.callback===null)n(d);else if(E.startTime<=P)n(d),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(d)}}function N(P){if(g=!1,x(P),!b)if(r(c)!==null)b=!0,re(S);else{var E=r(d);E!==null&&X(N,E.startTime-P)}}function S(P,E){b=!1,g&&(g=!1,y(A),A=-1),h=!0;var K=p;try{for(x(E),m=r(c);m!==null&&(!(m.expirationTime>E)||P&&!F());){var O=m.callback;if(typeof O=="function"){m.callback=null,p=m.priorityLevel;var de=O(m.expirationTime<=E);E=e.unstable_now(),typeof de=="function"?m.callback=de:m===r(c)&&n(c),x(E)}else n(c);m=r(c)}if(m!==null)var G=!0;else{var Se=r(d);Se!==null&&X(N,Se.startTime-E),G=!1}return G}finally{m=null,p=K,h=!1}}var C=!1,j=null,A=-1,M=5,T=-1;function F(){return!(e.unstable_now()-T<M)}function R(){if(j!==null){var P=e.unstable_now();T=P;var E=!0;try{E=j(!0,P)}finally{E?V():(C=!1,j=null)}}else C=!1}var V;if(typeof v=="function")V=function(){v(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,le=L.port2;L.port1.onmessage=R,V=function(){le.postMessage(null)}}else V=function(){w(R,0)};function re(P){j=P,C||(C=!0,V())}function X(P,E){A=w(function(){P(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,re(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var K=p;p=E;try{return P()}finally{p=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,E){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var K=p;p=P;try{return E()}finally{p=K}},e.unstable_scheduleCallback=function(P,E,K){var O=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?O+K:O):K=O,P){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=K+de,P={id:f++,callback:E,priorityLevel:P,startTime:K,expirationTime:de,sortIndex:-1},K>O?(P.sortIndex=K,t(d,P),r(c)===null&&P===r(d)&&(g?(y(A),A=-1):g=!0,X(N,K-O))):(P.sortIndex=de,t(c,P),b||h||(b=!0,re(S))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var E=p;return function(){var K=p;p=E;try{return P.apply(this,arguments)}finally{p=K}}}})(Lx);Fx.exports=Lx;var sj=Fx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aj=u,Vr=sj;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zx=new Set,sl={};function Ba(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(sl[e]=t,e=0;e<t.length;e++)zx.add(t[e])}var us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,ij=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xg={},wg={};function oj(e){return Vf.call(wg,e)?!0:Vf.call(xg,e)?!1:ij.test(e)?wg[e]=!0:(xg[e]=!0,!1)}function lj(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cj(e,t,r,n){if(t===null||typeof t>"u"||lj(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function br(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rr[e]=new br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rr[t]=new br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rr[e]=new br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rr[e]=new br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rr[e]=new br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rr[e]=new br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rr[e]=new br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rr[e]=new br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rr[e]=new br(e,5,!1,e.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function yp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vp,yp);rr[t]=new br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vp,yp);rr[t]=new br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vp,yp);rr[t]=new br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rr[e]=new br(e,1,!1,e.toLowerCase(),null,!1,!1)});rr.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rr[e]=new br(e,1,!1,e.toLowerCase(),null,!0,!0)});function xp(e,t,r,n){var s=rr.hasOwnProperty(t)?rr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cj(t,r,s,n)&&(r=null),n||s===null?oj(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xs=aj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),li=Symbol.for("react.portal"),ci=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Vx=Symbol.for("react.provider"),$x=Symbol.for("react.context"),bp=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Bf=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),Ux=Symbol.for("react.offscreen"),bg=Symbol.iterator;function So(e){return e===null||typeof e!="object"?null:(e=bg&&e[bg]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,Wd;function Lo(e){if(Wd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Wd=t&&t[1]||""}return`
`+Wd+e}var Hd=!1;function qd(e,t){if(!e||Hd)return"";Hd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Hd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Lo(e):""}function uj(e){switch(e.tag){case 5:return Lo(e.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return e=qd(e.type,!1),e;case 11:return e=qd(e.type.render,!1),e;case 1:return e=qd(e.type,!0),e;default:return""}}function Wf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ci:return"Fragment";case li:return"Portal";case $f:return"Profiler";case wp:return"StrictMode";case Uf:return"Suspense";case Bf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $x:return(e.displayName||"Context")+".Consumer";case Vx:return(e._context.displayName||"Context")+".Provider";case bp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Np:return t=e.displayName||null,t!==null?t:Wf(e.type)||"Memo";case Ts:t=e._payload,e=e._init;try{return Wf(e(t))}catch{}}return null}function dj(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wf(t);case 8:return t===wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ia(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fj(e){var t=Bx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){e._valueTracker||(e._valueTracker=fj(e))}function Wx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Bx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function au(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hf(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ng(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ia(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hx(e,t){t=t.checked,t!=null&&xp(e,"checked",t,!1)}function qf(e,t){Hx(e,t);var r=ia(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Kf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Kf(e,t.type,ia(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Kf(e,t,r){(t!=="number"||au(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zo=Array.isArray;function Ni(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ia(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(zo(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ia(r)}}function qx(e,t){var r=ia(t.value),n=ia(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uc,Gx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function al(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mj=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(e){mj.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wo[t]=Wo[e]})});function Qx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Wo.hasOwnProperty(e)&&Wo[e]?(""+t).trim():t+"px"}function Zx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Qx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var pj=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(e,t){if(t){if(pj[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Yf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=null;function Sp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jf=null,Si=null,ki=null;function Cg(e){if(e=Fl(e)){if(typeof Jf!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=td(t),Jf(e.stateNode,e.type,t))}}function Yx(e){Si?ki?ki.push(e):ki=[e]:Si=e}function Xx(){if(Si){var e=Si,t=ki;if(ki=Si=null,Cg(e),t)for(e=0;e<t.length;e++)Cg(t[e])}}function Jx(e,t){return e(t)}function e0(){}var Kd=!1;function t0(e,t,r){if(Kd)return e(t,r);Kd=!0;try{return Jx(e,t,r)}finally{Kd=!1,(Si!==null||ki!==null)&&(e0(),Xx())}}function il(e,t){var r=e.stateNode;if(r===null)return null;var n=td(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var em=!1;if(us)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){em=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{em=!1}function hj(e,t,r,n,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(f){this.onError(f)}}var Ho=!1,iu=null,ou=!1,tm=null,gj={onError:function(e){Ho=!0,iu=e}};function vj(e,t,r,n,s,a,o,l,c){Ho=!1,iu=null,hj.apply(gj,arguments)}function yj(e,t,r,n,s,a,o,l,c){if(vj.apply(this,arguments),Ho){if(Ho){var d=iu;Ho=!1,iu=null}else throw Error(ue(198));ou||(ou=!0,tm=d)}}function Wa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function r0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eg(e){if(Wa(e)!==e)throw Error(ue(188))}function xj(e){var t=e.alternate;if(!t){if(t=Wa(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Eg(s),e;if(a===n)return Eg(s),t;a=a.sibling}throw Error(ue(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function n0(e){return e=xj(e),e!==null?s0(e):null}function s0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s0(e);if(t!==null)return t;e=e.sibling}return null}var a0=Vr.unstable_scheduleCallback,_g=Vr.unstable_cancelCallback,wj=Vr.unstable_shouldYield,bj=Vr.unstable_requestPaint,Dt=Vr.unstable_now,Nj=Vr.unstable_getCurrentPriorityLevel,kp=Vr.unstable_ImmediatePriority,i0=Vr.unstable_UserBlockingPriority,lu=Vr.unstable_NormalPriority,Sj=Vr.unstable_LowPriority,o0=Vr.unstable_IdlePriority,Yu=null,Un=null;function kj(e){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Yu,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:Ej,jj=Math.log,Cj=Math.LN2;function Ej(e){return e>>>=0,e===0?32:31-(jj(e)/Cj|0)|0}var dc=64,fc=4194304;function Vo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Vo(l):(a&=o,a!==0&&(n=Vo(a)))}else o=r&~s,o!==0?n=Vo(o):a!==0&&(n=Vo(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wn(t),s=1<<r,n|=e[r],t&=~s;return n}function _j(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tj(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-wn(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=_j(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function rm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l0(){var e=dc;return dc<<=1,!(dc&4194240)&&(dc=64),e}function Gd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ml(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=r}function Pj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-wn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function jp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var dt=0;function c0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u0,Cp,d0,f0,m0,nm=!1,mc=[],Ks=null,Gs=null,Qs=null,ol=new Map,ll=new Map,Is=[],Aj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tg(e,t){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(t.pointerId)}}function jo(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Fl(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Rj(e,t,r,n,s){switch(t){case"focusin":return Ks=jo(Ks,e,t,r,n,s),!0;case"dragenter":return Gs=jo(Gs,e,t,r,n,s),!0;case"mouseover":return Qs=jo(Qs,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ol.set(a,jo(ol.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ll.set(a,jo(ll.get(a)||null,e,t,r,n,s)),!0}return!1}function p0(e){var t=ba(e.target);if(t!==null){var r=Wa(t);if(r!==null){if(t=r.tag,t===13){if(t=r0(r),t!==null){e.blockedOn=t,m0(e.priority,function(){d0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Xf=n,r.target.dispatchEvent(n),Xf=null}else return t=Fl(r),t!==null&&Cp(t),e.blockedOn=r,!1;t.shift()}return!0}function Pg(e,t,r){Dc(e)&&r.delete(t)}function Ij(){nm=!1,Ks!==null&&Dc(Ks)&&(Ks=null),Gs!==null&&Dc(Gs)&&(Gs=null),Qs!==null&&Dc(Qs)&&(Qs=null),ol.forEach(Pg),ll.forEach(Pg)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,nm||(nm=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,Ij)))}function cl(e){function t(s){return Co(s,e)}if(0<mc.length){Co(mc[0],e);for(var r=1;r<mc.length;r++){var n=mc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ks!==null&&Co(Ks,e),Gs!==null&&Co(Gs,e),Qs!==null&&Co(Qs,e),ol.forEach(t),ll.forEach(t),r=0;r<Is.length;r++)n=Is[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Is.length&&(r=Is[0],r.blockedOn===null);)p0(r),r.blockedOn===null&&Is.shift()}var ji=xs.ReactCurrentBatchConfig,uu=!0;function Oj(e,t,r,n){var s=dt,a=ji.transition;ji.transition=null;try{dt=1,Ep(e,t,r,n)}finally{dt=s,ji.transition=a}}function Mj(e,t,r,n){var s=dt,a=ji.transition;ji.transition=null;try{dt=4,Ep(e,t,r,n)}finally{dt=s,ji.transition=a}}function Ep(e,t,r,n){if(uu){var s=sm(e,t,r,n);if(s===null)sf(e,t,n,du,r),Tg(e,n);else if(Rj(s,e,t,r,n))n.stopPropagation();else if(Tg(e,n),t&4&&-1<Aj.indexOf(e)){for(;s!==null;){var a=Fl(s);if(a!==null&&u0(a),a=sm(e,t,r,n),a===null&&sf(e,t,n,du,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else sf(e,t,n,null,r)}}var du=null;function sm(e,t,r,n){if(du=null,e=Sp(n),e=ba(e),e!==null)if(t=Wa(e),t===null)e=null;else if(r=t.tag,r===13){if(e=r0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return du=e,null}function h0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nj()){case kp:return 1;case i0:return 4;case lu:case Sj:return 16;case o0:return 536870912;default:return 16}default:return 16}}var Bs=null,_p=null,Fc=null;function g0(){if(Fc)return Fc;var e,t=_p,r=t.length,n,s="value"in Bs?Bs.value:Bs.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Fc=s.slice(e,1<n?1-n:void 0)}function Lc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pc(){return!0}function Ag(){return!1}function Br(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pc:Ag,this.isPropagationStopped=Ag,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),t}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=Br(so),Dl=Tt({},so,{view:0,detail:0}),Dj=Br(Dl),Qd,Zd,Eo,Xu=Tt({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Eo&&(Eo&&e.type==="mousemove"?(Qd=e.screenX-Eo.screenX,Zd=e.screenY-Eo.screenY):Zd=Qd=0,Eo=e),Qd)},movementY:function(e){return"movementY"in e?e.movementY:Zd}}),Rg=Br(Xu),Fj=Tt({},Xu,{dataTransfer:0}),Lj=Br(Fj),zj=Tt({},Dl,{relatedTarget:0}),Yd=Br(zj),Vj=Tt({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),$j=Br(Vj),Uj=Tt({},so,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bj=Br(Uj),Wj=Tt({},so,{data:0}),Ig=Br(Wj),Hj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kj[e])?!!t[e]:!1}function Pp(){return Gj}var Qj=Tt({},Dl,{key:function(e){if(e.key){var t=Hj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(e){return e.type==="keypress"?Lc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zj=Br(Qj),Yj=Tt({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Og=Br(Yj),Xj=Tt({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),Jj=Br(Xj),eC=Tt({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),tC=Br(eC),rC=Tt({},Xu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nC=Br(rC),sC=[9,13,27,32],Ap=us&&"CompositionEvent"in window,qo=null;us&&"documentMode"in document&&(qo=document.documentMode);var aC=us&&"TextEvent"in window&&!qo,v0=us&&(!Ap||qo&&8<qo&&11>=qo),Mg=" ",Dg=!1;function y0(e,t){switch(e){case"keyup":return sC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ui=!1;function iC(e,t){switch(e){case"compositionend":return x0(t);case"keypress":return t.which!==32?null:(Dg=!0,Mg);case"textInput":return e=t.data,e===Mg&&Dg?null:e;default:return null}}function oC(e,t){if(ui)return e==="compositionend"||!Ap&&y0(e,t)?(e=g0(),Fc=_p=Bs=null,ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v0&&t.locale!=="ko"?null:t.data;default:return null}}var lC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lC[e.type]:t==="textarea"}function w0(e,t,r,n){Yx(n),t=fu(t,"onChange"),0<t.length&&(r=new Tp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ko=null,ul=null;function cC(e){A0(e,0)}function Ju(e){var t=mi(e);if(Wx(t))return e}function uC(e,t){if(e==="change")return t}var b0=!1;if(us){var Xd;if(us){var Jd="oninput"in document;if(!Jd){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Jd=typeof Lg.oninput=="function"}Xd=Jd}else Xd=!1;b0=Xd&&(!document.documentMode||9<document.documentMode)}function zg(){Ko&&(Ko.detachEvent("onpropertychange",N0),ul=Ko=null)}function N0(e){if(e.propertyName==="value"&&Ju(ul)){var t=[];w0(t,ul,e,Sp(e)),t0(cC,t)}}function dC(e,t,r){e==="focusin"?(zg(),Ko=t,ul=r,Ko.attachEvent("onpropertychange",N0)):e==="focusout"&&zg()}function fC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ju(ul)}function mC(e,t){if(e==="click")return Ju(t)}function pC(e,t){if(e==="input"||e==="change")return Ju(t)}function hC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:hC;function dl(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Vf.call(t,s)||!Nn(e[s],t[s]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $g(e,t){var r=Vg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vg(r)}}function S0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k0(){for(var e=window,t=au();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=au(e.document)}return t}function Rp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gC(e){var t=k0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S0(r.ownerDocument.documentElement,r)){if(n!==null&&Rp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=$g(r,a);var o=$g(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vC=us&&"documentMode"in document&&11>=document.documentMode,di=null,am=null,Go=null,im=!1;function Ug(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;im||di==null||di!==au(n)||(n=di,"selectionStart"in n&&Rp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Go&&dl(Go,n)||(Go=n,n=fu(am,"onSelect"),0<n.length&&(t=new Tp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=di)))}function hc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fi={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},ef={},j0={};us&&(j0=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function ed(e){if(ef[e])return ef[e];if(!fi[e])return e;var t=fi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in j0)return ef[e]=t[r];return e}var C0=ed("animationend"),E0=ed("animationiteration"),_0=ed("animationstart"),T0=ed("transitionend"),P0=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(e,t){P0.set(e,t),Ba(t,[e])}for(var tf=0;tf<Bg.length;tf++){var rf=Bg[tf],yC=rf.toLowerCase(),xC=rf[0].toUpperCase()+rf.slice(1);fa(yC,"on"+xC)}fa(C0,"onAnimationEnd");fa(E0,"onAnimationIteration");fa(_0,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(T0,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function Wg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yj(n,t,void 0,e),e.currentTarget=null}function A0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Wg(s,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Wg(s,l,d),a=c}}}if(ou)throw e=tm,ou=!1,tm=null,e}function xt(e,t){var r=t[dm];r===void 0&&(r=t[dm]=new Set);var n=e+"__bubble";r.has(n)||(R0(t,e,2,!1),r.add(n))}function nf(e,t,r){var n=0;t&&(n|=4),R0(r,e,n,t)}var gc="_reactListening"+Math.random().toString(36).slice(2);function fl(e){if(!e[gc]){e[gc]=!0,zx.forEach(function(r){r!=="selectionchange"&&(wC.has(r)||nf(r,!1,e),nf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gc]||(t[gc]=!0,nf("selectionchange",!1,t))}}function R0(e,t,r,n){switch(h0(t)){case 1:var s=Oj;break;case 4:s=Mj;break;default:s=Ep}r=s.bind(null,t,r,e),s=void 0,!em||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function sf(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ba(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}t0(function(){var d=a,f=Sp(r),m=[];e:{var p=P0.get(e);if(p!==void 0){var h=Tp,b=e;switch(e){case"keypress":if(Lc(r)===0)break e;case"keydown":case"keyup":h=Zj;break;case"focusin":b="focus",h=Yd;break;case"focusout":b="blur",h=Yd;break;case"beforeblur":case"afterblur":h=Yd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Lj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Jj;break;case C0:case E0:case _0:h=$j;break;case T0:h=tC;break;case"scroll":h=Dj;break;case"wheel":h=nC;break;case"copy":case"cut":case"paste":h=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Og}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var v=d,x;v!==null;){x=v;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,y!==null&&(N=il(v,y),N!=null&&g.push(ml(v,N,x)))),w)break;v=v.return}0<g.length&&(p=new h(p,b,null,r,f),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Xf&&(b=r.relatedTarget||r.fromElement)&&(ba(b)||b[ds]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(b=r.relatedTarget||r.toElement,h=d,b=b?ba(b):null,b!==null&&(w=Wa(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=d),h!==b)){if(g=Rg,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Og,N="onPointerLeave",y="onPointerEnter",v="pointer"),w=h==null?p:mi(h),x=b==null?p:mi(b),p=new g(N,v+"leave",h,r,f),p.target=w,p.relatedTarget=x,N=null,ba(f)===d&&(g=new g(y,v+"enter",b,r,f),g.target=x,g.relatedTarget=w,N=g),w=N,h&&b)t:{for(g=h,y=b,v=0,x=g;x;x=Ya(x))v++;for(x=0,N=y;N;N=Ya(N))x++;for(;0<v-x;)g=Ya(g),v--;for(;0<x-v;)y=Ya(y),x--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ya(g),y=Ya(y)}g=null}else g=null;h!==null&&Hg(m,p,h,g,!1),b!==null&&w!==null&&Hg(m,w,b,g,!0)}}e:{if(p=d?mi(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=uC;else if(Fg(p))if(b0)S=pC;else{S=fC;var C=dC}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=mC);if(S&&(S=S(e,d))){w0(m,S,r,f);break e}C&&C(e,p,d),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Kf(p,"number",p.value)}switch(C=d?mi(d):window,e){case"focusin":(Fg(C)||C.contentEditable==="true")&&(di=C,am=d,Go=null);break;case"focusout":Go=am=di=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Ug(m,r,f);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":Ug(m,r,f)}var j;if(Ap)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ui?y0(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(v0&&r.locale!=="ko"&&(ui||A!=="onCompositionStart"?A==="onCompositionEnd"&&ui&&(j=g0()):(Bs=f,_p="value"in Bs?Bs.value:Bs.textContent,ui=!0)),C=fu(d,A),0<C.length&&(A=new Ig(A,e,null,r,f),m.push({event:A,listeners:C}),j?A.data=j:(j=x0(r),j!==null&&(A.data=j)))),(j=aC?iC(e,r):oC(e,r))&&(d=fu(d,"onBeforeInput"),0<d.length&&(f=new Ig("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:d}),f.data=j))}A0(m,t)})}function ml(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=il(e,r),a!=null&&n.unshift(ml(e,a,s)),a=il(e,t),a!=null&&n.push(ml(e,a,s))),e=e.return}return n}function Ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hg(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=il(r,a),c!=null&&o.unshift(ml(r,c,l))):s||(c=il(r,a),c!=null&&o.push(ml(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var bC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function qg(e){return(typeof e=="string"?e:""+e).replace(bC,`
`).replace(NC,"")}function vc(e,t,r){if(t=qg(t),qg(e)!==t&&r)throw Error(ue(425))}function mu(){}var om=null,lm=null;function cm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,SC=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(e){return Kg.resolve(null).then(e).catch(jC)}:um;function jC(e){setTimeout(function(){throw e})}function af(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),cl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);cl(t)}function Zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ao=Math.random().toString(36).slice(2),Ln="__reactFiber$"+ao,pl="__reactProps$"+ao,ds="__reactContainer$"+ao,dm="__reactEvents$"+ao,CC="__reactListeners$"+ao,EC="__reactHandles$"+ao;function ba(e){var t=e[Ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ds]||r[Ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Gg(e);e!==null;){if(r=e[Ln])return r;e=Gg(e)}return t}e=r,r=e.parentNode}return null}function Fl(e){return e=e[Ln]||e[ds],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function td(e){return e[pl]||null}var fm=[],pi=-1;function ma(e){return{current:e}}function wt(e){0>pi||(e.current=fm[pi],fm[pi]=null,pi--)}function gt(e,t){pi++,fm[pi]=e.current,e.current=t}var oa={},fr=ma(oa),Pr=ma(!1),Ma=oa;function Ui(e,t){var r=e.type.contextTypes;if(!r)return oa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ar(e){return e=e.childContextTypes,e!=null}function pu(){wt(Pr),wt(fr)}function Qg(e,t,r){if(fr.current!==oa)throw Error(ue(168));gt(fr,t),gt(Pr,r)}function I0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ue(108,dj(e)||"Unknown",s));return Tt({},r,n)}function hu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||oa,Ma=fr.current,gt(fr,e),gt(Pr,Pr.current),!0}function Zg(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=I0(e,t,Ma),n.__reactInternalMemoizedMergedChildContext=e,wt(Pr),wt(fr),gt(fr,e)):wt(Pr),gt(Pr,r)}var rs=null,rd=!1,of=!1;function O0(e){rs===null?rs=[e]:rs.push(e)}function _C(e){rd=!0,O0(e)}function pa(){if(!of&&rs!==null){of=!0;var e=0,t=dt;try{var r=rs;for(dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rs=null,rd=!1}catch(s){throw rs!==null&&(rs=rs.slice(e+1)),a0(kp,pa),s}finally{dt=t,of=!1}}return null}var hi=[],gi=0,gu=null,vu=0,Qr=[],Zr=0,Da=null,ss=1,as="";function ya(e,t){hi[gi++]=vu,hi[gi++]=gu,gu=e,vu=t}function M0(e,t,r){Qr[Zr++]=ss,Qr[Zr++]=as,Qr[Zr++]=Da,Da=e;var n=ss;e=as;var s=32-wn(n)-1;n&=~(1<<s),r+=1;var a=32-wn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ss=1<<32-wn(t)+s|r<<s|n,as=a+e}else ss=1<<a|r<<s|n,as=e}function Ip(e){e.return!==null&&(ya(e,1),M0(e,1,0))}function Op(e){for(;e===gu;)gu=hi[--gi],hi[gi]=null,vu=hi[--gi],hi[gi]=null;for(;e===Da;)Da=Qr[--Zr],Qr[Zr]=null,as=Qr[--Zr],Qr[Zr]=null,ss=Qr[--Zr],Qr[Zr]=null}var Lr=null,Fr=null,St=!1,hn=null;function D0(e,t){var r=Yr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lr=e,Fr=Zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lr=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Da!==null?{id:ss,overflow:as}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Yr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Lr=e,Fr=null,!0):!1;default:return!1}}function mm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pm(e){if(St){var t=Fr;if(t){var r=t;if(!Yg(e,t)){if(mm(e))throw Error(ue(418));t=Zs(r.nextSibling);var n=Lr;t&&Yg(e,t)?D0(n,r):(e.flags=e.flags&-4097|2,St=!1,Lr=e)}}else{if(mm(e))throw Error(ue(418));e.flags=e.flags&-4097|2,St=!1,Lr=e}}}function Xg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lr=e}function yc(e){if(e!==Lr)return!1;if(!St)return Xg(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cm(e.type,e.memoizedProps)),t&&(t=Fr)){if(mm(e))throw F0(),Error(ue(418));for(;t;)D0(e,t),t=Zs(t.nextSibling)}if(Xg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fr=Zs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Lr?Zs(e.stateNode.nextSibling):null;return!0}function F0(){for(var e=Fr;e;)e=Zs(e.nextSibling)}function Bi(){Fr=Lr=null,St=!1}function Mp(e){hn===null?hn=[e]:hn.push(e)}var TC=xs.ReactCurrentBatchConfig;function _o(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function xc(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jg(e){var t=e._init;return t(e._payload)}function L0(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=ea(y,v),y.index=0,y.sibling=null,y}function a(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,x,N){return v===null||v.tag!==6?(v=pf(x,y.mode,N),v.return=y,v):(v=s(v,x),v.return=y,v)}function c(y,v,x,N){var S=x.type;return S===ci?f(y,v,x.props.children,N,x.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ts&&Jg(S)===v.type)?(N=s(v,x.props),N.ref=_o(y,v,x),N.return=y,N):(N=Hc(x.type,x.key,x.props,null,y.mode,N),N.ref=_o(y,v,x),N.return=y,N)}function d(y,v,x,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=hf(x,y.mode,N),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function f(y,v,x,N,S){return v===null||v.tag!==7?(v=Oa(x,y.mode,N,S),v.return=y,v):(v=s(v,x),v.return=y,v)}function m(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pf(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case lc:return x=Hc(v.type,v.key,v.props,null,y.mode,x),x.ref=_o(y,null,v),x.return=y,x;case li:return v=hf(v,y.mode,x),v.return=y,v;case Ts:var N=v._init;return m(y,N(v._payload),x)}if(zo(v)||So(v))return v=Oa(v,y.mode,x,null),v.return=y,v;xc(y,v)}return null}function p(y,v,x,N){var S=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(y,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lc:return x.key===S?c(y,v,x,N):null;case li:return x.key===S?d(y,v,x,N):null;case Ts:return S=x._init,p(y,v,S(x._payload),N)}if(zo(x)||So(x))return S!==null?null:f(y,v,x,N,null);xc(y,x)}return null}function h(y,v,x,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(x)||null,l(v,y,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case lc:return y=y.get(N.key===null?x:N.key)||null,c(v,y,N,S);case li:return y=y.get(N.key===null?x:N.key)||null,d(v,y,N,S);case Ts:var C=N._init;return h(y,v,x,C(N._payload),S)}if(zo(N)||So(N))return y=y.get(x)||null,f(v,y,N,S,null);xc(v,N)}return null}function b(y,v,x,N){for(var S=null,C=null,j=v,A=v=0,M=null;j!==null&&A<x.length;A++){j.index>A?(M=j,j=null):M=j.sibling;var T=p(y,j,x[A],N);if(T===null){j===null&&(j=M);break}e&&j&&T.alternate===null&&t(y,j),v=a(T,v,A),C===null?S=T:C.sibling=T,C=T,j=M}if(A===x.length)return r(y,j),St&&ya(y,A),S;if(j===null){for(;A<x.length;A++)j=m(y,x[A],N),j!==null&&(v=a(j,v,A),C===null?S=j:C.sibling=j,C=j);return St&&ya(y,A),S}for(j=n(y,j);A<x.length;A++)M=h(j,y,A,x[A],N),M!==null&&(e&&M.alternate!==null&&j.delete(M.key===null?A:M.key),v=a(M,v,A),C===null?S=M:C.sibling=M,C=M);return e&&j.forEach(function(F){return t(y,F)}),St&&ya(y,A),S}function g(y,v,x,N){var S=So(x);if(typeof S!="function")throw Error(ue(150));if(x=S.call(x),x==null)throw Error(ue(151));for(var C=S=null,j=v,A=v=0,M=null,T=x.next();j!==null&&!T.done;A++,T=x.next()){j.index>A?(M=j,j=null):M=j.sibling;var F=p(y,j,T.value,N);if(F===null){j===null&&(j=M);break}e&&j&&F.alternate===null&&t(y,j),v=a(F,v,A),C===null?S=F:C.sibling=F,C=F,j=M}if(T.done)return r(y,j),St&&ya(y,A),S;if(j===null){for(;!T.done;A++,T=x.next())T=m(y,T.value,N),T!==null&&(v=a(T,v,A),C===null?S=T:C.sibling=T,C=T);return St&&ya(y,A),S}for(j=n(y,j);!T.done;A++,T=x.next())T=h(j,y,A,T.value,N),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?A:T.key),v=a(T,v,A),C===null?S=T:C.sibling=T,C=T);return e&&j.forEach(function(R){return t(y,R)}),St&&ya(y,A),S}function w(y,v,x,N){if(typeof x=="object"&&x!==null&&x.type===ci&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case lc:e:{for(var S=x.key,C=v;C!==null;){if(C.key===S){if(S=x.type,S===ci){if(C.tag===7){r(y,C.sibling),v=s(C,x.props.children),v.return=y,y=v;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ts&&Jg(S)===C.type){r(y,C.sibling),v=s(C,x.props),v.ref=_o(y,C,x),v.return=y,y=v;break e}r(y,C);break}else t(y,C);C=C.sibling}x.type===ci?(v=Oa(x.props.children,y.mode,N,x.key),v.return=y,y=v):(N=Hc(x.type,x.key,x.props,null,y.mode,N),N.ref=_o(y,v,x),N.return=y,y=N)}return o(y);case li:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(y,v.sibling),v=s(v,x.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=hf(x,y.mode,N),v.return=y,y=v}return o(y);case Ts:return C=x._init,w(y,v,C(x._payload),N)}if(zo(x))return b(y,v,x,N);if(So(x))return g(y,v,x,N);xc(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,x),v.return=y,y=v):(r(y,v),v=pf(x,y.mode,N),v.return=y,y=v),o(y)):r(y,v)}return w}var Wi=L0(!0),z0=L0(!1),yu=ma(null),xu=null,vi=null,Dp=null;function Fp(){Dp=vi=xu=null}function Lp(e){var t=yu.current;wt(yu),e._currentValue=t}function hm(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ci(e,t){xu=e,Dp=vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tr=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(Dp!==e)if(e={context:e,memoizedValue:t,next:null},vi===null){if(xu===null)throw Error(ue(308));vi=e,xu.dependencies={lanes:0,firstContext:e}}else vi=vi.next=e;return t}var Na=null;function zp(e){Na===null?Na=[e]:Na.push(e)}function V0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,zp(t)):(r.next=s.next,s.next=r),t.interleaved=r,fs(e,n)}function fs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ps=!1;function Vp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,fs(e,r)}return s=n.interleaved,s===null?(t.next=t,zp(n)):(t.next=s.next,s.next=t),n.interleaved=t,fs(e,r)}function zc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jp(e,r)}}function ev(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wu(e,t,r,n){var s=e.updateQueue;Ps=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=d:l.next=d,f.lastBaseUpdate=c))}if(a!==null){var m=s.baseState;o=0,f=d=c=null,l=a;do{var p=l.lane,h=l.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,g=l;switch(p=t,h=r,g.tag){case 1:if(b=g.payload,typeof b=="function"){m=b.call(h,m,p);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=g.payload,p=typeof b=="function"?b.call(h,m,p):b,p==null)break e;m=Tt({},m,p);break e;case 2:Ps=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(d=f=h,c=m):f=f.next=h,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(f===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);La|=o,e.lanes=o,e.memoizedState=m}}function tv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ue(191,s));s.call(n)}}}var Ll={},Bn=ma(Ll),hl=ma(Ll),gl=ma(Ll);function Sa(e){if(e===Ll)throw Error(ue(174));return e}function $p(e,t){switch(gt(gl,t),gt(hl,e),gt(Bn,Ll),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qf(t,e)}wt(Bn),gt(Bn,t)}function Hi(){wt(Bn),wt(hl),wt(gl)}function U0(e){Sa(gl.current);var t=Sa(Bn.current),r=Qf(t,e.type);t!==r&&(gt(hl,e),gt(Bn,r))}function Up(e){hl.current===e&&(wt(Bn),wt(hl))}var Ct=ma(0);function bu(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lf=[];function Bp(){for(var e=0;e<lf.length;e++)lf[e]._workInProgressVersionPrimary=null;lf.length=0}var Vc=xs.ReactCurrentDispatcher,cf=xs.ReactCurrentBatchConfig,Fa=0,_t=null,Ht=null,Qt=null,Nu=!1,Qo=!1,vl=0,PC=0;function lr(){throw Error(ue(321))}function Wp(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Hp(e,t,r,n,s,a){if(Fa=a,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vc.current=e===null||e.memoizedState===null?OC:MC,e=r(n,s),Qo){a=0;do{if(Qo=!1,vl=0,25<=a)throw Error(ue(301));a+=1,Qt=Ht=null,t.updateQueue=null,Vc.current=DC,e=r(n,s)}while(Qo)}if(Vc.current=Su,t=Ht!==null&&Ht.next!==null,Fa=0,Qt=Ht=_t=null,Nu=!1,t)throw Error(ue(300));return e}function qp(){var e=vl!==0;return vl=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?_t.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function tn(){if(Ht===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Qt===null?_t.memoizedState:Qt.next;if(t!==null)Qt=t,Ht=e;else{if(e===null)throw Error(ue(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Qt===null?_t.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function yl(e,t){return typeof t=="function"?t(e):t}function uf(e){var t=tn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=Ht,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var f=d.lane;if((Fa&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,_t.lanes|=f,La|=f}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Nn(n,t.memoizedState)||(Tr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,_t.lanes|=a,La|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function df(e){var t=tn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Nn(a,t.memoizedState)||(Tr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function B0(){}function W0(e,t){var r=_t,n=tn(),s=t(),a=!Nn(n.memoizedState,s);if(a&&(n.memoizedState=s,Tr=!0),n=n.queue,Kp(K0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Qt!==null&&Qt.memoizedState.tag&1){if(r.flags|=2048,xl(9,q0.bind(null,r,n,s,t),void 0,null),Zt===null)throw Error(ue(349));Fa&30||H0(r,t,s)}return s}function H0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function q0(e,t,r,n){t.value=r,t.getSnapshot=n,G0(t)&&Q0(e)}function K0(e,t,r){return r(function(){G0(t)&&Q0(e)})}function G0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nn(e,r)}catch{return!0}}function Q0(e){var t=fs(e,1);t!==null&&bn(t,e,1,-1)}function rv(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},t.queue=e,e=e.dispatch=IC.bind(null,_t,e),[t.memoizedState,e]}function xl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Z0(){return tn().memoizedState}function $c(e,t,r,n){var s=Rn();_t.flags|=e,s.memoizedState=xl(1|t,r,void 0,n===void 0?null:n)}function nd(e,t,r,n){var s=tn();n=n===void 0?null:n;var a=void 0;if(Ht!==null){var o=Ht.memoizedState;if(a=o.destroy,n!==null&&Wp(n,o.deps)){s.memoizedState=xl(t,r,a,n);return}}_t.flags|=e,s.memoizedState=xl(1|t,r,a,n)}function nv(e,t){return $c(8390656,8,e,t)}function Kp(e,t){return nd(2048,8,e,t)}function Y0(e,t){return nd(4,2,e,t)}function X0(e,t){return nd(4,4,e,t)}function J0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ew(e,t,r){return r=r!=null?r.concat([e]):null,nd(4,4,J0.bind(null,t,e),r)}function Gp(){}function tw(e,t){var r=tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wp(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function rw(e,t){var r=tn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Wp(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nw(e,t,r){return Fa&21?(Nn(r,t)||(r=l0(),_t.lanes|=r,La|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=r)}function AC(e,t){var r=dt;dt=r!==0&&4>r?r:4,e(!0);var n=cf.transition;cf.transition={};try{e(!1),t()}finally{dt=r,cf.transition=n}}function sw(){return tn().memoizedState}function RC(e,t,r){var n=Js(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},aw(e))iw(t,r);else if(r=V0(e,t,r,n),r!==null){var s=xr();bn(r,e,n,s),ow(r,t,n)}}function IC(e,t,r){var n=Js(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(aw(e))iw(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Nn(l,o)){var c=t.interleaved;c===null?(s.next=s,zp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=V0(e,t,s,n),r!==null&&(s=xr(),bn(r,e,n,s),ow(r,t,n))}}function aw(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function iw(e,t){Qo=Nu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ow(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,jp(e,r)}}var Su={readContext:en,useCallback:lr,useContext:lr,useEffect:lr,useImperativeHandle:lr,useInsertionEffect:lr,useLayoutEffect:lr,useMemo:lr,useReducer:lr,useRef:lr,useState:lr,useDebugValue:lr,useDeferredValue:lr,useTransition:lr,useMutableSource:lr,useSyncExternalStore:lr,useId:lr,unstable_isNewReconciler:!1},OC={readContext:en,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:nv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$c(4194308,4,J0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $c(4194308,4,e,t)},useInsertionEffect:function(e,t){return $c(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=RC.bind(null,_t,e),[n.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:rv,useDebugValue:Gp,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=rv(!1),t=e[0];return e=AC.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=_t,s=Rn();if(St){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Zt===null)throw Error(ue(349));Fa&30||H0(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,nv(K0.bind(null,n,a,e),[e]),n.flags|=2048,xl(9,q0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Rn(),t=Zt.identifierPrefix;if(St){var r=as,n=ss;r=(n&~(1<<32-wn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=vl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=PC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},MC={readContext:en,useCallback:tw,useContext:en,useEffect:Kp,useImperativeHandle:ew,useInsertionEffect:Y0,useLayoutEffect:X0,useMemo:rw,useReducer:uf,useRef:Z0,useState:function(){return uf(yl)},useDebugValue:Gp,useDeferredValue:function(e){var t=tn();return nw(t,Ht.memoizedState,e)},useTransition:function(){var e=uf(yl)[0],t=tn().memoizedState;return[e,t]},useMutableSource:B0,useSyncExternalStore:W0,useId:sw,unstable_isNewReconciler:!1},DC={readContext:en,useCallback:tw,useContext:en,useEffect:Kp,useImperativeHandle:ew,useInsertionEffect:Y0,useLayoutEffect:X0,useMemo:rw,useReducer:df,useRef:Z0,useState:function(){return df(yl)},useDebugValue:Gp,useDeferredValue:function(e){var t=tn();return Ht===null?t.memoizedState=e:nw(t,Ht.memoizedState,e)},useTransition:function(){var e=df(yl)[0],t=tn().memoizedState;return[e,t]},useMutableSource:B0,useSyncExternalStore:W0,useId:sw,unstable_isNewReconciler:!1};function un(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gm(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sd={isMounted:function(e){return(e=e._reactInternals)?Wa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=xr(),s=Js(e),a=is(n,s);a.payload=t,r!=null&&(a.callback=r),t=Ys(e,a,s),t!==null&&(bn(t,e,s,n),zc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=xr(),s=Js(e),a=is(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ys(e,a,s),t!==null&&(bn(t,e,s,n),zc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xr(),n=Js(e),s=is(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ys(e,s,n),t!==null&&(bn(t,e,n,r),zc(t,e,n))}};function sv(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!dl(r,n)||!dl(s,a):!0}function lw(e,t,r){var n=!1,s=oa,a=t.contextType;return typeof a=="object"&&a!==null?a=en(a):(s=Ar(t)?Ma:fr.current,n=t.contextTypes,a=(n=n!=null)?Ui(e,s):oa),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=sd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function av(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sd.enqueueReplaceState(t,t.state,null)}function vm(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Vp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=en(a):(a=Ar(t)?Ma:fr.current,s.context=Ui(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gm(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&sd.enqueueReplaceState(s,s.state,null),wu(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qi(e,t){try{var r="",n=t;do r+=uj(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ff(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ym(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function cw(e,t,r){r=is(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ju||(ju=!0,_m=n),ym(e,t)},r}function uw(e,t,r){r=is(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ym(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ym(e,t),typeof n!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function iv(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new FC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=YC.bind(null,e,t,r),t.then(e,e))}function ov(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function lv(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=is(-1,1),t.tag=2,Ys(r,t,1))),r.lanes|=1),e)}var LC=xs.ReactCurrentOwner,Tr=!1;function gr(e,t,r,n){t.child=e===null?z0(t,null,r,n):Wi(t,e.child,r,n)}function cv(e,t,r,n,s){r=r.render;var a=t.ref;return Ci(t,s),n=Hp(e,t,r,n,a,s),r=qp(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ms(e,t,s)):(St&&r&&Ip(t),t.flags|=1,gr(e,t,n,s),t.child)}function uv(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!rh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,dw(e,t,a,n,s)):(e=Hc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:dl,r(o,n)&&e.ref===t.ref)return ms(e,t,s)}return t.flags|=1,e=ea(a,n),e.ref=t.ref,e.return=t,t.child=e}function dw(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(dl(a,n)&&e.ref===t.ref)if(Tr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Tr=!0);else return t.lanes=e.lanes,ms(e,t,s)}return xm(e,t,r,n,s)}function fw(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(xi,Mr),Mr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(xi,Mr),Mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,gt(xi,Mr),Mr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,gt(xi,Mr),Mr|=n;return gr(e,t,s,r),t.child}function mw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xm(e,t,r,n,s){var a=Ar(r)?Ma:fr.current;return a=Ui(t,a),Ci(t,s),r=Hp(e,t,r,n,a,s),n=qp(),e!==null&&!Tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ms(e,t,s)):(St&&n&&Ip(t),t.flags|=1,gr(e,t,r,s),t.child)}function dv(e,t,r,n,s){if(Ar(r)){var a=!0;hu(t)}else a=!1;if(Ci(t,s),t.stateNode===null)Uc(e,t),lw(t,r,n),vm(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=en(d):(d=Ar(r)?Ma:fr.current,d=Ui(t,d));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&av(t,o,n,d),Ps=!1;var p=t.memoizedState;o.state=p,wu(t,n,o,s),c=t.memoizedState,l!==n||p!==c||Pr.current||Ps?(typeof f=="function"&&(gm(t,r,f,n),c=t.memoizedState),(l=Ps||sv(t,r,l,n,p,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,$0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:un(t.type,l),o.props=d,m=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=en(c):(c=Ar(r)?Ma:fr.current,c=Ui(t,c));var h=r.getDerivedStateFromProps;(f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==c)&&av(t,o,n,c),Ps=!1,p=t.memoizedState,o.state=p,wu(t,n,o,s);var b=t.memoizedState;l!==m||p!==b||Pr.current||Ps?(typeof h=="function"&&(gm(t,r,h,n),b=t.memoizedState),(d=Ps||sv(t,r,d,n,p,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return wm(e,t,r,n,a,s)}function wm(e,t,r,n,s,a){mw(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Zg(t,r,!1),ms(e,t,a);n=t.stateNode,LC.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Wi(t,e.child,null,a),t.child=Wi(t,null,l,a)):gr(e,t,l,a),t.memoizedState=n.state,s&&Zg(t,r,!0),t.child}function pw(e){var t=e.stateNode;t.pendingContext?Qg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qg(e,t.context,!1),$p(e,t.containerInfo)}function fv(e,t,r,n,s){return Bi(),Mp(s),t.flags|=256,gr(e,t,r,n),t.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function Nm(e){return{baseLanes:e,cachePool:null,transitions:null}}function hw(e,t,r){var n=t.pendingProps,s=Ct.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),gt(Ct,s&1),e===null)return pm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=od(o,n,0,null),e=Oa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Nm(r),t.memoizedState=bm,e):Qp(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return zC(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ea(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ea(l,a):(a=Oa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Nm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=bm,n}return a=e.child,e=a.sibling,n=ea(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Qp(e,t){return t=od({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function wc(e,t,r,n){return n!==null&&Mp(n),Wi(t,e.child,null,r),e=Qp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zC(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=ff(Error(ue(422))),wc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=od({mode:"visible",children:n.children},s,0,null),a=Oa(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Wi(t,e.child,null,o),t.child.memoizedState=Nm(o),t.memoizedState=bm,a);if(!(t.mode&1))return wc(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ue(419)),n=ff(a,n,void 0),wc(e,t,o,n)}if(l=(o&e.childLanes)!==0,Tr||l){if(n=Zt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,fs(e,s),bn(n,e,s,-1))}return th(),n=ff(Error(ue(421))),wc(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=XC.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Fr=Zs(s.nextSibling),Lr=t,St=!0,hn=null,e!==null&&(Qr[Zr++]=ss,Qr[Zr++]=as,Qr[Zr++]=Da,ss=e.id,as=e.overflow,Da=t),t=Qp(t,n.children),t.flags|=4096,t)}function mv(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hm(e.return,t,r)}function mf(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function gw(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(gr(e,t,n.children,r),n=Ct.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mv(e,r,t);else if(e.tag===19)mv(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(gt(Ct,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&bu(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),mf(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bu(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}mf(t,!0,r,null,a);break;case"together":mf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ms(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=ea(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ea(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function VC(e,t,r){switch(t.tag){case 3:pw(t),Bi();break;case 5:U0(t);break;case 1:Ar(t.type)&&hu(t);break;case 4:$p(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;gt(yu,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(gt(Ct,Ct.current&1),t.flags|=128,null):r&t.child.childLanes?hw(e,t,r):(gt(Ct,Ct.current&1),e=ms(e,t,r),e!==null?e.sibling:null);gt(Ct,Ct.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return gw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(Ct,Ct.current),n)break;return null;case 22:case 23:return t.lanes=0,fw(e,t,r)}return ms(e,t,r)}var vw,Sm,yw,xw;vw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sm=function(){};yw=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Sa(Bn.current);var a=null;switch(r){case"input":s=Hf(e,s),n=Hf(e,n),a=[];break;case"select":s=Tt({},s,{value:void 0}),n=Tt({},n,{value:void 0}),a=[];break;case"textarea":s=Gf(e,s),n=Gf(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=mu)}Zf(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(sl.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(sl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&xt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};xw=function(e,t,r,n){r!==n&&(t.flags|=4)};function To(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function $C(e,t,r){var n=t.pendingProps;switch(Op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(t),null;case 1:return Ar(t.type)&&pu(),cr(t),null;case 3:return n=t.stateNode,Hi(),wt(Pr),wt(fr),Bp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hn!==null&&(Am(hn),hn=null))),Sm(e,t),cr(t),null;case 5:Up(t);var s=Sa(gl.current);if(r=t.type,e!==null&&t.stateNode!=null)yw(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return cr(t),null}if(e=Sa(Bn.current),yc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ln]=t,n[pl]=a,e=(t.mode&1)!==0,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<$o.length;s++)xt($o[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":Ng(n,a),xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},xt("invalid",n);break;case"textarea":kg(n,a),xt("invalid",n)}Zf(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&vc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&vc(n.textContent,l,e),s=["children",""+l]):sl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xt("scroll",n)}switch(r){case"input":cc(n),Sg(n,a,!0);break;case"textarea":cc(n),jg(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=mu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ln]=t,e[pl]=n,vw(e,t,!1,!1),t.stateNode=e;e:{switch(o=Yf(r,n),r){case"dialog":xt("cancel",e),xt("close",e),s=n;break;case"iframe":case"object":case"embed":xt("load",e),s=n;break;case"video":case"audio":for(s=0;s<$o.length;s++)xt($o[s],e);s=n;break;case"source":xt("error",e),s=n;break;case"img":case"image":case"link":xt("error",e),xt("load",e),s=n;break;case"details":xt("toggle",e),s=n;break;case"input":Ng(e,n),s=Hf(e,n),xt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Tt({},n,{value:void 0}),xt("invalid",e);break;case"textarea":kg(e,n),s=Gf(e,n),xt("invalid",e);break;default:s=n}Zf(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Zx(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Gx(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&al(e,c):typeof c=="number"&&al(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(sl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&xt("scroll",e):c!=null&&xp(e,a,c,o))}switch(r){case"input":cc(e),Sg(e,n,!1);break;case"textarea":cc(e),jg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ia(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ni(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ni(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=mu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cr(t),null;case 6:if(e&&t.stateNode!=null)xw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=Sa(gl.current),Sa(Bn.current),yc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ln]=t,(a=n.nodeValue!==r)&&(e=Lr,e!==null))switch(e.tag){case 3:vc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ln]=t,t.stateNode=n}return cr(t),null;case 13:if(wt(Ct),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&Fr!==null&&t.mode&1&&!(t.flags&128))F0(),Bi(),t.flags|=98560,a=!1;else if(a=yc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Ln]=t}else Bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cr(t),a=!1}else hn!==null&&(Am(hn),hn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?qt===0&&(qt=3):th())),t.updateQueue!==null&&(t.flags|=4),cr(t),null);case 4:return Hi(),Sm(e,t),e===null&&fl(t.stateNode.containerInfo),cr(t),null;case 10:return Lp(t.type._context),cr(t),null;case 17:return Ar(t.type)&&pu(),cr(t),null;case 19:if(wt(Ct),a=t.memoizedState,a===null)return cr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)To(a,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bu(e),o!==null){for(t.flags|=128,To(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return gt(Ct,Ct.current&1|2),t.child}e=e.sibling}a.tail!==null&&Dt()>Ki&&(t.flags|=128,n=!0,To(a,!1),t.lanes=4194304)}else{if(!n)if(e=bu(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),To(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!St)return cr(t),null}else 2*Dt()-a.renderingStartTime>Ki&&r!==1073741824&&(t.flags|=128,n=!0,To(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Dt(),t.sibling=null,r=Ct.current,gt(Ct,n?r&1|2:r&1),t):(cr(t),null);case 22:case 23:return eh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mr&1073741824&&(cr(t),t.subtreeFlags&6&&(t.flags|=8192)):cr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function UC(e,t){switch(Op(t),t.tag){case 1:return Ar(t.type)&&pu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hi(),wt(Pr),wt(fr),Bp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Up(t),null;case 13:if(wt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(Ct),null;case 4:return Hi(),null;case 10:return Lp(t.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var bc=!1,dr=!1,BC=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function yi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ot(e,t,n)}else r.current=null}function km(e,t,r){try{r()}catch(n){Ot(e,t,n)}}var pv=!1;function WC(e,t){if(om=uu,e=k0(),Rp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,f=0,m=e,p=null;t:for(;;){for(var h;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==a||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===r&&++d===s&&(l=o),p===a&&++f===n&&(c=o),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(lm={focusedElem:e,selectionRange:r},uu=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var g=b.memoizedProps,w=b.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:un(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(N){Ot(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return b=pv,pv=!1,b}function Zo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&km(t,r,a)}s=s.next}while(s!==n)}}function ad(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jm(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ww(e){var t=e.alternate;t!==null&&(e.alternate=null,ww(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[pl],delete t[dm],delete t[CC],delete t[EC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bw(e){return e.tag===5||e.tag===3||e.tag===4}function hv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=mu));else if(n!==4&&(e=e.child,e!==null))for(Cm(e,t,r),e=e.sibling;e!==null;)Cm(e,t,r),e=e.sibling}function Em(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Em(e,t,r),e=e.sibling;e!==null;)Em(e,t,r),e=e.sibling}var er=null,pn=!1;function ks(e,t,r){for(r=r.child;r!==null;)Nw(e,t,r),r=r.sibling}function Nw(e,t,r){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Yu,r)}catch{}switch(r.tag){case 5:dr||yi(r,t);case 6:var n=er,s=pn;er=null,ks(e,t,r),er=n,pn=s,er!==null&&(pn?(e=er,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):er.removeChild(r.stateNode));break;case 18:er!==null&&(pn?(e=er,r=r.stateNode,e.nodeType===8?af(e.parentNode,r):e.nodeType===1&&af(e,r),cl(e)):af(er,r.stateNode));break;case 4:n=er,s=pn,er=r.stateNode.containerInfo,pn=!0,ks(e,t,r),er=n,pn=s;break;case 0:case 11:case 14:case 15:if(!dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&km(r,t,o),s=s.next}while(s!==n)}ks(e,t,r);break;case 1:if(!dr&&(yi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ot(r,t,l)}ks(e,t,r);break;case 21:ks(e,t,r);break;case 22:r.mode&1?(dr=(n=dr)||r.memoizedState!==null,ks(e,t,r),dr=n):ks(e,t,r);break;default:ks(e,t,r)}}function gv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new BC),t.forEach(function(n){var s=JC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:er=l.stateNode,pn=!1;break e;case 3:er=l.stateNode.containerInfo,pn=!0;break e;case 4:er=l.stateNode.containerInfo,pn=!0;break e}l=l.return}if(er===null)throw Error(ue(160));Nw(a,o,s),er=null,pn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Ot(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sw(t,e),t=t.sibling}function Sw(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),Pn(e),n&4){try{Zo(3,e,e.return),ad(3,e)}catch(g){Ot(e,e.return,g)}try{Zo(5,e,e.return)}catch(g){Ot(e,e.return,g)}}break;case 1:on(t,e),Pn(e),n&512&&r!==null&&yi(r,r.return);break;case 5:if(on(t,e),Pn(e),n&512&&r!==null&&yi(r,r.return),e.flags&32){var s=e.stateNode;try{al(s,"")}catch(g){Ot(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Hx(s,a),Yf(l,o);var d=Yf(l,a);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?Zx(s,m):f==="dangerouslySetInnerHTML"?Gx(s,m):f==="children"?al(s,m):xp(s,f,m,d)}switch(l){case"input":qf(s,a);break;case"textarea":qx(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Ni(s,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ni(s,!!a.multiple,a.defaultValue,!0):Ni(s,!!a.multiple,a.multiple?[]:"",!1))}s[pl]=a}catch(g){Ot(e,e.return,g)}}break;case 6:if(on(t,e),Pn(e),n&4){if(e.stateNode===null)throw Error(ue(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Ot(e,e.return,g)}}break;case 3:if(on(t,e),Pn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cl(t.containerInfo)}catch(g){Ot(e,e.return,g)}break;case 4:on(t,e),Pn(e);break;case 13:on(t,e),Pn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Xp=Dt())),n&4&&gv(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(dr=(d=dr)||f,on(t,e),dr=d):on(t,e),Pn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!f&&e.mode&1)for(Ee=e,f=e.child;f!==null;){for(m=Ee=f;Ee!==null;){switch(p=Ee,h=p.child,p.tag){case 0:case 11:case 14:case 15:Zo(4,p,p.return);break;case 1:yi(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(g){Ot(n,r,g)}}break;case 5:yi(p,p.return);break;case 22:if(p.memoizedState!==null){yv(m);continue}}h!==null?(h.return=p,Ee=h):yv(m)}f=f.sibling}e:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Qx("display",o))}catch(g){Ot(e,e.return,g)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){Ot(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:on(t,e),Pn(e),n&4&&gv(e);break;case 21:break;default:on(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(bw(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(al(s,""),n.flags&=-33);var a=hv(e);Em(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hv(e);Cm(e,l,o);break;default:throw Error(ue(161))}}catch(c){Ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function HC(e,t,r){Ee=e,kw(e)}function kw(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var s=Ee,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||bc;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||dr;l=bc;var d=dr;if(bc=o,(dr=c)&&!d)for(Ee=s;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?xv(s):c!==null?(c.return=o,Ee=c):xv(s);for(;a!==null;)Ee=a,kw(a),a=a.sibling;Ee=s,bc=l,dr=d}vv(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Ee=a):vv(e)}}function vv(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dr||ad(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!dr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:un(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&tv(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}tv(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&cl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}dr||t.flags&512&&jm(t)}catch(p){Ot(t,t.return,p)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function yv(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function xv(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ad(4,t)}catch(c){Ot(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ot(t,s,c)}}var a=t.return;try{jm(t)}catch(c){Ot(t,a,c)}break;case 5:var o=t.return;try{jm(t)}catch(c){Ot(t,o,c)}}}catch(c){Ot(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var qC=Math.ceil,ku=xs.ReactCurrentDispatcher,Zp=xs.ReactCurrentOwner,Xr=xs.ReactCurrentBatchConfig,st=0,Zt=null,$t=null,tr=0,Mr=0,xi=ma(0),qt=0,wl=null,La=0,id=0,Yp=0,Yo=null,_r=null,Xp=0,Ki=1/0,ts=null,ju=!1,_m=null,Xs=null,Nc=!1,Ws=null,Cu=0,Xo=0,Tm=null,Bc=-1,Wc=0;function xr(){return st&6?Dt():Bc!==-1?Bc:Bc=Dt()}function Js(e){return e.mode&1?st&2&&tr!==0?tr&-tr:TC.transition!==null?(Wc===0&&(Wc=l0()),Wc):(e=dt,e!==0||(e=window.event,e=e===void 0?16:h0(e.type)),e):1}function bn(e,t,r,n){if(50<Xo)throw Xo=0,Tm=null,Error(ue(185));Ml(e,r,n),(!(st&2)||e!==Zt)&&(e===Zt&&(!(st&2)&&(id|=r),qt===4&&Os(e,tr)),Rr(e,n),r===1&&st===0&&!(t.mode&1)&&(Ki=Dt()+500,rd&&pa()))}function Rr(e,t){var r=e.callbackNode;Tj(e,t);var n=cu(e,e===Zt?tr:0);if(n===0)r!==null&&_g(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_g(r),t===1)e.tag===0?_C(wv.bind(null,e)):O0(wv.bind(null,e)),kC(function(){!(st&6)&&pa()}),r=null;else{switch(c0(n)){case 1:r=kp;break;case 4:r=i0;break;case 16:r=lu;break;case 536870912:r=o0;break;default:r=lu}r=Rw(r,jw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jw(e,t){if(Bc=-1,Wc=0,st&6)throw Error(ue(327));var r=e.callbackNode;if(Ei()&&e.callbackNode!==r)return null;var n=cu(e,e===Zt?tr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Eu(e,n);else{t=n;var s=st;st|=2;var a=Ew();(Zt!==e||tr!==t)&&(ts=null,Ki=Dt()+500,Ia(e,t));do try{QC();break}catch(l){Cw(e,l)}while(!0);Fp(),ku.current=a,st=s,$t!==null?t=0:(Zt=null,tr=0,t=qt)}if(t!==0){if(t===2&&(s=rm(e),s!==0&&(n=s,t=Pm(e,s))),t===1)throw r=wl,Ia(e,0),Os(e,n),Rr(e,Dt()),r;if(t===6)Os(e,n);else{if(s=e.current.alternate,!(n&30)&&!KC(s)&&(t=Eu(e,n),t===2&&(a=rm(e),a!==0&&(n=a,t=Pm(e,a))),t===1))throw r=wl,Ia(e,0),Os(e,n),Rr(e,Dt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:xa(e,_r,ts);break;case 3:if(Os(e,n),(n&130023424)===n&&(t=Xp+500-Dt(),10<t)){if(cu(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){xr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=um(xa.bind(null,e,_r,ts),t);break}xa(e,_r,ts);break;case 4:if(Os(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-wn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qC(n/1960))-n,10<n){e.timeoutHandle=um(xa.bind(null,e,_r,ts),n);break}xa(e,_r,ts);break;case 5:xa(e,_r,ts);break;default:throw Error(ue(329))}}}return Rr(e,Dt()),e.callbackNode===r?jw.bind(null,e):null}function Pm(e,t){var r=Yo;return e.current.memoizedState.isDehydrated&&(Ia(e,t).flags|=256),e=Eu(e,t),e!==2&&(t=_r,_r=r,t!==null&&Am(t)),e}function Am(e){_r===null?_r=e:_r.push.apply(_r,e)}function KC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Nn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Os(e,t){for(t&=~Yp,t&=~id,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wn(t),n=1<<r;e[r]=-1,t&=~n}}function wv(e){if(st&6)throw Error(ue(327));Ei();var t=cu(e,0);if(!(t&1))return Rr(e,Dt()),null;var r=Eu(e,t);if(e.tag!==0&&r===2){var n=rm(e);n!==0&&(t=n,r=Pm(e,n))}if(r===1)throw r=wl,Ia(e,0),Os(e,t),Rr(e,Dt()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xa(e,_r,ts),Rr(e,Dt()),null}function Jp(e,t){var r=st;st|=1;try{return e(t)}finally{st=r,st===0&&(Ki=Dt()+500,rd&&pa())}}function za(e){Ws!==null&&Ws.tag===0&&!(st&6)&&Ei();var t=st;st|=1;var r=Xr.transition,n=dt;try{if(Xr.transition=null,dt=1,e)return e()}finally{dt=n,Xr.transition=r,st=t,!(st&6)&&pa()}}function eh(){Mr=xi.current,wt(xi)}function Ia(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,SC(r)),$t!==null)for(r=$t.return;r!==null;){var n=r;switch(Op(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pu();break;case 3:Hi(),wt(Pr),wt(fr),Bp();break;case 5:Up(n);break;case 4:Hi();break;case 13:wt(Ct);break;case 19:wt(Ct);break;case 10:Lp(n.type._context);break;case 22:case 23:eh()}r=r.return}if(Zt=e,$t=e=ea(e.current,null),tr=Mr=t,qt=0,wl=null,Yp=id=La=0,_r=Yo=null,Na!==null){for(t=0;t<Na.length;t++)if(r=Na[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Na=null}return e}function Cw(e,t){do{var r=$t;try{if(Fp(),Vc.current=Su,Nu){for(var n=_t.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Nu=!1}if(Fa=0,Qt=Ht=_t=null,Qo=!1,vl=0,Zp.current=null,r===null||r.return===null){qt=1,wl=t,$t=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=tr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=ov(o);if(h!==null){h.flags&=-257,lv(h,o,l,a,t),h.mode&1&&iv(a,d,t),t=h,c=d;var b=t.updateQueue;if(b===null){var g=new Set;g.add(c),t.updateQueue=g}else b.add(c);break e}else{if(!(t&1)){iv(a,d,t),th();break e}c=Error(ue(426))}}else if(St&&l.mode&1){var w=ov(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),lv(w,o,l,a,t),Mp(qi(c,l));break e}}a=c=qi(c,l),qt!==4&&(qt=2),Yo===null?Yo=[a]:Yo.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=cw(a,c,t);ev(a,y);break e;case 1:l=c;var v=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Xs===null||!Xs.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=uw(a,l,t);ev(a,N);break e}}a=a.return}while(a!==null)}Tw(r)}catch(S){t=S,$t===r&&r!==null&&($t=r=r.return);continue}break}while(!0)}function Ew(){var e=ku.current;return ku.current=Su,e===null?Su:e}function th(){(qt===0||qt===3||qt===2)&&(qt=4),Zt===null||!(La&268435455)&&!(id&268435455)||Os(Zt,tr)}function Eu(e,t){var r=st;st|=2;var n=Ew();(Zt!==e||tr!==t)&&(ts=null,Ia(e,t));do try{GC();break}catch(s){Cw(e,s)}while(!0);if(Fp(),st=r,ku.current=n,$t!==null)throw Error(ue(261));return Zt=null,tr=0,qt}function GC(){for(;$t!==null;)_w($t)}function QC(){for(;$t!==null&&!wj();)_w($t)}function _w(e){var t=Aw(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?Tw(e):$t=t,Zp.current=null}function Tw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=UC(r,t),r!==null){r.flags&=32767,$t=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,$t=null;return}}else if(r=$C(r,t,Mr),r!==null){$t=r;return}if(t=t.sibling,t!==null){$t=t;return}$t=t=e}while(t!==null);qt===0&&(qt=5)}function xa(e,t,r){var n=dt,s=Xr.transition;try{Xr.transition=null,dt=1,ZC(e,t,r,n)}finally{Xr.transition=s,dt=n}return null}function ZC(e,t,r,n){do Ei();while(Ws!==null);if(st&6)throw Error(ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Pj(e,a),e===Zt&&($t=Zt=null,tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nc||(Nc=!0,Rw(lu,function(){return Ei(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Xr.transition,Xr.transition=null;var o=dt;dt=1;var l=st;st|=4,Zp.current=null,WC(e,r),Sw(r,e),gC(lm),uu=!!om,lm=om=null,e.current=r,HC(r),bj(),st=l,dt=o,Xr.transition=a}else e.current=r;if(Nc&&(Nc=!1,Ws=e,Cu=s),a=e.pendingLanes,a===0&&(Xs=null),kj(r.stateNode),Rr(e,Dt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ju)throw ju=!1,e=_m,_m=null,e;return Cu&1&&e.tag!==0&&Ei(),a=e.pendingLanes,a&1?e===Tm?Xo++:(Xo=0,Tm=e):Xo=0,pa(),null}function Ei(){if(Ws!==null){var e=c0(Cu),t=Xr.transition,r=dt;try{if(Xr.transition=null,dt=16>e?16:e,Ws===null)var n=!1;else{if(e=Ws,Ws=null,Cu=0,st&6)throw Error(ue(331));var s=st;for(st|=4,Ee=e.current;Ee!==null;){var a=Ee,o=a.child;if(Ee.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(Ee=d;Ee!==null;){var f=Ee;switch(f.tag){case 0:case 11:case 15:Zo(8,f,a)}var m=f.child;if(m!==null)m.return=f,Ee=m;else for(;Ee!==null;){f=Ee;var p=f.sibling,h=f.return;if(ww(f),f===d){Ee=null;break}if(p!==null){p.return=h,Ee=p;break}Ee=h}}}var b=a.alternate;if(b!==null){var g=b.child;if(g!==null){b.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}Ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ee=o;else e:for(;Ee!==null;){if(a=Ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Zo(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ee=y;break e}Ee=a.return}}var v=e.current;for(Ee=v;Ee!==null;){o=Ee;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Ee=x;else e:for(o=v;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ad(9,l)}}catch(S){Ot(l,l.return,S)}if(l===o){Ee=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Ee=N;break e}Ee=l.return}}if(st=s,pa(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Yu,e)}catch{}n=!0}return n}finally{dt=r,Xr.transition=t}}return!1}function bv(e,t,r){t=qi(r,t),t=cw(e,t,1),e=Ys(e,t,1),t=xr(),e!==null&&(Ml(e,1,t),Rr(e,t))}function Ot(e,t,r){if(e.tag===3)bv(e,e,r);else for(;t!==null;){if(t.tag===3){bv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xs===null||!Xs.has(n))){e=qi(r,e),e=uw(t,e,1),t=Ys(t,e,1),e=xr(),t!==null&&(Ml(t,1,e),Rr(t,e));break}}t=t.return}}function YC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=xr(),e.pingedLanes|=e.suspendedLanes&r,Zt===e&&(tr&r)===r&&(qt===4||qt===3&&(tr&130023424)===tr&&500>Dt()-Xp?Ia(e,0):Yp|=r),Rr(e,t)}function Pw(e,t){t===0&&(e.mode&1?(t=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):t=1);var r=xr();e=fs(e,t),e!==null&&(Ml(e,t,r),Rr(e,r))}function XC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Pw(e,r)}function JC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),Pw(e,r)}var Aw;Aw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pr.current)Tr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Tr=!1,VC(e,t,r);Tr=!!(e.flags&131072)}else Tr=!1,St&&t.flags&1048576&&M0(t,vu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Uc(e,t),e=t.pendingProps;var s=Ui(t,fr.current);Ci(t,r),s=Hp(null,t,n,e,s,r);var a=qp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ar(n)?(a=!0,hu(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vp(t),s.updater=sd,t.stateNode=s,s._reactInternals=t,vm(t,n,e,r),t=wm(null,t,n,!0,a,r)):(t.tag=0,St&&a&&Ip(t),gr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Uc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=t2(n),e=un(n,e),s){case 0:t=xm(null,t,n,e,r);break e;case 1:t=dv(null,t,n,e,r);break e;case 11:t=cv(null,t,n,e,r);break e;case 14:t=uv(null,t,n,un(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:un(n,s),xm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:un(n,s),dv(e,t,n,s,r);case 3:e:{if(pw(t),e===null)throw Error(ue(387));n=t.pendingProps,a=t.memoizedState,s=a.element,$0(e,t),wu(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=qi(Error(ue(423)),t),t=fv(e,t,n,r,s);break e}else if(n!==s){s=qi(Error(ue(424)),t),t=fv(e,t,n,r,s);break e}else for(Fr=Zs(t.stateNode.containerInfo.firstChild),Lr=t,St=!0,hn=null,r=z0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bi(),n===s){t=ms(e,t,r);break e}gr(e,t,n,r)}t=t.child}return t;case 5:return U0(t),e===null&&pm(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,cm(n,s)?o=null:a!==null&&cm(n,a)&&(t.flags|=32),mw(e,t),gr(e,t,o,r),t.child;case 6:return e===null&&pm(t),null;case 13:return hw(e,t,r);case 4:return $p(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Wi(t,null,n,r):gr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:un(n,s),cv(e,t,n,s,r);case 7:return gr(e,t,t.pendingProps,r),t.child;case 8:return gr(e,t,t.pendingProps.children,r),t.child;case 12:return gr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,gt(yu,n._currentValue),n._currentValue=o,a!==null)if(Nn(a.value,o)){if(a.children===s.children&&!Pr.current){t=ms(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=is(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),hm(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ue(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),hm(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}gr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ci(t,r),s=en(s),n=n(s),t.flags|=1,gr(e,t,n,r),t.child;case 14:return n=t.type,s=un(n,t.pendingProps),s=un(n.type,s),uv(e,t,n,s,r);case 15:return dw(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:un(n,s),Uc(e,t),t.tag=1,Ar(n)?(e=!0,hu(t)):e=!1,Ci(t,r),lw(t,n,s),vm(t,n,s,r),wm(null,t,n,!0,e,r);case 19:return gw(e,t,r);case 22:return fw(e,t,r)}throw Error(ue(156,t.tag))};function Rw(e,t){return a0(e,t)}function e2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(e,t,r,n){return new e2(e,t,r,n)}function rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function t2(e){if(typeof e=="function")return rh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bp)return 11;if(e===Np)return 14}return 2}function ea(e,t){var r=e.alternate;return r===null?(r=Yr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")rh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ci:return Oa(r.children,s,a,t);case wp:o=8,s|=8;break;case $f:return e=Yr(12,r,t,s|2),e.elementType=$f,e.lanes=a,e;case Uf:return e=Yr(13,r,t,s),e.elementType=Uf,e.lanes=a,e;case Bf:return e=Yr(19,r,t,s),e.elementType=Bf,e.lanes=a,e;case Ux:return od(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vx:o=10;break e;case $x:o=9;break e;case bp:o=11;break e;case Np:o=14;break e;case Ts:o=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=Yr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Oa(e,t,r,n){return e=Yr(7,e,n,t),e.lanes=r,e}function od(e,t,r,n){return e=Yr(22,e,n,t),e.elementType=Ux,e.lanes=r,e.stateNode={isHidden:!1},e}function pf(e,t,r){return e=Yr(6,e,null,t),e.lanes=r,e}function hf(e,t,r){return t=Yr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function nh(e,t,r,n,s,a,o,l,c){return e=new r2(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Yr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vp(a),e}function n2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:li,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Iw(e){if(!e)return oa;e=e._reactInternals;e:{if(Wa(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ar(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Ar(r))return I0(e,r,t)}return t}function Ow(e,t,r,n,s,a,o,l,c){return e=nh(r,n,!0,e,s,a,o,l,c),e.context=Iw(null),r=e.current,n=xr(),s=Js(r),a=is(n,s),a.callback=t??null,Ys(r,a,s),e.current.lanes=s,Ml(e,s,n),Rr(e,n),e}function ld(e,t,r,n){var s=t.current,a=xr(),o=Js(s);return r=Iw(r),t.context===null?t.context=r:t.pendingContext=r,t=is(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ys(s,t,o),e!==null&&(bn(e,s,o,a),zc(e,s,o)),o}function _u(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sh(e,t){Nv(e,t),(e=e.alternate)&&Nv(e,t)}function s2(){return null}var Mw=typeof reportError=="function"?reportError:function(e){console.error(e)};function ah(e){this._internalRoot=e}cd.prototype.render=ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));ld(e,t,null,null)};cd.prototype.unmount=ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;za(function(){ld(null,e,null,null)}),t[ds]=null}};function cd(e){this._internalRoot=e}cd.prototype.unstable_scheduleHydration=function(e){if(e){var t=f0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Is.length&&t!==0&&t<Is[r].priority;r++);Is.splice(r,0,e),r===0&&p0(e)}};function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ud(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function a2(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=_u(o);a.call(d)}}var o=Ow(t,n,e,0,null,!1,!1,"",Sv);return e._reactRootContainer=o,e[ds]=o.current,fl(e.nodeType===8?e.parentNode:e),za(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=_u(c);l.call(d)}}var c=nh(e,0,!1,null,null,!1,!1,"",Sv);return e._reactRootContainer=c,e[ds]=c.current,fl(e.nodeType===8?e.parentNode:e),za(function(){ld(t,c,r,n)}),c}function dd(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=_u(o);l.call(c)}}ld(t,o,e,s)}else o=a2(r,t,e,s,n);return _u(o)}u0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Vo(t.pendingLanes);r!==0&&(jp(t,r|1),Rr(t,Dt()),!(st&6)&&(Ki=Dt()+500,pa()))}break;case 13:za(function(){var n=fs(e,1);if(n!==null){var s=xr();bn(n,e,1,s)}}),sh(e,1)}};Cp=function(e){if(e.tag===13){var t=fs(e,134217728);if(t!==null){var r=xr();bn(t,e,134217728,r)}sh(e,134217728)}};d0=function(e){if(e.tag===13){var t=Js(e),r=fs(e,t);if(r!==null){var n=xr();bn(r,e,t,n)}sh(e,t)}};f0=function(){return dt};m0=function(e,t){var r=dt;try{return dt=e,t()}finally{dt=r}};Jf=function(e,t,r){switch(t){case"input":if(qf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=td(n);if(!s)throw Error(ue(90));Wx(n),qf(n,s)}}}break;case"textarea":qx(e,r);break;case"select":t=r.value,t!=null&&Ni(e,!!r.multiple,t,!1)}};Jx=Jp;e0=za;var i2={usingClientEntryPoint:!1,Events:[Fl,mi,td,Yx,Xx,Jp]},Po={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o2={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=n0(e),e===null?null:e.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||s2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Yu=Sc.inject(o2),Un=Sc}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i2;Ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ih(t))throw Error(ue(200));return n2(e,t,null,r)};Ur.createRoot=function(e,t){if(!ih(e))throw Error(ue(299));var r=!1,n="",s=Mw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=nh(e,1,!1,null,null,r,!1,n,s),e[ds]=t.current,fl(e.nodeType===8?e.parentNode:e),new ah(t)};Ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=n0(t),e=e===null?null:e.stateNode,e};Ur.flushSync=function(e){return za(e)};Ur.hydrate=function(e,t,r){if(!ud(t))throw Error(ue(200));return dd(null,e,t,!0,r)};Ur.hydrateRoot=function(e,t,r){if(!ih(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Mw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Ow(t,null,e,1,r??null,s,!1,a,o),e[ds]=t.current,fl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new cd(t)};Ur.render=function(e,t,r){if(!ud(t))throw Error(ue(200));return dd(null,e,t,!1,r)};Ur.unmountComponentAtNode=function(e){if(!ud(e))throw Error(ue(40));return e._reactRootContainer?(za(function(){dd(null,null,e,!1,function(){e._reactRootContainer=null,e[ds]=null})}),!0):!1};Ur.unstable_batchedUpdates=Jp;Ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ud(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return dd(e,t,r,!1,n)};Ur.version="18.3.1-next-f1338f8080-20240426";function Dw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dw)}catch(e){console.error(e)}}Dw(),Dx.exports=Ur;var zl=Dx.exports;const Fw=kx(zl);var Lw,kv=zl;Lw=kv.createRoot,kv.hydrateRoot;const l2=1,c2=1e6;let gf=0;function u2(){return gf=(gf+1)%Number.MAX_SAFE_INTEGER,gf.toString()}const vf=new Map,jv=e=>{if(vf.has(e))return;const t=setTimeout(()=>{vf.delete(e),Jo({type:"REMOVE_TOAST",toastId:e})},c2);vf.set(e,t)},d2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,l2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?jv(r):e.toasts.forEach(n=>{jv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qc=[];let Kc={toasts:[]};function Jo(e){Kc=d2(Kc,e),qc.forEach(t=>{t(Kc)})}function zw({...e}){const t=u2(),r=s=>Jo({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Jo({type:"DISMISS_TOAST",toastId:t});return Jo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Cn(){const[e,t]=u.useState(Kc);return u.useEffect(()=>(qc.push(t),()=>{const r=qc.indexOf(t);r>-1&&qc.splice(r,1)}),[e]),{...e,toast:zw,dismiss:r=>Jo({type:"DISMISS_TOAST",toastId:r})}}function He(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Cv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vw(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Cv(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Cv(e[s],null)}}}}function mt(...e){return u.useCallback(Vw(...e),e)}function f2(e,t){const r=u.createContext(t),n=a=>{const{children:o,...l}=a,c=u.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=u.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function rn(e,t=[]){let r=[];function n(a,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=m=>{var y;const{scope:p,children:h,...b}=m,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,w=u.useMemo(()=>b,Object.values(b));return i.jsx(g.Provider,{value:w,children:h})};d.displayName=a+"Provider";function f(m,p){var g;const h=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,b=u.useContext(h);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const s=()=>{const a=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,m2(s,...t)]}function m2(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const m=c(a)[`__scope${d}`];return{...l,...m}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function bl(e){const t=h2(e),r=u.forwardRef((n,s)=>{const{children:a,...o}=n,l=u.Children.toArray(a),c=l.find(g2);if(c){const d=c.props.children,f=l.map(m=>m===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var p2=bl("Slot");function h2(e){const t=u.forwardRef((r,n)=>{const{children:s,...a}=r;if(u.isValidElement(s)){const o=y2(s),l=v2(a,s.props);return s.type!==u.Fragment&&(l.ref=n?Vw(n,o):o),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $w=Symbol("radix.slottable");function Uw(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=$w,t}function g2(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$w}function v2(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function y2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function oh(e){const t=e+"CollectionProvider",[r,n]=rn(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,v=se.useRef(null),x=se.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:x,collectionRef:v,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=bl(l),d=se.forwardRef((g,w)=>{const{scope:y,children:v}=g,x=a(l,y),N=mt(w,x.collectionRef);return i.jsx(c,{ref:N,children:v})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",p=bl(f),h=se.forwardRef((g,w)=>{const{scope:y,children:v,...x}=g,N=se.useRef(null),S=mt(w,N),C=a(f,y);return se.useEffect(()=>(C.itemMap.set(N,{ref:N,...x}),()=>void C.itemMap.delete(N))),i.jsx(p,{[m]:"",ref:S,children:v})});h.displayName=f;function b(g){const w=a(e+"CollectionConsumer",g);return se.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((C,j)=>x.indexOf(C.ref.current)-x.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},b,n]}var x2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=x2.reduce((e,t)=>{const r=bl(`Primitive.${t}`),n=u.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Bw(e,t){e&&zl.flushSync(()=>e.dispatchEvent(t))}function Sn(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function w2(e,t=globalThis==null?void 0:globalThis.document){const r=Sn(e);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var b2="DismissableLayer",Rm="dismissableLayer.update",N2="dismissableLayer.pointerDownOutside",S2="dismissableLayer.focusOutside",Ev,Ww=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fd=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(Ww),[f,m]=u.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=u.useState({}),b=mt(t,j=>m(j)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(w),v=f?g.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,N=v>=y,S=j2(j=>{const A=j.target,M=[...d.branches].some(T=>T.contains(A));!N||M||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},p),C=C2(j=>{const A=j.target;[...d.branches].some(T=>T.contains(A))||(a==null||a(j),o==null||o(j),j.defaultPrevented||l==null||l())},p);return w2(j=>{v===d.layers.size-1&&(n==null||n(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},p),u.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ev=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),_v(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Ev)}},[f,p,r,d]),u.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),_v())},[f,d]),u.useEffect(()=>{const j=()=>h({});return document.addEventListener(Rm,j),()=>document.removeEventListener(Rm,j)},[]),i.jsx(Ze.div,{...c,ref:b,style:{pointerEvents:x?N?"auto":"none":void 0,...e.style},onFocusCapture:He(e.onFocusCapture,C.onFocusCapture),onBlurCapture:He(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:He(e.onPointerDownCapture,S.onPointerDownCapture)})});fd.displayName=b2;var k2="DismissableLayerBranch",Hw=u.forwardRef((e,t)=>{const r=u.useContext(Ww),n=u.useRef(null),s=mt(t,n);return u.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Ze.div,{...e,ref:s})});Hw.displayName=k2;function j2(e,t=globalThis==null?void 0:globalThis.document){const r=Sn(e),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){qw(N2,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function C2(e,t=globalThis==null?void 0:globalThis.document){const r=Sn(e),n=u.useRef(!1);return u.useEffect(()=>{const s=a=>{a.target&&!n.current&&qw(S2,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _v(){const e=new CustomEvent(Rm);document.dispatchEvent(e)}function qw(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Bw(s,a):s.dispatchEvent(a)}var E2=fd,_2=Hw,ps=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},T2="Portal",lh=u.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=u.useState(!1);ps(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Fw.createPortal(i.jsx(Ze.div,{...n,ref:t}),o):null});lh.displayName=T2;function P2(e,t){return u.useReducer((r,n)=>t[r][n]??r,e)}var ha=e=>{const{present:t,children:r}=e,n=A2(t),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),a=mt(n.ref,R2(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:a}):null};ha.displayName="Presence";function A2(e){const[t,r]=u.useState(),n=u.useRef(null),s=u.useRef(e),a=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=P2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=kc(n.current);a.current=l==="mounted"?d:"none"},[l]),ps(()=>{const d=n.current,f=s.current;if(f!==e){const p=a.current,h=kc(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ps(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=h=>{const g=kc(n.current).includes(h.animationName);if(h.target===t&&g&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=h=>{h.target===t&&(a.current=kc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function kc(e){return(e==null?void 0:e.animationName)||"none"}function R2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var I2=gp[" useInsertionEffect ".trim().toString()]||ps;function Ha({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=O2({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const f=u.useRef(e!==void 0);u.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const d=u.useCallback(f=>{var m;if(l){const p=M2(f)?f(e):f;p!==e&&((m=o.current)==null||m.call(o,p))}else a(f)},[l,e,a,o]);return[c,d]}function O2({defaultProp:e,onChange:t}){const[r,n]=u.useState(e),s=u.useRef(r),a=u.useRef(t);return I2(()=>{a.current=t},[t]),u.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function M2(e){return typeof e=="function"}var D2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),F2="VisuallyHidden",md=u.forwardRef((e,t)=>i.jsx(Ze.span,{...e,ref:t,style:{...D2,...e.style}}));md.displayName=F2;var L2=md,ch="ToastProvider",[uh,z2,V2]=oh("Toast"),[Kw,lM]=rn("Toast",[V2]),[$2,pd]=Kw(ch),Gw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=u.useState(null),[d,f]=u.useState(0),m=u.useRef(!1),p=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${ch}\`. Expected non-empty \`string\`.`),i.jsx(uh.Provider,{scope:t,children:i.jsx($2,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>f(h=>h+1),[]),onToastRemove:u.useCallback(()=>f(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:p,children:o})})};Gw.displayName=ch;var Qw="ToastViewport",U2=["F8"],Im="toast.viewportPause",Om="toast.viewportResume",Zw=u.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=U2,label:s="Notifications ({hotkey})",...a}=e,o=pd(Qw,r),l=z2(r),c=u.useRef(null),d=u.useRef(null),f=u.useRef(null),m=u.useRef(null),p=mt(t,m,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;u.useEffect(()=>{const w=y=>{var x;n.length!==0&&n.every(N=>y[N]||y.code===N)&&((x=m.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),u.useEffect(()=>{const w=c.current,y=m.current;if(b&&w&&y){const v=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Im);y.dispatchEvent(C),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(Om);y.dispatchEvent(C),o.isClosePausedRef.current=!1}},N=C=>{!w.contains(C.relatedTarget)&&x()},S=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",v),w.addEventListener("focusout",N),w.addEventListener("pointermove",v),w.addEventListener("pointerleave",S),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",v),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",v),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[b,o.isClosePausedRef]);const g=u.useCallback(({tabbingDirection:w})=>{const v=l().map(x=>{const N=x.ref.current,S=[N,...tE(N)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?v.reverse():v).flat()},[l]);return u.useEffect(()=>{const w=m.current;if(w){const y=v=>{var S,C,j;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const A=document.activeElement,M=v.shiftKey;if(v.target===w&&M){(S=d.current)==null||S.focus();return}const R=g({tabbingDirection:M?"backwards":"forwards"}),V=R.findIndex(L=>L===A);yf(R.slice(V+1))?v.preventDefault():M?(C=d.current)==null||C.focus():(j=f.current)==null||j.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,g]),i.jsxs(_2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&i.jsx(Mm,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});yf(w)}}),i.jsx(uh.Slot,{scope:r,children:i.jsx(Ze.ol,{tabIndex:-1,...a,ref:p})}),b&&i.jsx(Mm,{ref:f,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});yf(w)}})]})});Zw.displayName=Qw;var Yw="ToastFocusProxy",Mm=u.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=pd(Yw,r);return i.jsx(md,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});Mm.displayName=Yw;var Vl="Toast",B2="toast.swipeStart",W2="toast.swipeMove",H2="toast.swipeCancel",q2="toast.swipeEnd",Xw=u.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=Ha({prop:n,defaultProp:s??!0,onChange:a,caller:Vl});return i.jsx(ha,{present:r||l,children:i.jsx(Q2,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Sn(e.onPause),onResume:Sn(e.onResume),onSwipeStart:He(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:He(e.onSwipeMove,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:He(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:He(e.onSwipeEnd,d=>{const{x:f,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});Xw.displayName=Vl;var[K2,G2]=Kw(Vl,{onClose(){}}),Q2=u.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:f,onSwipeMove:m,onSwipeCancel:p,onSwipeEnd:h,...b}=e,g=pd(Vl,r),[w,y]=u.useState(null),v=mt(t,L=>y(L)),x=u.useRef(null),N=u.useRef(null),S=s||g.duration,C=u.useRef(0),j=u.useRef(S),A=u.useRef(0),{onToastAdd:M,onToastRemove:T}=g,F=Sn(()=>{var le;(w==null?void 0:w.contains(document.activeElement))&&((le=g.viewport)==null||le.focus()),o()}),R=u.useCallback(L=>{!L||L===1/0||(window.clearTimeout(A.current),C.current=new Date().getTime(),A.current=window.setTimeout(F,L))},[F]);u.useEffect(()=>{const L=g.viewport;if(L){const le=()=>{R(j.current),d==null||d()},re=()=>{const X=new Date().getTime()-C.current;j.current=j.current-X,window.clearTimeout(A.current),c==null||c()};return L.addEventListener(Im,re),L.addEventListener(Om,le),()=>{L.removeEventListener(Im,re),L.removeEventListener(Om,le)}}},[g.viewport,S,c,d,R]),u.useEffect(()=>{a&&!g.isClosePausedRef.current&&R(S)},[a,S,g.isClosePausedRef,R]),u.useEffect(()=>(M(),()=>T()),[M,T]);const V=u.useMemo(()=>w?ab(w):null,[w]);return g.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(Z2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),i.jsx(K2,{scope:r,onClose:F,children:zl.createPortal(i.jsx(uh.ItemSlot,{scope:r,children:i.jsx(E2,{asChild:!0,onEscapeKeyDown:He(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||F(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:He(e.onKeyDown,L=>{L.key==="Escape"&&(l==null||l(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:He(e.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:He(e.onPointerMove,L=>{if(!x.current)return;const le=L.clientX-x.current.x,re=L.clientY-x.current.y,X=!!N.current,P=["left","right"].includes(g.swipeDirection),E=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,K=P?E(0,le):0,O=P?0:E(0,re),de=L.pointerType==="touch"?10:2,G={x:K,y:O},Se={originalEvent:L,delta:G};X?(N.current=G,jc(W2,m,Se,{discrete:!1})):Tv(G,g.swipeDirection,de)?(N.current=G,jc(B2,f,Se,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(le)>de||Math.abs(re)>de)&&(x.current=null)}),onPointerUp:He(e.onPointerUp,L=>{const le=N.current,re=L.target;if(re.hasPointerCapture(L.pointerId)&&re.releasePointerCapture(L.pointerId),N.current=null,x.current=null,le){const X=L.currentTarget,P={originalEvent:L,delta:le};Tv(le,g.swipeDirection,g.swipeThreshold)?jc(q2,h,P,{discrete:!0}):jc(H2,p,P,{discrete:!0}),X.addEventListener("click",E=>E.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Z2=e=>{const{__scopeToast:t,children:r,...n}=e,s=pd(Vl,t),[a,o]=u.useState(!1),[l,c]=u.useState(!1);return J2(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(lh,{asChild:!0,children:i.jsx(md,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},Y2="ToastTitle",Jw=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ze.div,{...n,ref:t})});Jw.displayName=Y2;var X2="ToastDescription",eb=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(Ze.div,{...n,ref:t})});eb.displayName=X2;var tb="ToastAction",rb=u.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(sb,{altText:r,asChild:!0,children:i.jsx(dh,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${tb}\`. Expected non-empty \`string\`.`),null)});rb.displayName=tb;var nb="ToastClose",dh=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=G2(nb,r);return i.jsx(sb,{asChild:!0,children:i.jsx(Ze.button,{type:"button",...n,ref:t,onClick:He(e.onClick,s.onClose)})})});dh.displayName=nb;var sb=u.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function ab(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),eE(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...ab(n))}}),t}function jc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Bw(s,a):s.dispatchEvent(a)}var Tv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function J2(e=()=>{}){const t=Sn(e);ps(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function eE(e){return e.nodeType===e.ELEMENT_NODE}function tE(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function yf(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var rE=Gw,ib=Zw,ob=Xw,lb=Jw,cb=eb,ub=rb,db=dh;function fb(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=fb(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function mb(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=fb(e))&&(n&&(n+=" "),n+=t);return n}const Pv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Av=mb,hd=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Av(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const f=r==null?void 0:r[d],m=a==null?void 0:a[d];if(f===null)return null;const p=Pv(f)||Pv(m);return s[d][p]}),l=r&&Object.entries(r).reduce((d,f)=>{let[m,p]=f;return p===void 0||(d[m]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,f)=>{let{class:m,className:p,...h}=f;return Object.entries(h).every(b=>{let[g,w]=b;return Array.isArray(w)?w.includes({...a,...l}[g]):{...a,...l}[g]===w})?[...d,m,p]:d},[]);return Av(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pb=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...sE,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:pb("lucide",s),...l},[...o.map(([d,f])=>u.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(e,t)=>{const r=u.forwardRef(({className:n,...s},a)=>u.createElement(aE,{ref:a,iconNode:t,className:pb(`lucide-${nE(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=Te("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=Te("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=Te("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=Te("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Te("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Te("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Te("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=Te("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Te("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=Te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=Te("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Te("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Te("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=Te("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=Te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Te("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Te("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=Te("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=Te("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=Te("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Te("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Te("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Te("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Te("MonitorSpeaker",[["path",{d:"M5.5 20H8",key:"1k40s5"}],["path",{d:"M17 9h.01",key:"1j24nn"}],["rect",{width:"10",height:"16",x:"12",y:"4",rx:"2",key:"ixliua"}],["path",{d:"M8 6H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4",key:"1mp6e1"}],["circle",{cx:"17",cy:"15",r:"1",key:"tqvash"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Te("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Te("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=Te("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Te("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Te("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=Te("Router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Te("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Te("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Te("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Te("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=Te("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=Te("SignalHigh",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=Te("SignalLow",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=Te("SignalMedium",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Te("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Te("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Te("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=Te("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=Te("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Te("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Te("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ph="-",AE=e=>{const t=IE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ph);return l[0]===""&&l.length!==1&&l.shift(),Sb(l,t)||RE(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Sb=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Sb(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(ph);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Vv=/^\[(.+)\]$/,RE=e=>{if(Vv.test(e)){const t=Vv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},IE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ME(Object.entries(e.classGroups),r).forEach(([a,o])=>{Fm(o,n,a,t)}),n},Fm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:$v(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(OE(s)){Fm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{Fm(o,$v(t,a),r,n)})})},$v=(e,t)=>{let r=e;return t.split(ph).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},OE=e=>e.isThemeGetter,ME=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,DE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},kb="!",FE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let d=0,f=0,m;for(let w=0;w<l.length;w++){let y=l[w];if(d===0){if(y===s&&(n||l.slice(w,w+a)===t)){c.push(l.slice(f,w)),f=w+a;continue}if(y==="/"){m=w;continue}}y==="["?d++:y==="]"&&d--}const p=c.length===0?l:l.substring(f),h=p.startsWith(kb),b=h?p.substring(1):p,g=m&&m>f?m-f:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},LE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},zE=e=>({cache:DE(e.cacheSize),parseClassName:FE(e),...AE(e)}),VE=/\s+/,$E=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(VE);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:h}=r(d);let b=!!h,g=n(b?p.substring(0,h):p);if(!g){if(!b){l=d+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=d+(l.length>0?" "+l:l);continue}b=!1}const w=LE(f).join(":"),y=m?w+kb:w,v=y+g;if(a.includes(v))continue;a.push(v);const x=s(g,b);for(let N=0;N<x.length;++N){const S=x[N];a.push(y+S)}l=d+(l.length>0?" "+l:l)}return l};function UE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=jb(t))&&(n&&(n+=" "),n+=r);return n}const jb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=jb(e[n]))&&(r&&(r+=" "),r+=t);return r};function BE(e,...t){let r,n,s,a=o;function o(c){const d=t.reduce((f,m)=>m(f),e());return r=zE(d),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const f=$E(c,r);return s(c,f),f}return function(){return a(UE.apply(null,arguments))}}const yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Cb=/^\[(?:([a-z-]+):)?(.+)\]$/i,WE=/^\d+\/\d+$/,HE=new Set(["px","full","screen"]),qE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,GE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yn=e=>_i(e)||HE.has(e)||WE.test(e),js=e=>io(e,"length",s_),_i=e=>!!e&&!Number.isNaN(Number(e)),bf=e=>io(e,"number",_i),Ao=e=>!!e&&Number.isInteger(Number(e)),YE=e=>e.endsWith("%")&&_i(e.slice(0,-1)),Ge=e=>Cb.test(e),Cs=e=>qE.test(e),XE=new Set(["length","size","percentage"]),JE=e=>io(e,XE,Eb),e_=e=>io(e,"position",Eb),t_=new Set(["image","url"]),r_=e=>io(e,t_,i_),n_=e=>io(e,"",a_),Ro=()=>!0,io=(e,t,r)=>{const n=Cb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},s_=e=>KE.test(e)&&!GE.test(e),Eb=()=>!1,a_=e=>QE.test(e),i_=e=>ZE.test(e),o_=()=>{const e=yt("colors"),t=yt("spacing"),r=yt("blur"),n=yt("brightness"),s=yt("borderColor"),a=yt("borderRadius"),o=yt("borderSpacing"),l=yt("borderWidth"),c=yt("contrast"),d=yt("grayscale"),f=yt("hueRotate"),m=yt("invert"),p=yt("gap"),h=yt("gradientColorStops"),b=yt("gradientColorStopPositions"),g=yt("inset"),w=yt("margin"),y=yt("opacity"),v=yt("padding"),x=yt("saturate"),N=yt("scale"),S=yt("sepia"),C=yt("skew"),j=yt("space"),A=yt("translate"),M=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ge,t],R=()=>[Ge,t],V=()=>["",Yn,js],L=()=>["auto",_i,Ge],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",Ge],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[_i,Ge];return{cacheSize:500,separator:":",theme:{colors:[Ro],spacing:[Yn,js],blur:["none","",Cs,Ge],brightness:O(),borderColor:[e],borderRadius:["none","","full",Cs,Ge],borderSpacing:R(),borderWidth:V(),contrast:O(),grayscale:E(),hueRotate:O(),invert:E(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[YE,js],inset:F(),margin:F(),opacity:O(),padding:R(),saturate:O(),scale:O(),sepia:E(),skew:O(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Ge]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),Ge]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ao,Ge]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ge]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",Ao,Ge]}],"grid-cols":[{"grid-cols":[Ro]}],"col-start-end":[{col:["auto",{span:["full",Ao,Ge]},Ge]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ro]}],"row-start-end":[{row:["auto",{span:[Ao,Ge]},Ge]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ge,t]}],"min-w":[{"min-w":[Ge,t,"min","max","fit"]}],"max-w":[{"max-w":[Ge,t,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[Ge,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ge,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ge,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bf]}],"font-family":[{font:[Ro]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ge]}],"line-clamp":[{"line-clamp":["none",_i,bf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yn,Ge]}],"list-image":[{"list-image":["none",Ge]}],"list-style-type":[{list:["none","disc","decimal",Ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yn,js]}],"underline-offset":[{"underline-offset":["auto",Yn,Ge]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),e_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},r_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[Yn,Ge]}],"outline-w":[{outline:[Yn,js]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Yn,js]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Cs,n_]}],"shadow-color":[{shadow:[Ro]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cs,Ge]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ge]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Ge]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Ao,Ge]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ge]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ge]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ge]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yn,js,bf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},l_=BE(o_);function Ne(...e){return l_(mb(e))}const c_=rE,_b=u.forwardRef(({className:e,...t},r)=>i.jsx(ib,{ref:r,className:Ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_b.displayName=ib.displayName;const u_=hd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tb=u.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(ob,{ref:n,className:Ne(u_({variant:t}),e),...r}));Tb.displayName=ob.displayName;const d_=u.forwardRef(({className:e,...t},r)=>i.jsx(ub,{ref:r,className:Ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));d_.displayName=ub.displayName;const Pb=u.forwardRef(({className:e,...t},r)=>i.jsx(db,{ref:r,className:Ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(xn,{className:"h-4 w-4"})}));Pb.displayName=db.displayName;const Ab=u.forwardRef(({className:e,...t},r)=>i.jsx(lb,{ref:r,className:Ne("text-sm font-semibold",e),...t}));Ab.displayName=lb.displayName;const Rb=u.forwardRef(({className:e,...t},r)=>i.jsx(cb,{ref:r,className:Ne("text-sm opacity-90",e),...t}));Rb.displayName=cb.displayName;function f_(){const{toasts:e}=Cn();return i.jsxs(c_,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(Tb,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(Ab,{children:r}),n&&i.jsx(Rb,{children:n})]}),s,i.jsx(Pb,{})]},t)}),i.jsx(_b,{})]})}var Uv=["light","dark"],m_="(prefers-color-scheme: dark)",p_=u.createContext(void 0),h_={setTheme:e=>{},themes:[]},g_=()=>{var e;return(e=u.useContext(p_))!=null?e:h_};u.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let d=a==="system",f=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,m=s?Uv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,g=!1,w=!0)=>{let y=o?o[b]:b,v=g?b+"|| ''":`'${y}'`,x="";return s&&w&&!g&&Uv.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?g||y?x+=`c.add(${v})`:x+="null":y&&(x+=`d[s](n,${v})`),x},h=e?`!function(){${f}${p(e)}}()`:n?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${m_}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(a,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${m}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var v_=e=>{switch(e){case"success":return w_;case"info":return N_;case"warning":return b_;case"error":return S_;default:return null}},y_=Array(12).fill(0),x_=({visible:e,className:t})=>se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},se.createElement("div",{className:"sonner-spinner"},y_.map((r,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w_=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b_=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N_=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),S_=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),k_=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),j_=()=>{let[e,t]=se.useState(document.hidden);return se.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Lm=1,C_=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lm++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],se.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(__(c)&&!c.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:f})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Lm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Er=new C_,E_=(e,t)=>{let r=(t==null?void 0:t.id)||Lm++;return Er.addToast({title:e,...t,id:r}),r},__=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",T_=E_,P_=()=>Er.toasts,A_=()=>Er.getActiveToasts();Object.assign(T_,{success:Er.success,info:Er.info,warning:Er.warning,error:Er.error,custom:Er.custom,message:Er.message,promise:Er.promise,dismiss:Er.dismiss,loading:Er.loading},{getHistory:P_,getToasts:A_});function R_(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}R_(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Cc(e){return e.label!==void 0}var I_=3,O_="32px",M_="16px",Bv=4e3,D_=356,F_=14,L_=20,z_=200;function ln(...e){return e.filter(Boolean).join(" ")}function V_(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var $_=e=>{var t,r,n,s,a,o,l,c,d,f,m;let{invert:p,toast:h,unstyled:b,interacting:g,setHeights:w,visibleToasts:y,heights:v,index:x,toasts:N,expanded:S,removeToast:C,defaultRichColors:j,closeButton:A,style:M,cancelButtonStyle:T,actionButtonStyle:F,className:R="",descriptionClassName:V="",duration:L,position:le,gap:re,loadingIcon:X,expandByDefault:P,classNames:E,icons:K,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:de}=e,[G,Se]=se.useState(null),[Ce,qe]=se.useState(null),[ae,ye]=se.useState(!1),[$,W]=se.useState(!1),[oe,D]=se.useState(!1),[H,te]=se.useState(!1),[Q,me]=se.useState(!1),[Mt,Je]=se.useState(0),[ut,k]=se.useState(0),I=se.useRef(h.duration||L||Bv),U=se.useRef(null),xe=se.useRef(null),ge=x===0,q=x+1<=y,he=h.type,Ve=h.dismissible!==!1,Ye=h.className||"",bt=h.descriptionClassName||"",Bt=se.useMemo(()=>v.findIndex(Z=>Z.toastId===h.id)||0,[v,h.id]),Pt=se.useMemo(()=>{var Z;return(Z=h.closeButton)!=null?Z:A},[h.closeButton,A]),Wr=se.useMemo(()=>h.duration||L||Bv,[h.duration,L]),vt=se.useRef(0),ft=se.useRef(0),Yt=se.useRef(0),Kt=se.useRef(null),[Xt,nr]=le.split("-"),Wt=se.useMemo(()=>v.reduce((Z,we,Me)=>Me>=Bt?Z:Z+we.height,0),[v,Bt]),Hr=j_(),Nt=h.invert||p,mr=he==="loading";ft.current=se.useMemo(()=>Bt*re+Wt,[Bt,Wt]),se.useEffect(()=>{I.current=Wr},[Wr]),se.useEffect(()=>{ye(!0)},[]),se.useEffect(()=>{let Z=xe.current;if(Z){let we=Z.getBoundingClientRect().height;return k(we),w(Me=>[{toastId:h.id,height:we,position:h.position},...Me]),()=>w(Me=>Me.filter(je=>je.toastId!==h.id))}},[w,h.id]),se.useLayoutEffect(()=>{if(!ae)return;let Z=xe.current,we=Z.style.height;Z.style.height="auto";let Me=Z.getBoundingClientRect().height;Z.style.height=we,k(Me),w(je=>je.find($e=>$e.toastId===h.id)?je.map($e=>$e.toastId===h.id?{...$e,height:Me}:$e):[{toastId:h.id,height:Me,position:h.position},...je])},[ae,h.title,h.description,w,h.id]);let sr=se.useCallback(()=>{W(!0),Je(ft.current),w(Z=>Z.filter(we=>we.toastId!==h.id)),setTimeout(()=>{C(h)},z_)},[h,C,w,ft]);se.useEffect(()=>{if(h.promise&&he==="loading"||h.duration===1/0||h.type==="loading")return;let Z;return S||g||de&&Hr?(()=>{if(Yt.current<vt.current){let we=new Date().getTime()-vt.current;I.current=I.current-we}Yt.current=new Date().getTime()})():I.current!==1/0&&(vt.current=new Date().getTime(),Z=setTimeout(()=>{var we;(we=h.onAutoClose)==null||we.call(h,h),sr()},I.current)),()=>clearTimeout(Z)},[S,g,h,he,de,Hr,sr]),se.useEffect(()=>{h.delete&&sr()},[sr,h.delete]);function ee(){var Z,we,Me;return K!=null&&K.loading?se.createElement("div",{className:ln(E==null?void 0:E.loader,(Z=h==null?void 0:h.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":he==="loading"},K.loading):X?se.createElement("div",{className:ln(E==null?void 0:E.loader,(we=h==null?void 0:h.classNames)==null?void 0:we.loader,"sonner-loader"),"data-visible":he==="loading"},X):se.createElement(x_,{className:ln(E==null?void 0:E.loader,(Me=h==null?void 0:h.classNames)==null?void 0:Me.loader),visible:he==="loading"})}return se.createElement("li",{tabIndex:0,ref:xe,className:ln(R,Ye,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[he],(r=h==null?void 0:h.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:j,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":ae,"data-promise":!!h.promise,"data-swiped":Q,"data-removed":$,"data-visible":q,"data-y-position":Xt,"data-x-position":nr,"data-index":x,"data-front":ge,"data-swiping":oe,"data-dismissible":Ve,"data-type":he,"data-invert":Nt,"data-swipe-out":H,"data-swipe-direction":Ce,"data-expanded":!!(S||P&&ae),style:{"--index":x,"--toasts-before":x,"--z-index":N.length-x,"--offset":`${$?Mt:ft.current}px`,"--initial-height":P?"auto":`${ut}px`,...M,...h.style},onDragEnd:()=>{D(!1),Se(null),Kt.current=null},onPointerDown:Z=>{mr||!Ve||(U.current=new Date,Je(ft.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(D(!0),Kt.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,we,Me,je;if(H||!Ve)return;Kt.current=null;let $e=Number(((Z=xe.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Jt=Number(((we=xe.current)==null?void 0:we.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),pr=new Date().getTime()-((Me=U.current)==null?void 0:Me.getTime()),ar=G==="x"?$e:Jt,Nr=Math.abs(ar)/pr;if(Math.abs(ar)>=L_||Nr>.11){Je(ft.current),(je=h.onDismiss)==null||je.call(h,h),qe(G==="x"?$e>0?"right":"left":Jt>0?"down":"up"),sr(),te(!0),me(!1);return}D(!1),Se(null)},onPointerMove:Z=>{var we,Me,je,$e;if(!Kt.current||!Ve||((we=window.getSelection())==null?void 0:we.toString().length)>0)return;let Jt=Z.clientY-Kt.current.y,pr=Z.clientX-Kt.current.x,ar=(Me=e.swipeDirections)!=null?Me:V_(le);!G&&(Math.abs(pr)>1||Math.abs(Jt)>1)&&Se(Math.abs(pr)>Math.abs(Jt)?"x":"y");let Nr={x:0,y:0};G==="y"?(ar.includes("top")||ar.includes("bottom"))&&(ar.includes("top")&&Jt<0||ar.includes("bottom")&&Jt>0)&&(Nr.y=Jt):G==="x"&&(ar.includes("left")||ar.includes("right"))&&(ar.includes("left")&&pr<0||ar.includes("right")&&pr>0)&&(Nr.x=pr),(Math.abs(Nr.x)>0||Math.abs(Nr.y)>0)&&me(!0),(je=xe.current)==null||je.style.setProperty("--swipe-amount-x",`${Nr.x}px`),($e=xe.current)==null||$e.style.setProperty("--swipe-amount-y",`${Nr.y}px`)}},Pt&&!h.jsx?se.createElement("button",{"aria-label":O,"data-disabled":mr,"data-close-button":!0,onClick:mr||!Ve?()=>{}:()=>{var Z;sr(),(Z=h.onDismiss)==null||Z.call(h,h)},className:ln(E==null?void 0:E.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(a=K==null?void 0:K.close)!=null?a:k_):null,h.jsx||u.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:se.createElement(se.Fragment,null,he||h.icon||h.promise?se.createElement("div",{"data-icon":"",className:ln(E==null?void 0:E.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||ee():null,h.type!=="loading"?h.icon||(K==null?void 0:K[he])||v_(he):null):null,se.createElement("div",{"data-content":"",className:ln(E==null?void 0:E.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},se.createElement("div",{"data-title":"",className:ln(E==null?void 0:E.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?se.createElement("div",{"data-description":"",className:ln(V,bt,E==null?void 0:E.description,(d=h==null?void 0:h.classNames)==null?void 0:d.description)},typeof h.description=="function"?h.description():h.description):null),u.isValidElement(h.cancel)?h.cancel:h.cancel&&Cc(h.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Z=>{var we,Me;Cc(h.cancel)&&Ve&&((Me=(we=h.cancel).onClick)==null||Me.call(we,Z),sr())},className:ln(E==null?void 0:E.cancelButton,(f=h==null?void 0:h.classNames)==null?void 0:f.cancelButton)},h.cancel.label):null,u.isValidElement(h.action)?h.action:h.action&&Cc(h.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||F,onClick:Z=>{var we,Me;Cc(h.action)&&((Me=(we=h.action).onClick)==null||Me.call(we,Z),!Z.defaultPrevented&&sr())},className:ln(E==null?void 0:E.actionButton,(m=h==null?void 0:h.classNames)==null?void 0:m.actionButton)},h.action.label):null))};function Wv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function U_(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?M_:O_;function c(d){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var B_=u.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:m,duration:p,style:h,visibleToasts:b=I_,toastOptions:g,dir:w=Wv(),gap:y=F_,loadingIcon:v,icons:x,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:S}=e,[C,j]=se.useState([]),A=se.useMemo(()=>Array.from(new Set([n].concat(C.filter(de=>de.position).map(de=>de.position)))),[C,n]),[M,T]=se.useState([]),[F,R]=se.useState(!1),[V,L]=se.useState(!1),[le,re]=se.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=se.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=se.useRef(null),K=se.useRef(!1),O=se.useCallback(de=>{j(G=>{var Se;return(Se=G.find(Ce=>Ce.id===de.id))!=null&&Se.delete||Er.dismiss(de.id),G.filter(({id:Ce})=>Ce!==de.id)})},[]);return se.useEffect(()=>Er.subscribe(de=>{if(de.dismiss){j(G=>G.map(Se=>Se.id===de.id?{...Se,delete:!0}:Se));return}setTimeout(()=>{Fw.flushSync(()=>{j(G=>{let Se=G.findIndex(Ce=>Ce.id===de.id);return Se!==-1?[...G.slice(0,Se),{...G[Se],...de},...G.slice(Se+1)]:[de,...G]})})})}),[]),se.useEffect(()=>{if(f!=="system"){re(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;let de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:G})=>{re(G?"dark":"light")})}catch{de.addListener(({matches:Se})=>{try{re(Se?"dark":"light")}catch(Ce){console.error(Ce)}})}},[f]),se.useEffect(()=>{C.length<=1&&R(!1)},[C]),se.useEffect(()=>{let de=G=>{var Se,Ce;s.every(qe=>G[qe]||G.code===qe)&&(R(!0),(Se=X.current)==null||Se.focus()),G.code==="Escape"&&(document.activeElement===X.current||(Ce=X.current)!=null&&Ce.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[s]),se.useEffect(()=>{if(X.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,K.current=!1)}},[X.current]),se.createElement("section",{ref:t,"aria-label":`${N} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((de,G)=>{var Se;let[Ce,qe]=de.split("-");return C.length?se.createElement("ol",{key:de,dir:w==="auto"?Wv():w,tabIndex:-1,ref:X,className:l,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":Ce,"data-lifted":F&&C.length>1&&!a,"data-x-position":qe,style:{"--front-toast-height":`${((Se=M[0])==null?void 0:Se.height)||0}px`,"--width":`${D_}px`,"--gap":`${y}px`,...h,...U_(c,d)},onBlur:ae=>{K.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(K.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||K.current||(K.current=!0,E.current=ae.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{V||R(!1)},onDragEnd:()=>R(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},C.filter(ae=>!ae.position&&G===0||ae.position===de).map((ae,ye)=>{var $,W;return se.createElement($_,{key:ae.id,icons:x,index:ye,toast:ae,defaultRichColors:m,duration:($=g==null?void 0:g.duration)!=null?$:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:b,closeButton:(W=g==null?void 0:g.closeButton)!=null?W:o,interacting:V,position:de,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:O,toasts:C.filter(oe=>oe.position==ae.position),heights:M.filter(oe=>oe.position==ae.position),setHeights:T,expandByDefault:a,gap:y,loadingIcon:v,expanded:F,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const W_=({...e})=>{const{theme:t="system"}=g_();return i.jsx(B_,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var H_=gp[" useId ".trim().toString()]||(()=>{}),q_=0;function tl(e){const[t,r]=u.useState(H_());return ps(()=>{e||r(n=>n??String(q_++))},[e]),e||(t?`radix-${t}`:"")}const K_=["top","right","bottom","left"],la=Math.min,Dr=Math.max,Au=Math.round,Ec=Math.floor,Wn=e=>({x:e,y:e}),G_={left:"right",right:"left",bottom:"top",top:"bottom"},Q_={start:"end",end:"start"};function zm(e,t,r){return Dr(e,la(t,r))}function gs(e,t){return typeof e=="function"?e(t):e}function vs(e){return e.split("-")[0]}function oo(e){return e.split("-")[1]}function hh(e){return e==="x"?"y":"x"}function gh(e){return e==="y"?"height":"width"}const Z_=new Set(["top","bottom"]);function Vn(e){return Z_.has(vs(e))?"y":"x"}function vh(e){return hh(Vn(e))}function Y_(e,t,r){r===void 0&&(r=!1);const n=oo(e),s=vh(e),a=gh(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Ru(o)),[o,Ru(o)]}function X_(e){const t=Ru(e);return[Vm(e),t,Vm(t)]}function Vm(e){return e.replace(/start|end/g,t=>Q_[t])}const Hv=["left","right"],qv=["right","left"],J_=["top","bottom"],eT=["bottom","top"];function tT(e,t,r){switch(e){case"top":case"bottom":return r?t?qv:Hv:t?Hv:qv;case"left":case"right":return t?J_:eT;default:return[]}}function rT(e,t,r,n){const s=oo(e);let a=tT(vs(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Vm)))),a}function Ru(e){return e.replace(/left|right|bottom|top/g,t=>G_[t])}function nT(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ib(e){return typeof e!="number"?nT(e):{top:e,right:e,bottom:e,left:e}}function Iu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Kv(e,t,r){let{reference:n,floating:s}=e;const a=Vn(t),o=vh(t),l=gh(o),c=vs(t),d=a==="y",f=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let h;switch(c){case"top":h={x:f,y:n.y-s.height};break;case"bottom":h={x:f,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:m};break;case"left":h={x:n.x-s.width,y:m};break;default:h={x:n.x,y:n.y}}switch(oo(t)){case"start":h[o]-=p*(r&&d?-1:1);break;case"end":h[o]+=p*(r&&d?-1:1);break}return h}const sT=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:m}=Kv(d,n,c),p=n,h={},b=0;for(let g=0;g<l.length;g++){const{name:w,fn:y}=l[g],{x:v,y:x,data:N,reset:S}=await y({x:f,y:m,initialPlacement:n,placement:p,strategy:s,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});f=v??f,m=x??m,h={...h,[w]:{...h[w],...N}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:f,y:m}=Kv(d,p,c)),g=-1)}return{x:f,y:m,placement:p,strategy:s,middlewareData:h}};async function kl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:h=0}=gs(t,e),b=Ib(h),w=l[p?m==="floating"?"reference":"floating":m],y=Iu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),v=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Iu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:x,strategy:c}):v);return{top:(y.top-S.top+b.top)/N.y,bottom:(S.bottom-y.bottom+b.bottom)/N.y,left:(y.left-S.left+b.left)/N.x,right:(S.right-y.right+b.right)/N.x}}const aT=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:f=0}=gs(e,t)||{};if(d==null)return{};const m=Ib(f),p={x:r,y:n},h=vh(s),b=gh(h),g=await o.getDimensions(d),w=h==="y",y=w?"top":"left",v=w?"bottom":"right",x=w?"clientHeight":"clientWidth",N=a.reference[b]+a.reference[h]-p[h]-a.floating[b],S=p[h]-a.reference[h],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let j=C?C[x]:0;(!j||!await(o.isElement==null?void 0:o.isElement(C)))&&(j=l.floating[x]||a.floating[b]);const A=N/2-S/2,M=j/2-g[b]/2-1,T=la(m[y],M),F=la(m[v],M),R=T,V=j-g[b]-F,L=j/2-g[b]/2+A,le=zm(R,L,V),re=!c.arrow&&oo(s)!=null&&L!==le&&a.reference[b]/2-(L<R?T:F)-g[b]/2<0,X=re?L<R?L-R:L-V:0;return{[h]:p[h]+X,data:{[h]:le,centerOffset:L-le-X,...re&&{alignmentOffset:X}},reset:re}}}),iT=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:g=!0,...w}=gs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=vs(s),v=Vn(l),x=vs(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=p||(x||!g?[Ru(l)]:X_(l)),C=b!=="none";!p&&C&&S.push(...rT(l,g,b,N));const j=[l,...S],A=await kl(t,w),M=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&M.push(A[y]),m){const L=Y_(s,o,N);M.push(A[L[0]],A[L[1]])}if(T=[...T,{placement:s,overflows:M}],!M.every(L=>L<=0)){var F,R;const L=(((F=a.flip)==null?void 0:F.index)||0)+1,le=j[L];if(le&&(!(m==="alignment"?v!==Vn(le):!1)||T.every(P=>P.overflows[0]>0&&Vn(P.placement)===v)))return{data:{index:L,overflows:T},reset:{placement:le}};let re=(R=T.filter(X=>X.overflows[0]<=0).sort((X,P)=>X.overflows[1]-P.overflows[1])[0])==null?void 0:R.placement;if(!re)switch(h){case"bestFit":{var V;const X=(V=T.filter(P=>{if(C){const E=Vn(P.placement);return E===v||E==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(E=>E>0).reduce((E,K)=>E+K,0)]).sort((P,E)=>P[1]-E[1])[0])==null?void 0:V[0];X&&(re=X);break}case"initialPlacement":re=l;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function Gv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qv(e){return K_.some(t=>e[t]>=0)}const oT=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=gs(e,t);switch(n){case"referenceHidden":{const a=await kl(t,{...s,elementContext:"reference"}),o=Gv(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Qv(o)}}}case"escaped":{const a=await kl(t,{...s,altBoundary:!0}),o=Gv(a,r.floating);return{data:{escapedOffsets:o,escaped:Qv(o)}}}default:return{}}}}},Ob=new Set(["left","top"]);async function lT(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=vs(r),l=oo(r),c=Vn(r)==="y",d=Ob.has(o)?-1:1,f=a&&c?-1:1,m=gs(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(h=l==="end"?b*-1:b),c?{x:h*f,y:p*d}:{x:p*d,y:h*f}}const cT=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await lT(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},uT=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:v}=w;return{x:y,y:v}}},...c}=gs(e,t),d={x:r,y:n},f=await kl(t,c),m=Vn(vs(s)),p=hh(m);let h=d[p],b=d[m];if(a){const w=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=h+f[w],x=h-f[y];h=zm(v,h,x)}if(o){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=b+f[w],x=b-f[y];b=zm(v,b,x)}const g=l.fn({...t,[p]:h,[m]:b});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:a,[m]:o}}}}}},dT=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=gs(e,t),f={x:r,y:n},m=Vn(s),p=hh(m);let h=f[p],b=f[m];const g=gs(l,t),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=p==="y"?"height":"width",N=a.reference[p]-a.floating[x]+w.mainAxis,S=a.reference[p]+a.reference[x]-w.mainAxis;h<N?h=N:h>S&&(h=S)}if(d){var y,v;const x=p==="y"?"width":"height",N=Ob.has(vs(s)),S=a.reference[m]-a.floating[x]+(N&&((y=o.offset)==null?void 0:y[m])||0)+(N?0:w.crossAxis),C=a.reference[m]+a.reference[x]+(N?0:((v=o.offset)==null?void 0:v[m])||0)-(N?w.crossAxis:0);b<S?b=S:b>C&&(b=C)}return{[p]:h,[m]:b}}}},fT=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=gs(e,t),f=await kl(t,d),m=vs(s),p=oo(s),h=Vn(s)==="y",{width:b,height:g}=a.floating;let w,y;m==="top"||m==="bottom"?(w=m,y=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=m,w=p==="end"?"top":"bottom");const v=g-f.top-f.bottom,x=b-f.left-f.right,N=la(g-f[w],v),S=la(b-f[y],x),C=!t.middlewareData.shift;let j=N,A=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(j=v),C&&!p){const T=Dr(f.left,0),F=Dr(f.right,0),R=Dr(f.top,0),V=Dr(f.bottom,0);h?A=b-2*(T!==0||F!==0?T+F:Dr(f.left,f.right)):j=g-2*(R!==0||V!==0?R+V:Dr(f.top,f.bottom))}await c({...t,availableWidth:A,availableHeight:j});const M=await o.getDimensions(l.floating);return b!==M.width||g!==M.height?{reset:{rects:!0}}:{}}}};function gd(){return typeof window<"u"}function lo(e){return Mb(e)?(e.nodeName||"").toLowerCase():"#document"}function zr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Kn(e){var t;return(t=(Mb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Mb(e){return gd()?e instanceof Node||e instanceof zr(e).Node:!1}function kn(e){return gd()?e instanceof Element||e instanceof zr(e).Element:!1}function qn(e){return gd()?e instanceof HTMLElement||e instanceof zr(e).HTMLElement:!1}function Zv(e){return!gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zr(e).ShadowRoot}const mT=new Set(["inline","contents"]);function $l(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!mT.has(s)}const pT=new Set(["table","td","th"]);function hT(e){return pT.has(lo(e))}const gT=[":popover-open",":modal"];function vd(e){return gT.some(t=>{try{return e.matches(t)}catch{return!1}})}const vT=["transform","translate","scale","rotate","perspective"],yT=["transform","translate","scale","rotate","perspective","filter"],xT=["paint","layout","strict","content"];function yh(e){const t=xh(),r=kn(e)?jn(e):e;return vT.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||yT.some(n=>(r.willChange||"").includes(n))||xT.some(n=>(r.contain||"").includes(n))}function wT(e){let t=ca(e);for(;qn(t)&&!Qi(t);){if(yh(t))return t;if(vd(t))return null;t=ca(t)}return null}function xh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bT=new Set(["html","body","#document"]);function Qi(e){return bT.has(lo(e))}function jn(e){return zr(e).getComputedStyle(e)}function yd(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ca(e){if(lo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zv(e)&&e.host||Kn(e);return Zv(t)?t.host:t}function Db(e){const t=ca(e);return Qi(t)?e.ownerDocument?e.ownerDocument.body:e.body:qn(t)&&$l(t)?t:Db(t)}function jl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Db(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=zr(s);if(a){const l=$m(o);return t.concat(o,o.visualViewport||[],$l(s)?s:[],l&&r?jl(l):[])}return t.concat(s,jl(s,[],r))}function $m(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Fb(e){const t=jn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=qn(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Au(r)!==a||Au(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function wh(e){return kn(e)?e:e.contextElement}function Ti(e){const t=wh(e);if(!qn(t))return Wn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Fb(t);let o=(a?Au(r.width):r.width)/n,l=(a?Au(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const NT=Wn(0);function Lb(e){const t=zr(e);return!xh()||!t.visualViewport?NT:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ST(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zr(e)?!1:t}function Va(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=wh(e);let o=Wn(1);t&&(n?kn(n)&&(o=Ti(n)):o=Ti(e));const l=ST(a,r,n)?Lb(a):Wn(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,m=s.height/o.y;if(a){const p=zr(a),h=n&&kn(n)?zr(n):n;let b=p,g=$m(b);for(;g&&n&&h!==b;){const w=Ti(g),y=g.getBoundingClientRect(),v=jn(g),x=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*w.x,N=y.top+(g.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,d*=w.y,f*=w.x,m*=w.y,c+=x,d+=N,b=zr(g),g=$m(b)}}return Iu({width:f,height:m,x:c,y:d})}function bh(e,t){const r=yd(e).scrollLeft;return t?t.left+r:Va(Kn(e)).left+r}function zb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:bh(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function kT(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Kn(n),l=t?vd(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Wn(1);const f=Wn(0),m=qn(n);if((m||!m&&!a)&&((lo(n)!=="body"||$l(o))&&(c=yd(n)),qn(n))){const h=Va(n);d=Ti(n),f.x=h.x+n.clientLeft,f.y=h.y+n.clientTop}const p=o&&!m&&!a?zb(o,c,!0):Wn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:r.y*d.y-c.scrollTop*d.y+f.y+p.y}}function jT(e){return Array.from(e.getClientRects())}function CT(e){const t=Kn(e),r=yd(e),n=e.ownerDocument.body,s=Dr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Dr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+bh(e);const l=-r.scrollTop;return jn(n).direction==="rtl"&&(o+=Dr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function ET(e,t){const r=zr(e),n=Kn(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=xh();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}const _T=new Set(["absolute","fixed"]);function TT(e,t){const r=Va(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=qn(e)?Ti(e):Wn(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function Yv(e,t,r){let n;if(t==="viewport")n=ET(e,r);else if(t==="document")n=CT(Kn(e));else if(kn(t))n=TT(t,r);else{const s=Lb(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Iu(n)}function Vb(e,t){const r=ca(e);return r===t||!kn(r)||Qi(r)?!1:jn(r).position==="fixed"||Vb(r,t)}function PT(e,t){const r=t.get(e);if(r)return r;let n=jl(e,[],!1).filter(l=>kn(l)&&lo(l)!=="body"),s=null;const a=jn(e).position==="fixed";let o=a?ca(e):e;for(;kn(o)&&!Qi(o);){const l=jn(o),c=yh(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&_T.has(s.position)||$l(o)&&!c&&Vb(e,o))?n=n.filter(f=>f!==o):s=l,o=ca(o)}return t.set(e,n),n}function AT(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?vd(t)?[]:PT(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const m=Yv(t,f,s);return d.top=Dr(m.top,d.top),d.right=la(m.right,d.right),d.bottom=la(m.bottom,d.bottom),d.left=Dr(m.left,d.left),d},Yv(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function RT(e){const{width:t,height:r}=Fb(e);return{width:t,height:r}}function IT(e,t,r){const n=qn(t),s=Kn(t),a=r==="fixed",o=Va(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Wn(0);function d(){c.x=bh(s)}if(n||!n&&!a)if((lo(t)!=="body"||$l(s))&&(l=yd(t)),n){const h=Va(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&d();a&&!n&&s&&d();const f=s&&!n&&!a?zb(s,l):Wn(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function Nf(e){return jn(e).position==="static"}function Xv(e,t){if(!qn(e)||jn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Kn(e)===r&&(r=r.ownerDocument.body),r}function $b(e,t){const r=zr(e);if(vd(e))return r;if(!qn(e)){let s=ca(e);for(;s&&!Qi(s);){if(kn(s)&&!Nf(s))return s;s=ca(s)}return r}let n=Xv(e,t);for(;n&&hT(n)&&Nf(n);)n=Xv(n,t);return n&&Qi(n)&&Nf(n)&&!yh(n)?r:n||wT(e)||r}const OT=async function(e){const t=this.getOffsetParent||$b,r=this.getDimensions,n=await r(e.floating);return{reference:IT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function MT(e){return jn(e).direction==="rtl"}const DT={convertOffsetParentRelativeRectToViewportRelativeRect:kT,getDocumentElement:Kn,getClippingRect:AT,getOffsetParent:$b,getElementRects:OT,getClientRects:jT,getDimensions:RT,getScale:Ti,isElement:kn,isRTL:MT};function Ub(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FT(e,t){let r=null,n;const s=Kn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:f,top:m,width:p,height:h}=d;if(l||t(),!p||!h)return;const b=Ec(m),g=Ec(s.clientWidth-(f+p)),w=Ec(s.clientHeight-(m+h)),y=Ec(f),x={rootMargin:-b+"px "+-g+"px "+-w+"px "+-y+"px",threshold:Dr(0,la(1,c))||1};let N=!0;function S(C){const j=C[0].intersectionRatio;if(j!==c){if(!N)return o();j?o(!1,j):n=setTimeout(()=>{o(!1,1e-7)},1e3)}j===1&&!Ub(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return o(!0),a}function LT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=wh(e),f=s||a?[...d?jl(d):[],...jl(t)]:[];f.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const m=d&&l?FT(d,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let b,g=c?Va(e):null;c&&w();function w(){const y=Va(e);g&&!Ub(g,y)&&r(),g=y,b=requestAnimationFrame(w)}return r(),()=>{var y;f.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),m==null||m(),(y=h)==null||y.disconnect(),h=null,c&&cancelAnimationFrame(b)}}const zT=cT,VT=uT,$T=iT,UT=fT,BT=oT,Jv=aT,WT=dT,HT=(e,t,r)=>{const n=new Map,s={platform:DT,...r},a={...s.platform,_c:n};return sT(e,t,{...s,platform:a})};var qT=typeof document<"u",KT=function(){},Jc=qT?u.useLayoutEffect:KT;function Ou(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ou(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!Ou(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Bb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ey(e,t){const r=Bb(e);return Math.round(t*r)/r}function Sf(e){const t=u.useRef(e);return Jc(()=>{t.current=e}),t}function GT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[f,m]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=u.useState(n);Ou(p,n)||h(n);const[b,g]=u.useState(null),[w,y]=u.useState(null),v=u.useCallback(P=>{P!==C.current&&(C.current=P,g(P))},[]),x=u.useCallback(P=>{P!==j.current&&(j.current=P,y(P))},[]),N=a||b,S=o||w,C=u.useRef(null),j=u.useRef(null),A=u.useRef(f),M=c!=null,T=Sf(c),F=Sf(s),R=Sf(d),V=u.useCallback(()=>{if(!C.current||!j.current)return;const P={placement:t,strategy:r,middleware:p};F.current&&(P.platform=F.current),HT(C.current,j.current,P).then(E=>{const K={...E,isPositioned:R.current!==!1};L.current&&!Ou(A.current,K)&&(A.current=K,zl.flushSync(()=>{m(K)}))})},[p,t,r,F,R]);Jc(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(P=>({...P,isPositioned:!1})))},[d]);const L=u.useRef(!1);Jc(()=>(L.current=!0,()=>{L.current=!1}),[]),Jc(()=>{if(N&&(C.current=N),S&&(j.current=S),N&&S){if(T.current)return T.current(N,S,V);V()}},[N,S,V,T,M]);const le=u.useMemo(()=>({reference:C,floating:j,setReference:v,setFloating:x}),[v,x]),re=u.useMemo(()=>({reference:N,floating:S}),[N,S]),X=u.useMemo(()=>{const P={position:r,left:0,top:0};if(!re.floating)return P;const E=ey(re.floating,f.x),K=ey(re.floating,f.y);return l?{...P,transform:"translate("+E+"px, "+K+"px)",...Bb(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:E,top:K}},[r,l,re.floating,f.x,f.y]);return u.useMemo(()=>({...f,update:V,refs:le,elements:re,floatingStyles:X}),[f,V,le,re,X])}const QT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Jv({element:n.current,padding:s}).fn(r):{}:n?Jv({element:n,padding:s}).fn(r):{}}}},ZT=(e,t)=>({...zT(e),options:[e,t]}),YT=(e,t)=>({...VT(e),options:[e,t]}),XT=(e,t)=>({...WT(e),options:[e,t]}),JT=(e,t)=>({...$T(e),options:[e,t]}),eP=(e,t)=>({...UT(e),options:[e,t]}),tP=(e,t)=>({...BT(e),options:[e,t]}),rP=(e,t)=>({...QT(e),options:[e,t]});var nP="Arrow",Wb=u.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Ze.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Wb.displayName=nP;var sP=Wb;function xd(e){const[t,r]=u.useState(void 0);return ps(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Hb="Popper",[qb,Kb]=rn(Hb),[cM,Gb]=qb(Hb),Qb="PopperAnchor",Zb=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Gb(Qb,r),o=u.useRef(null),l=mt(t,o);return u.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(Ze.div,{...s,ref:l})});Zb.displayName=Qb;var Nh="PopperContent",[aP,iP]=qb(Nh),Yb=u.forwardRef((e,t)=>{var ae,ye,$,W,oe,D;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:b,...g}=e,w=Gb(Nh,r),[y,v]=u.useState(null),x=mt(t,H=>v(H)),[N,S]=u.useState(null),C=xd(N),j=(C==null?void 0:C.width)??0,A=(C==null?void 0:C.height)??0,M=n+(a!=="center"?"-"+a:""),T=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(d)?d:[d],R=F.length>0,V={padding:T,boundary:F.filter(lP),altBoundary:R},{refs:L,floatingStyles:le,placement:re,isPositioned:X,middlewareData:P}=GT({strategy:"fixed",placement:M,whileElementsMounted:(...H)=>LT(...H,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[ZT({mainAxis:s+A,alignmentAxis:o}),c&&YT({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?XT():void 0,...V}),c&&JT({...V}),eP({...V,apply:({elements:H,rects:te,availableWidth:Q,availableHeight:me})=>{const{width:Mt,height:Je}=te.reference,ut=H.floating.style;ut.setProperty("--radix-popper-available-width",`${Q}px`),ut.setProperty("--radix-popper-available-height",`${me}px`),ut.setProperty("--radix-popper-anchor-width",`${Mt}px`),ut.setProperty("--radix-popper-anchor-height",`${Je}px`)}}),N&&rP({element:N,padding:l}),cP({arrowWidth:j,arrowHeight:A}),p&&tP({strategy:"referenceHidden",...V})]}),[E,K]=e1(re),O=Sn(b);ps(()=>{X&&(O==null||O())},[X,O]);const de=(ae=P.arrow)==null?void 0:ae.x,G=(ye=P.arrow)==null?void 0:ye.y,Se=(($=P.arrow)==null?void 0:$.centerOffset)!==0,[Ce,qe]=u.useState();return ps(()=>{y&&qe(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:X?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(W=P.transformOrigin)==null?void 0:W.x,(oe=P.transformOrigin)==null?void 0:oe.y].join(" "),...((D=P.hide)==null?void 0:D.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(aP,{scope:r,placedSide:E,onArrowChange:S,arrowX:de,arrowY:G,shouldHideArrow:Se,children:i.jsx(Ze.div,{"data-side":E,"data-align":K,...g,ref:x,style:{...g.style,animation:X?void 0:"none"}})})})});Yb.displayName=Nh;var Xb="PopperArrow",oP={top:"bottom",right:"left",bottom:"top",left:"right"},Jb=u.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=iP(Xb,n),o=oP[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(sP,{...s,ref:r,style:{...s.style,display:"block"}})})});Jb.displayName=Xb;function lP(e){return e!==null}var cP=e=>({name:"transformOrigin",options:e,fn(t){var w,y,v;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,f]=e1(r),m={start:"0%",center:"50%",end:"100%"}[f],p=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,h=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",g="";return d==="bottom"?(b=o?m:`${p}px`,g=`${-c}px`):d==="top"?(b=o?m:`${p}px`,g=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,g=o?m:`${h}px`):d==="left"&&(b=`${n.floating.width+c}px`,g=o?m:`${h}px`),{data:{x:b,y:g}}}});function e1(e){const[t,r="center"]=e.split("-");return[t,r]}var uP=Zb,dP=Yb,fP=Jb,[wd,uM]=rn("Tooltip",[Kb]),Sh=Kb(),t1="TooltipProvider",mP=700,ty="tooltip.open",[pP,r1]=wd(t1),n1=e=>{const{__scopeTooltip:t,delayDuration:r=mP,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=u.useRef(!0),l=u.useRef(!1),c=u.useRef(0);return u.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(pP,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:u.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:u.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};n1.displayName=t1;var s1="Tooltip",[dM,bd]=wd(s1),Um="TooltipTrigger",hP=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=bd(Um,r),a=r1(Um,r),o=Sh(r),l=u.useRef(null),c=mt(t,l,s.onTriggerChange),d=u.useRef(!1),f=u.useRef(!1),m=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),i.jsx(uP,{asChild:!0,...o,children:i.jsx(Ze.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:He(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:He(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:He(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:He(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:He(e.onBlur,s.onClose),onClick:He(e.onClick,s.onClose)})})});hP.displayName=Um;var gP="TooltipPortal",[fM,vP]=wd(gP,{forceMount:void 0}),Zi="TooltipContent",a1=u.forwardRef((e,t)=>{const r=vP(Zi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=bd(Zi,e.__scopeTooltip);return i.jsx(ha,{present:n||o.open,children:o.disableHoverableContent?i.jsx(i1,{side:s,...a,ref:t}):i.jsx(yP,{side:s,...a,ref:t})})}),yP=u.forwardRef((e,t)=>{const r=bd(Zi,e.__scopeTooltip),n=r1(Zi,e.__scopeTooltip),s=u.useRef(null),a=mt(t,s),[o,l]=u.useState(null),{trigger:c,onClose:d}=r,f=s.current,{onPointerInTransitChange:m}=n,p=u.useCallback(()=>{l(null),m(!1)},[m]),h=u.useCallback((b,g)=>{const w=b.currentTarget,y={x:b.clientX,y:b.clientY},v=SP(y,w.getBoundingClientRect()),x=kP(y,v),N=jP(g.getBoundingClientRect()),S=EP([...x,...N]);l(S),m(!0)},[m]);return u.useEffect(()=>()=>p(),[p]),u.useEffect(()=>{if(c&&f){const b=w=>h(w,f),g=w=>h(w,c);return c.addEventListener("pointerleave",b),f.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",g)}}},[c,f,h,p]),u.useEffect(()=>{if(o){const b=g=>{const w=g.target,y={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),x=!CP(y,o);v?p():x&&(p(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,f,o,d,p]),i.jsx(i1,{...e,ref:a})}),[xP,wP]=wd(s1,{isInside:!1}),bP=Uw("TooltipContent"),i1=u.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=bd(Zi,r),d=Sh(r),{onClose:f}=c;return u.useEffect(()=>(document.addEventListener(ty,f),()=>document.removeEventListener(ty,f)),[f]),u.useEffect(()=>{if(c.trigger){const m=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),i.jsx(fd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:i.jsxs(dP,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(bP,{children:n}),i.jsx(xP,{scope:r,isInside:!0,children:i.jsx(L2,{id:c.contentId,role:"tooltip",children:s||n})})]})})});a1.displayName=Zi;var o1="TooltipArrow",NP=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Sh(r);return wP(o1,r).isInside?null:i.jsx(fP,{...s,...n,ref:t})});NP.displayName=o1;function SP(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function kP(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function jP(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function CP(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,f=l.y,m=c.x,p=c.y;f>n!=p>n&&r<(m-d)*(n-f)/(p-f)+d&&(s=!s)}return s}function EP(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_P(t)}function _P(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var TP=n1,l1=a1;const PP=TP,AP=u.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(l1,{ref:n,sideOffset:t,className:Ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));AP.displayName=l1.displayName;var Nd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sd=typeof window>"u"||"Deno"in globalThis;function dn(){}function RP(e,t){return typeof e=="function"?e(t):e}function IP(e){return typeof e=="number"&&e>=0&&e!==1/0}function OP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bm(e,t){return typeof e=="function"?e(t):e}function MP(e,t){return typeof e=="function"?e(t):e}function ry(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==kh(o,t.options))return!1}else if(!El(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function ny(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Cl(t.options.mutationKey)!==Cl(a))return!1}else if(!El(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function kh(e,t){return((t==null?void 0:t.queryKeyHashFn)||Cl)(e)}function Cl(e){return JSON.stringify(e,(t,r)=>Wm(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function El(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>El(e[r],t[r])):!1}function c1(e,t){if(e===t)return e;const r=sy(e)&&sy(t);if(r||Wm(e)&&Wm(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{},c=new Set(n);let d=0;for(let f=0;f<o;f++){const m=r?f:a[f];(!r&&c.has(m)||r)&&e[m]===void 0&&t[m]===void 0?(l[m]=void 0,d++):(l[m]=c1(e[m],t[m]),l[m]===e[m]&&e[m]!==void 0&&d++)}return s===o&&d===s?e:l}return t}function sy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wm(e){if(!ay(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ay(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ay(e){return Object.prototype.toString.call(e)==="[object Object]"}function DP(e){return new Promise(t=>{setTimeout(t,e)})}function FP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?c1(e,t):t}function LP(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function zP(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var jh=Symbol();function u1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===jh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ea,Ls,Ii,gx,VP=(gx=class extends Nd{constructor(){super();it(this,Ea);it(this,Ls);it(this,Ii);We(this,Ii,t=>{if(!Sd&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,Ls)||this.setEventListener(Y(this,Ii))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,Ls))==null||t.call(this),We(this,Ls,void 0))}setEventListener(t){var r;We(this,Ii,t),(r=Y(this,Ls))==null||r.call(this),We(this,Ls,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Y(this,Ea)!==t&&(We(this,Ea,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Y(this,Ea)=="boolean"?Y(this,Ea):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ea=new WeakMap,Ls=new WeakMap,Ii=new WeakMap,gx),d1=new VP,Oi,zs,Mi,vx,$P=(vx=class extends Nd{constructor(){super();it(this,Oi,!0);it(this,zs);it(this,Mi);We(this,Mi,t=>{if(!Sd&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,zs)||this.setEventListener(Y(this,Mi))}onUnsubscribe(){var t;this.hasListeners()||((t=Y(this,zs))==null||t.call(this),We(this,zs,void 0))}setEventListener(t){var r;We(this,Mi,t),(r=Y(this,zs))==null||r.call(this),We(this,zs,t(this.setOnline.bind(this)))}setOnline(t){Y(this,Oi)!==t&&(We(this,Oi,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Y(this,Oi)}},Oi=new WeakMap,zs=new WeakMap,Mi=new WeakMap,vx),Mu=new $P;function UP(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function BP(e){return Math.min(1e3*2**e,3e4)}function f1(e){return(e??"online")==="online"?Mu.isOnline():!0}var m1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kf(e){return e instanceof m1}function p1(e){let t=!1,r=0,n=!1,s;const a=UP(),o=g=>{var w;n||(p(new m1(g)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>d1.isFocused()&&(e.networkMode==="always"||Mu.isOnline())&&e.canRun(),f=()=>f1(e.networkMode)&&e.canRun(),m=g=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,g),s==null||s(),a.resolve(g))},p=g=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,g),s==null||s(),a.reject(g))},h=()=>new Promise(g=>{var w;s=y=>{(n||d())&&g(y)},(w=e.onPause)==null||w.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),b=()=>{if(n)return;let g;const w=r===0?e.initialPromise:void 0;try{g=w??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(m).catch(y=>{var C;if(n)return;const v=e.retry??(Sd?0:3),x=e.retryDelay??BP,N=typeof x=="function"?x(r,y):x,S=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(t||!S){p(y);return}r++,(C=e.onFail)==null||C.call(e,r,y),DP(N).then(()=>d()?void 0:h()).then(()=>{t?p(y):b()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?b():h().then(b),a)}}var WP=e=>setTimeout(e,0);function HP(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=WP;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var yr=HP(),_a,yx,h1=(yx=class{constructor(){it(this,_a)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IP(this.gcTime)&&We(this,_a,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sd?1/0:5*60*1e3))}clearGcTimeout(){Y(this,_a)&&(clearTimeout(Y(this,_a)),We(this,_a,void 0))}},_a=new WeakMap,yx),Di,Ta,Gr,Pa,ur,Rl,Aa,fn,es,xx,qP=(xx=class extends h1{constructor(t){super();it(this,fn);it(this,Di);it(this,Ta);it(this,Gr);it(this,Pa);it(this,ur);it(this,Rl);it(this,Aa);We(this,Aa,!1),We(this,Rl,t.defaultOptions),this.setOptions(t.options),this.observers=[],We(this,Pa,t.client),We(this,Gr,Y(this,Pa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,We(this,Di,GP(this.options)),this.state=t.state??Y(this,Di),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,ur))==null?void 0:t.promise}setOptions(t){this.options={...Y(this,Rl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Gr).remove(this)}setData(t,r){const n=FP(this.state.data,t,this.options);return or(this,fn,es).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){or(this,fn,es).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=Y(this,ur))==null?void 0:n.promise;return(s=Y(this,ur))==null||s.cancel(t),r?r.then(dn).catch(dn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,Di))}isActive(){return this.observers.some(t=>MP(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===jh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Bm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OP(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,ur))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,ur))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,Gr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,ur)&&(Y(this,Aa)?Y(this,ur).cancel({revert:!0}):Y(this,ur).cancelRetry()),this.scheduleGc()),Y(this,Gr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||or(this,fn,es).call(this,{type:"invalidate"})}fetch(t,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,ur))return Y(this,ur).continueRetry(),Y(this,ur).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(We(this,Aa,!0),n.signal)})},a=()=>{const p=u1(this.options,r),b=(()=>{const g={client:Y(this,Pa),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return We(this,Aa,!1),this.options.persister?this.options.persister(p,b,this):p(b)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,Pa),state:this.state,fetchFn:a};return s(p),p})();(d=this.options.behavior)==null||d.onFetch(l,this),We(this,Ta,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&or(this,fn,es).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=p=>{var h,b,g,w;kf(p)&&p.silent||or(this,fn,es).call(this,{type:"error",error:p}),kf(p)||((b=(h=Y(this,Gr).config).onError)==null||b.call(h,p,this),(w=(g=Y(this,Gr).config).onSettled)==null||w.call(g,this.state.data,p,this)),this.scheduleGc()};return We(this,ur,p1({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var h,b,g,w;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(y){c(y);return}(b=(h=Y(this,Gr).config).onSuccess)==null||b.call(h,p,this),(w=(g=Y(this,Gr).config).onSettled)==null||w.call(g,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,h)=>{or(this,fn,es).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{or(this,fn,es).call(this,{type:"pause"})},onContinue:()=>{or(this,fn,es).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Y(this,ur).start()}},Di=new WeakMap,Ta=new WeakMap,Gr=new WeakMap,Pa=new WeakMap,ur=new WeakMap,Rl=new WeakMap,Aa=new WeakMap,fn=new WeakSet,es=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...KP(n.data,this.options),fetchMeta:t.meta??null};case"success":return We(this,Ta,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return kf(s)&&s.revert&&Y(this,Ta)?{...Y(this,Ta),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),yr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,Gr).notify({query:this,type:"updated",action:t})})},xx);function KP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mn,wx,QP=(wx=class extends Nd{constructor(t={}){super();it(this,Mn);this.config=t,We(this,Mn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??kh(s,r);let o=this.get(a);return o||(o=new qP({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){Y(this,Mn).has(t.queryHash)||(Y(this,Mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Y(this,Mn).get(t.queryHash);r&&(t.destroy(),r===t&&Y(this,Mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Y(this,Mn).get(t)}getAll(){return[...Y(this,Mn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ry(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>ry(t,n)):r}notify(t){yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){yr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mn=new WeakMap,wx),Dn,hr,Ra,Fn,Es,bx,ZP=(bx=class extends h1{constructor(t){super();it(this,Fn);it(this,Dn);it(this,hr);it(this,Ra);this.mutationId=t.mutationId,We(this,hr,t.mutationCache),We(this,Dn,[]),this.state=t.state||YP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,Dn).includes(t)||(Y(this,Dn).push(t),this.clearGcTimeout(),Y(this,hr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){We(this,Dn,Y(this,Dn).filter(r=>r!==t)),this.scheduleGc(),Y(this,hr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():Y(this,hr).remove(this))}continue(){var t;return((t=Y(this,Ra))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,d,f,m,p,h,b,g,w,y,v,x,N,S,C,j,A;const r=()=>{or(this,Fn,Es).call(this,{type:"continue"})};We(this,Ra,p1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(M,T)=>{or(this,Fn,Es).call(this,{type:"failed",failureCount:M,error:T})},onPause:()=>{or(this,Fn,Es).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,hr).canRun(this)}));const n=this.state.status==="pending",s=!Y(this,Ra).canStart();try{if(n)r();else{or(this,Fn,Es).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=Y(this,hr).config).onMutate)==null?void 0:o.call(a,t,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));T!==this.state.context&&or(this,Fn,Es).call(this,{type:"pending",context:T,variables:t,isPaused:s})}const M=await Y(this,Ra).start();return await((f=(d=Y(this,hr).config).onSuccess)==null?void 0:f.call(d,M,t,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,M,t,this.state.context)),await((b=(h=Y(this,hr).config).onSettled)==null?void 0:b.call(h,M,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,M,null,t,this.state.context)),or(this,Fn,Es).call(this,{type:"success",data:M}),M}catch(M){try{throw await((v=(y=Y(this,hr).config).onError)==null?void 0:v.call(y,M,t,this.state.context,this)),await((N=(x=this.options).onError)==null?void 0:N.call(x,M,t,this.state.context)),await((C=(S=Y(this,hr).config).onSettled)==null?void 0:C.call(S,void 0,M,this.state.variables,this.state.context,this)),await((A=(j=this.options).onSettled)==null?void 0:A.call(j,void 0,M,t,this.state.context)),M}finally{or(this,Fn,Es).call(this,{type:"error",error:M})}}finally{Y(this,hr).runNext(this)}}},Dn=new WeakMap,hr=new WeakMap,Ra=new WeakMap,Fn=new WeakSet,Es=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),yr.batch(()=>{Y(this,Dn).forEach(n=>{n.onMutationUpdate(t)}),Y(this,hr).notify({mutation:this,type:"updated",action:t})})},bx);function YP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ns,mn,Il,Nx,XP=(Nx=class extends Nd{constructor(t={}){super();it(this,ns);it(this,mn);it(this,Il);this.config=t,We(this,ns,new Set),We(this,mn,new Map),We(this,Il,0)}build(t,r,n){const s=new ZP({mutationCache:this,mutationId:++ic(this,Il)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){Y(this,ns).add(t);const r=_c(t);if(typeof r=="string"){const n=Y(this,mn).get(r);n?n.push(t):Y(this,mn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(Y(this,ns).delete(t)){const r=_c(t);if(typeof r=="string"){const n=Y(this,mn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&Y(this,mn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=_c(t);if(typeof r=="string"){const n=Y(this,mn).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=_c(t);if(typeof r=="string"){const s=(n=Y(this,mn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yr.batch(()=>{Y(this,ns).forEach(t=>{this.notify({type:"removed",mutation:t})}),Y(this,ns).clear(),Y(this,mn).clear()})}getAll(){return Array.from(Y(this,ns))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>ny(r,n))}findAll(t={}){return this.getAll().filter(r=>ny(t,r))}notify(t){yr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return yr.batch(()=>Promise.all(t.map(r=>r.continue().catch(dn))))}},ns=new WeakMap,mn=new WeakMap,Il=new WeakMap,Nx);function _c(e){var t;return(t=e.options.scope)==null?void 0:t.id}function iy(e){return{onFetch:(t,r)=>{var f,m,p,h,b;const n=t.options,s=(p=(m=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,a=((h=t.state.data)==null?void 0:h.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},y=u1(t.options,t.fetchOptions),v=async(x,N,S)=>{if(g)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const j=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:N,direction:S?"backward":"forward",meta:t.options.meta};return w(F),F})(),A=await y(j),{maxPages:M}=t.options,T=S?zP:LP;return{pages:T(x.pages,A,M),pageParams:T(x.pageParams,N,M)}};if(s&&a.length){const x=s==="backward",N=x?JP:oy,S={pages:a,pageParams:o},C=N(n,S);l=await v(S,C,x)}else{const x=e??a.length;do{const N=c===0?o[0]??n.initialPageParam:oy(n,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var g,w;return(w=(g=t.options).persister)==null?void 0:w.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function oy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function JP(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var At,Vs,$s,Fi,Li,Us,zi,Vi,Sx,eA=(Sx=class{constructor(e={}){it(this,At);it(this,Vs);it(this,$s);it(this,Fi);it(this,Li);it(this,Us);it(this,zi);it(this,Vi);We(this,At,e.queryCache||new QP),We(this,Vs,e.mutationCache||new XP),We(this,$s,e.defaultOptions||{}),We(this,Fi,new Map),We(this,Li,new Map),We(this,Us,0)}mount(){ic(this,Us)._++,Y(this,Us)===1&&(We(this,zi,d1.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,At).onFocus())})),We(this,Vi,Mu.subscribe(async e=>{e&&(await this.resumePausedMutations(),Y(this,At).onOnline())})))}unmount(){var e,t;ic(this,Us)._--,Y(this,Us)===0&&((e=Y(this,zi))==null||e.call(this),We(this,zi,void 0),(t=Y(this,Vi))==null||t.call(this),We(this,Vi,void 0))}isFetching(e){return Y(this,At).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Y(this,Vs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,At).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=Y(this,At).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Bm(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return Y(this,At).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=Y(this,At).get(n.queryHash),a=s==null?void 0:s.state.data,o=RP(t,a);if(o!==void 0)return Y(this,At).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return yr.batch(()=>Y(this,At).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Y(this,At).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Y(this,At);yr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Y(this,At);return yr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=yr.batch(()=>Y(this,At).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(dn).catch(dn)}invalidateQueries(e,t={}){return yr.batch(()=>(Y(this,At).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=yr.batch(()=>Y(this,At).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(dn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(dn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Y(this,At).build(this,t);return r.isStaleByTime(Bm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dn).catch(dn)}fetchInfiniteQuery(e){return e.behavior=iy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dn).catch(dn)}ensureInfiniteQueryData(e){return e.behavior=iy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mu.isOnline()?Y(this,Vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,At)}getMutationCache(){return Y(this,Vs)}getDefaultOptions(){return Y(this,$s)}setDefaultOptions(e){We(this,$s,e)}setQueryDefaults(e,t){Y(this,Fi).set(Cl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Y(this,Fi).values()],r={};return t.forEach(n=>{El(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){Y(this,Li).set(Cl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Y(this,Li).values()],r={};return t.forEach(n=>{El(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Y(this,$s).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===jh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Y(this,$s).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Y(this,At).clear(),Y(this,Vs).clear()}},At=new WeakMap,Vs=new WeakMap,$s=new WeakMap,Fi=new WeakMap,Li=new WeakMap,Us=new WeakMap,zi=new WeakMap,Vi=new WeakMap,Sx),tA=u.createContext(void 0),rA=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(tA.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_l.apply(this,arguments)}var Hs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hs||(Hs={}));const ly="popstate";function nA(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Hm("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Du(s)}return aA(t,r,null,e)}function Ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function g1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sA(){return Math.random().toString(36).substr(2,8)}function cy(e,t){return{usr:e.state,key:e.key,idx:t}}function Hm(e,t,r,n){return r===void 0&&(r=null),_l({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?co(t):t,{state:r,key:t&&t.key||n||sA()})}function Du(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function co(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aA(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Hs.Pop,c=null,d=f();d==null&&(d=0,o.replaceState(_l({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){l=Hs.Pop;let w=f(),y=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:y})}function p(w,y){l=Hs.Push;let v=Hm(g.location,w,y);d=f()+1;let x=cy(v,d),N=g.createHref(v);try{o.pushState(x,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(N)}a&&c&&c({action:l,location:g.location,delta:1})}function h(w,y){l=Hs.Replace;let v=Hm(g.location,w,y);d=f();let x=cy(v,d),N=g.createHref(v);o.replaceState(x,"",N),a&&c&&c({action:l,location:g.location,delta:0})}function b(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof w=="string"?w:Du(w);return v=v.replace(/ $/,"%20"),Ut(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ly,m),c=w,()=>{s.removeEventListener(ly,m),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let y=b(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:h,go(w){return o.go(w)}};return g}var uy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(uy||(uy={}));function iA(e,t,r){return r===void 0&&(r="/"),oA(e,t,r,!1)}function oA(e,t,r,n){let s=typeof t=="string"?co(t):t,a=Ch(s.pathname||"/",r);if(a==null)return null;let o=v1(e);lA(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=xA(a);l=vA(o[c],d,n)}return l}function v1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Ut(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=ra([n,c.relativePath]),f=r.concat(c);a.children&&a.children.length>0&&(Ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),v1(a.children,t,f,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:hA(d,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of y1(a.path))s(a,o,c)}),t}function y1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=y1(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function lA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gA(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cA=/^:[\w-]+$/,uA=3,dA=2,fA=1,mA=10,pA=-2,dy=e=>e==="*";function hA(e,t){let r=e.split("/"),n=r.length;return r.some(dy)&&(n+=pA),t&&(n+=dA),r.filter(s=>!dy(s)).reduce((s,a)=>s+(cA.test(a)?uA:a===""?fA:mA),n)}function gA(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function vA(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=fy({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ra([a,m.pathname]),pathnameBase:SA(ra([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=ra([a,m.pathnameBase]))}return o}function fy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yA(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,f,m)=>{let{paramName:p,isOptional:h}=f;if(p==="*"){let g=l[m]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const b=l[m];return h&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function yA(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),g1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function xA(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return g1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ch(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wA(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?co(e):e;return{pathname:r?r.startsWith("/")?r:bA(r,t):t,search:kA(n),hash:jA(s)}}function bA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function jf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NA(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x1(e,t){let r=NA(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function w1(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=co(e):(s=_l({},e),Ut(!s.pathname||!s.pathname.includes("?"),jf("?","pathname","search",s)),Ut(!s.pathname||!s.pathname.includes("#"),jf("#","pathname","hash",s)),Ut(!s.search||!s.search.includes("#"),jf("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?t[m]:"/"}let c=wA(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const ra=e=>e.join("/").replace(/\/\/+/g,"/"),SA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const b1=["post","put","patch","delete"];new Set(b1);const EA=["get",...b1];new Set(EA);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(this,arguments)}const Eh=u.createContext(null),_A=u.createContext(null),qa=u.createContext(null),kd=u.createContext(null),Ka=u.createContext({outlet:null,matches:[],isDataRoute:!1}),N1=u.createContext(null);function TA(e,t){let{relative:r}=t===void 0?{}:t;Ul()||Ut(!1);let{basename:n,navigator:s}=u.useContext(qa),{hash:a,pathname:o,search:l}=k1(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:ra([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Ul(){return u.useContext(kd)!=null}function Bl(){return Ul()||Ut(!1),u.useContext(kd).location}function S1(e){u.useContext(qa).static||u.useLayoutEffect(e)}function jd(){let{isDataRoute:e}=u.useContext(Ka);return e?UA():PA()}function PA(){Ul()||Ut(!1);let e=u.useContext(Eh),{basename:t,future:r,navigator:n}=u.useContext(qa),{matches:s}=u.useContext(Ka),{pathname:a}=Bl(),o=JSON.stringify(x1(s,r.v7_relativeSplatPath)),l=u.useRef(!1);return S1(()=>{l.current=!0}),u.useCallback(function(d,f){if(f===void 0&&(f={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let m=w1(d,JSON.parse(o),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ra([t,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[t,n,o,a,e])}function k1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=u.useContext(qa),{matches:s}=u.useContext(Ka),{pathname:a}=Bl(),o=JSON.stringify(x1(s,n.v7_relativeSplatPath));return u.useMemo(()=>w1(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function AA(e,t){return RA(e,t)}function RA(e,t,r,n){Ul()||Ut(!1);let{navigator:s}=u.useContext(qa),{matches:a}=u.useContext(Ka),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Bl(),f;if(t){var m;let w=typeof t=="string"?co(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||Ut(!1),f=w}else f=d;let p=f.pathname||"/",h=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=iA(e,{pathname:h}),g=FA(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ra([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ra([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&g?u.createElement(kd.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Hs.Pop}},g):g}function IA(){let e=$A(),t=CA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),r?u.createElement("pre",{style:s},r):null,null)}const OA=u.createElement(IA,null);class MA extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?u.createElement(Ka.Provider,{value:this.props.routeContext},u.createElement(N1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DA(e){let{routeContext:t,match:r,children:n}=e,s=u.useContext(Eh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(Ka.Provider,{value:t},n)}function FA(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Ut(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:p,errors:h}=r,b=m.route.loader&&p[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,p)=>{let h,b=!1,g=null,w=null;r&&(h=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||OA,c&&(d<0&&p===0?(b=!0,w=null):d===p&&(b=!0,w=m.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),v=()=>{let x;return h?x=g:b?x=w:m.route.Component?x=u.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=f,u.createElement(DA,{match:m,routeContext:{outlet:f,matches:y,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?u.createElement(MA,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var j1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j1||{}),Fu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fu||{});function LA(e){let t=u.useContext(Eh);return t||Ut(!1),t}function zA(e){let t=u.useContext(_A);return t||Ut(!1),t}function VA(e){let t=u.useContext(Ka);return t||Ut(!1),t}function C1(e){let t=VA(),r=t.matches[t.matches.length-1];return r.route.id||Ut(!1),r.route.id}function $A(){var e;let t=u.useContext(N1),r=zA(Fu.UseRouteError),n=C1(Fu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function UA(){let{router:e}=LA(j1.UseNavigateStable),t=C1(Fu.UseNavigateStable),r=u.useRef(!1);return S1(()=>{r.current=!0}),u.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Tl({fromRouteId:t},a)))},[e,t])}function BA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ri(e){Ut(!1)}function WA(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Hs.Pop,navigator:a,static:o=!1,future:l}=e;Ul()&&Ut(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:a,static:o,future:Tl({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=co(n));let{pathname:f="/",search:m="",hash:p="",state:h=null,key:b="default"}=n,g=u.useMemo(()=>{let w=Ch(f,c);return w==null?null:{location:{pathname:w,search:m,hash:p,state:h,key:b},navigationType:s}},[c,f,m,p,h,b,s]);return g==null?null:u.createElement(qa.Provider,{value:d},u.createElement(kd.Provider,{children:r,value:g}))}function HA(e){let{children:t,location:r}=e;return AA(qm(t),r)}new Promise(()=>{});function qm(e,t){t===void 0&&(t=[]);let r=[];return u.Children.forEach(e,(n,s)=>{if(!u.isValidElement(n))return;let a=[...t,s];if(n.type===u.Fragment){r.push.apply(r,qm(n.props.children,a));return}n.type!==ri&&Ut(!1),!n.props.index||!n.props.children||Ut(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=qm(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(this,arguments)}function qA(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function KA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GA(e,t){return e.button===0&&(!t||t==="_self")&&!KA(e)}const QA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZA="6";try{window.__reactRouterVersion=ZA}catch{}const YA="startTransition",my=gp[YA];function XA(e){let{basename:t,children:r,future:n,window:s}=e,a=u.useRef();a.current==null&&(a.current=nA({window:s,v5Compat:!0}));let o=a.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},f=u.useCallback(m=>{d&&my?my(()=>c(m)):c(m)},[c,d]);return u.useLayoutEffect(()=>o.listen(f),[o,f]),u.useEffect(()=>BA(n),[n]),u.createElement(WA,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tR=u.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m}=t,p=qA(t,QA),{basename:h}=u.useContext(qa),b,g=!1;if(typeof d=="string"&&eR.test(d)&&(b=d,JA))try{let x=new URL(window.location.href),N=d.startsWith("//")?new URL(x.protocol+d):new URL(d),S=Ch(N.pathname,h);N.origin===x.origin&&S!=null?d=S+N.search+N.hash:g=!0}catch{}let w=TA(d,{relative:s}),y=rR(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:m});function v(x){n&&n(x),x.defaultPrevented||y(x)}return u.createElement("a",Km({},p,{href:b||w,onClick:g||a?n:v,ref:r,target:c}))});var py;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(py||(py={}));var hy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hy||(hy={}));function rR(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=jd(),d=Bl(),f=k1(e,{relative:o});return u.useCallback(m=>{if(GA(m,r)){m.preventDefault();let p=n!==void 0?n:Du(d)===Du(f);c(e,{replace:p,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,f,n,s,r,e,a,o,l])}const Qe=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qe.displayName="Card";const ni=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("flex flex-col space-y-1.5 p-6",e),...t}));ni.displayName="CardHeader";const si=u.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:Ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));si.displayName="CardTitle";const ai=u.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));ai.displayName="CardDescription";const ii=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("p-6 pt-0",e),...t}));ii.displayName="CardContent";const nR=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:Ne("flex items-center p-6 pt-0",e),...t}));nR.displayName="CardFooter";const gy=({onNavigate:e})=>{const t=[{id:"scale",icon:hs,title:"Báscula",description:"Pesar alimentos",borderColor:"border-primary/70",hoverBorder:"hover:border-primary hover:shadow-[0_0_30px_hsl(180_100%_50%/0.5)]",iconBg:"bg-primary/40",iconHoverBg:"group-hover:bg-primary",glowClass:"shadow-[0_0_25px_hsl(180_100%_50%/0.6),0_0_50px_hsl(180_100%_50%/0.3)] hover:glow-cyan"},{id:"scanner",icon:el,title:"Escáner",description:"Identificar alimentos",borderColor:"border-secondary/70",hoverBorder:"hover:border-secondary hover:shadow-[0_0_30px_hsl(300_80%_55%/0.5)]",iconBg:"bg-secondary/40",iconHoverBg:"group-hover:bg-secondary",glowClass:"shadow-[0_0_25px_hsl(300_80%_55%/0.6),0_0_50px_hsl(300_80%_55%/0.3)] hover:glow-magenta"},{id:"timer",icon:EE,title:"Temporizador",description:"Temporizador de cocina",borderColor:"border-success/70",hoverBorder:"hover:border-success hover:shadow-[0_0_30px_hsl(150_70%_50%/0.5)]",iconBg:"bg-success/40",iconHoverBg:"group-hover:bg-success",glowClass:"shadow-[0_0_25px_hsl(150_70%_50%/0.6),0_0_50px_hsl(150_70%_50%/0.3)] hover:glow-green"},{id:"recipes",icon:lE,title:"Recetas",description:"Asistente de recetas",borderColor:"border-warning/70",hoverBorder:"hover:border-warning hover:shadow-[0_0_30px_hsl(40_100%_55%/0.5)]",iconBg:"bg-warning/40",iconHoverBg:"group-hover:bg-warning",glowClass:"shadow-[0_0_25px_hsl(40_100%_55%/0.6),0_0_50px_hsl(40_100%_55%/0.3)] hover:glow-yellow"}];return i.jsx("div",{className:"flex h-[600px] items-center justify-center bg-background p-3",children:i.jsxs("div",{className:"w-full max-w-5xl relative",children:[i.jsx("button",{onClick:()=>e("settings"),className:"absolute -top-24 right-0 z-10 rounded-full bg-muted/50 p-3 hover:bg-muted transition-smooth border border-muted",children:i.jsx(mh,{className:"h-9 w-9"})}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(({id:r,icon:n,title:s,description:a,borderColor:o,hoverBorder:l,iconBg:c,iconHoverBg:d,glowClass:f})=>{const m=p=>{p.preventDefault(),p.stopPropagation(),console.log("MainMenu: Navigating to:",r),e(r)};return i.jsxs(Qe,{className:`group cursor-pointer overflow-hidden border-2 ${o} ${l} ${f} transition-smooth hover:scale-[1.02] active:scale-[0.98]`,onClick:m,children:[i.jsx("div",{className:"gradient-holographic absolute inset-0 opacity-0 transition-smooth group-hover:opacity-20 pointer-events-none"}),i.jsxs("div",{className:"relative py-5 px-4 text-center pointer-events-none",children:[i.jsx("div",{className:"mb-2 flex justify-center",children:i.jsx("div",{className:`rounded-2xl ${c} ${d} p-4 transition-smooth group-hover:text-primary-foreground`,children:i.jsx(n,{className:"h-12 w-12"})})}),i.jsx("h2",{className:"mb-1 text-2xl font-bold leading-tight",children:s}),i.jsx("p",{className:"text-base text-muted-foreground leading-tight",children:a})]})]},r)})})]})})},_h=hd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 glow-cyan",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-border bg-card hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 glow-magenta",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90 glow-green",warning:"bg-warning text-warning-foreground hover:bg-warning/90",glow:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground hover:opacity-90 glow-cyan"},size:{default:"h-12 px-5 py-3 text-base [&_svg]:size-5",sm:"h-10 rounded-md px-4 text-sm [&_svg]:size-4",lg:"h-14 rounded-lg px-8 text-lg [&_svg]:size-6",icon:"h-12 w-12 [&_svg]:size-6",xl:"h-16 rounded-lg px-12 text-xl [&_svg]:size-7",xxl:"h-20 rounded-xl px-16 text-2xl [&_svg]:size-8"}},defaultVariants:{variant:"default",size:"default"}}),z=u.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?p2:"button";return i.jsx(o,{className:Ne(_h({variant:t,size:r,className:e})),ref:a,...s})});z.displayName="Button";const Io=4,vy="storage_version",Lu=e=>{if(e)try{return JSON.parse(e)}catch(t){console.error("Failed to parse JSON from storage:",t);return}},E1=e=>e==="barcode"||e==="ai"||e==="manual",sR=e=>E1(e)?e:e==="camera"?"ai":"manual",aR=e=>{if(!e||typeof e!="object")return!1;const t=e;return typeof t.name=="string"&&typeof t.timestamp=="string"&&typeof t.carbs=="number"&&typeof t.weight=="number"&&typeof t.carbsPer100g=="number"&&typeof t.proteinsPer100g=="number"&&typeof t.fatsPer100g=="number"&&typeof t.kcalPer100g=="number"&&E1(t.source)},iR=e=>{if(aR(e))return e;if(!e||typeof e!="object")return null;const t=e,r=typeof t.name=="string"?t.name:void 0,n=typeof t.weight=="number"?t.weight:void 0,s=typeof t.carbs=="number"?t.carbs:void 0;if(!r||typeof n!="number"||typeof s!="number")return null;const a=typeof t.proteins=="number"?t.proteins:0,o=typeof t.fats=="number"?t.fats:0,l=typeof t.glycemicIndex=="number"?t.glycemicIndex:0,c=n>0?n:typeof t.portionWeight=="number"&&t.portionWeight>0?t.portionWeight:100,d=typeof t.carbsPer100g=="number"?t.carbsPer100g:s/c*100,f=typeof t.proteinsPer100g=="number"?t.proteinsPer100g:a/c*100,m=typeof t.fatsPer100g=="number"?t.fatsPer100g:o/c*100,p=typeof t.kcalPer100g=="number"?t.kcalPer100g:d*4+f*4+m*9,b=typeof t.timestamp=="string"?t.timestamp:typeof t.timestamp=="number"?new Date(t.timestamp).toISOString():typeof t.capturedAt=="string"?t.capturedAt:typeof t.capturedAt=="number"?new Date(t.capturedAt).toISOString():new Date().toISOString(),g={name:r,weight:n,carbs:s,proteins:a,fats:o,glycemicIndex:l,carbsPer100g:d,proteinsPer100g:f,fatsPer100g:m,kcalPer100g:p,source:sR(t.source),timestamp:b};return typeof t.id=="string"&&t.id.length>0&&(g.id=t.id),typeof t.capturedAt=="string"?g.capturedAt=t.capturedAt:typeof t.capturedAt=="number"&&(g.capturedAt=new Date(t.capturedAt).toISOString()),typeof t.kcal=="number"&&(g.kcal=t.kcal),typeof t.confidence=="number"&&(g.confidence=t.confidence),typeof t.portionWeight=="number"&&(g.portionWeight=t.portionWeight),typeof t.photo=="string"&&(g.photo=t.photo),g},oR=e=>{if(!e||typeof e!="object")return!1;const t=e;return t.type==="exportBolus"&&typeof t.carbs=="number"&&typeof t.timestamp=="string"&&typeof t.queuedAt=="number"},_1="bascula_settings",bi=_1,wa="bascula_history",yy=100,T1={navSafeExit:!1,voiceSelector:!1,timerAlarms:!1,calibrationV2:!1,networkModal:!1,miniEbStable:!1,otaCheck:!1,otaApply:!1,debugLogs:!1,mascotMotion:!1},Th=1,Gm=e=>{if(e!=null){if(e===0||e==="0")return 0;if(e===1||e==="1")return 1;if(e===!1)return 0;if(e===!0)return 1;if(typeof e=="number")return e<=0?0:1;if(typeof e=="string"){const t=Number.parseInt(e,10);if(!Number.isNaN(t))return t<=0?0:1}}},Qm=(e,t=Th)=>Gm(e)??t,ka={calibrationFactor:1,defaultUnit:"g",scale:{decimals:Th},chatGptKey:"",apiUrl:"http://127.0.0.1:8080",wsUrl:"ws://127.0.0.1:8080",nightscoutUrl:"",nightscoutToken:"",diabetesMode:!1,correctionFactor:50,carbRatio:10,targetGlucose:100,hypoAlarm:70,hyperAlarm:180,isVoiceActive:!1,voiceId:void 0,wakeWordEnabled:!1,theme:"dark",timerAlarmSoundEnabled:!0,timerVoiceAnnouncementsEnabled:!1,uiVolume:1,ui:{flags:{...T1}}},Zm=e=>({...e,scale:{...e.scale},ui:{...e.ui,flags:{...e.ui.flags}}}),xy=e=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("app-settings-updated",{detail:{settings:e}}))},Pi=(e,t)=>{const r=Zm(e);if(!t)return r.scale.decimals=Qm(r.scale.decimals),r;const{ui:n,scale:s,...a}=t,o={...a};return"decimals"in o&&delete o.decimals,"showDecimal"in o&&delete o.showDecimal,Object.assign(r,o),s&&(r.scale={...r.scale,...s}),r.scale.decimals=Qm(r.scale.decimals),r.ui={...r.ui,...n,flags:{...r.ui.flags,...(n==null?void 0:n.flags)??{}}},r},wy={1:e=>e,2:e=>(e.settings=Pi(ka,e.settings),e),3:e=>(e.settings=Pi(ka,e.settings),e),4:e=>{const t={...e.settings??{}},r=typeof t.scale=="object"&&t.scale!==null?{...t.scale}:{},n=Gm(r.decimals)??Gm(t.decimals)??(typeof t.showDecimal=="boolean"?t.showDecimal?1:0:void 0)??Th,s={...t};return s.scale={...r,decimals:n},delete s.decimals,delete s.showDecimal,s.scale&&(s.scale.decimals=Qm(s.scale.decimals)),e.settings=Pi(ka,s),e}};function lR(){try{const e=parseInt(localStorage.getItem(vy)||"0");if(e===Io)return;console.log(`🔄 Migrating storage from v${e} to v${Io}`);let t={settings:Lu(localStorage.getItem(bi))??{},history:Lu(localStorage.getItem(wa))??[]};for(let r=e+1;r<=Io;r++)wy[r]&&(t=wy[r](t),console.log(`✅ Applied migration to v${r}`));localStorage.setItem(bi,JSON.stringify(t.settings??{})),localStorage.setItem(wa,JSON.stringify(Array.isArray(t.history)?t.history:[])),localStorage.setItem(vy,Io.toString()),console.log(`✅ Migration complete to v${Io}`)}catch(e){console.error("❌ Storage migration failed:",e)}}class cR{constructor(){lR()}getSettings(){try{const t=localStorage.getItem(bi);if(t){const r=JSON.parse(t);return Pi(ka,r)}}catch(t){console.error("Error loading settings:",t)}return Zm(ka)}saveSettings(t){try{const r=this.getSettings(),n=Pi(r,t);localStorage.setItem(bi,JSON.stringify(n)),xy(n)}catch(r){console.error("Error saving settings:",r)}}resetSettings(){try{localStorage.removeItem(bi),xy(Zm(ka))}catch(t){console.error("Error resetting settings:",t)}}getWeightHistory(){try{const t=localStorage.getItem(wa);if(t)return JSON.parse(t)}catch(t){console.error("Error loading history:",t)}return[]}addWeightRecord(t,r,n,s){try{const a=this.getWeightHistory(),o={id:Date.now().toString(),weight:t,unit:r,stable:n,timestamp:Date.now(),note:s};a.unshift(o);const l=a.slice(0,yy);localStorage.setItem(wa,JSON.stringify(l))}catch(a){console.error("Error saving weight record:",a)}}deleteWeightRecord(t){try{const n=this.getWeightHistory().filter(s=>s.id!==t);localStorage.setItem(wa,JSON.stringify(n))}catch(r){console.error("Error deleting weight record:",r)}}clearWeightHistory(){try{localStorage.removeItem(wa)}catch(t){console.error("Error clearing history:",t)}}getScannerHistory(){try{const t=Lu(localStorage.getItem("scanner_history"));if(Array.isArray(t))return t.map(iR).filter(r=>r!==null)}catch(t){console.error("Error loading scanner history:",t)}return[]}saveScannerHistory(t){try{localStorage.setItem("scanner_history",JSON.stringify(t))}catch(r){console.error("Error saving scanner history:",r)}}addScannerRecord(t){try{const r=this.getScannerHistory(),n=t.timestamp instanceof Date?t.timestamp.toISOString():t.timestamp??new Date().toISOString();r.unshift({...t,timestamp:n});const s=r.slice(0,yy);this.saveScannerHistory(s)}catch(r){console.error("Error adding scanner record:",r)}}getScannerQueue(){try{const t=Lu(localStorage.getItem("scanner_history_queue"));if(Array.isArray(t))return t.filter(oR)}catch(t){console.error("Error loading scanner queue:",t)}return[]}enqueueScannerAction(t){try{const r=this.getScannerQueue(),n=t.timestamp instanceof Date?t.timestamp.toISOString():t.timestamp;r.push({...t,timestamp:n,queuedAt:Date.now()}),localStorage.setItem("scanner_history_queue",JSON.stringify(r))}catch(r){console.error("Error enqueuing scanner action:",r)}}dequeueScannerAction(){try{const t=this.getScannerQueue();if(t.length===0)return null;const r=t.shift();return localStorage.setItem("scanner_history_queue",JSON.stringify(t)),r?{type:r.type,carbs:r.carbs,insulin:r.insulin,timestamp:r.timestamp}:null}catch(t){return console.error("Error dequeuing scanner action:",t),null}}clearScannerQueue(){try{localStorage.removeItem("scanner_history_queue")}catch(t){console.error("Error clearing scanner queue:",t)}}exportData(){const t={settings:this.getSettings(),history:this.getWeightHistory(),exportDate:new Date().toISOString()};return JSON.stringify(t,null,2)}importData(t){try{const r=JSON.parse(t);if(!r||typeof r!="object")return!1;const n=r;if(n.settings&&typeof n.settings=="object"){const s=Pi(ka,n.settings);localStorage.setItem(bi,JSON.stringify(s))}return Array.isArray(n.history)&&localStorage.setItem(wa,JSON.stringify(n.history)),!0}catch(r){return console.error("Error importing data:",r),!1}}}const Pe=new cR,uR=new Set(["localhost","127.0.0.1","::1"]),dR=(()=>{const e=[void 0,void 0,void 0,void 0],t=[];for(const r of e){if(typeof r!="string")continue;const n=r.split(",").map(s=>s.trim()).filter(Boolean);t.push(...n)}return t})(),Ph=()=>{if(typeof window>"u")return!0;const t=(window.location.hostname||"").trim().toLowerCase();return!t||uR.has(t)?!0:dR.some(r=>r.toLowerCase()===t)},fR="ws://127.0.0.1:8080",Cf=10,mR=1e3,pR=3e4,hR=500,gR=5e3,Wl=()=>{const[e,t]=u.useState(0),[r,n]=u.useState(!1),[s,a]=u.useState("g"),[o,l]=u.useState(!1),[c,d]=u.useState(null),[f,m]=u.useState(0),[p,h]=u.useState(0),[b,g]=u.useState("reconnecting"),w=u.useRef(null),y=u.useRef(null),v=u.useRef(!0),x=u.useRef(null),N=u.useRef(null),S=u.useRef(!1),C=u.useRef(!1),j=u.useRef(0),A=u.useRef(null),M=u.useRef(null),T=u.useRef(!1),F=Pe.getSettings(),R=typeof window<"u"?window.location.origin:"",V=Ph(),L=(F.apiUrl||R).replace(/\/$/,""),le=(F.wsUrl||fR).replace(/\/$/,""),re=V?L:R||L,X=V?le:R?R.replace(/^http/i,R.startsWith("https")?"wss":"ws"):le,P=typeof window<"u"?window.location.hostname:"",E=/\.lovable\.app$/i.test(P),K=u.useCallback(()=>{const ye=Date.now(),$=j.current>0&&ye-j.current<=gR,W=C.current;l(W||$),g(W?"connected":$?"reconnecting":"no-data"),d(!W&&!$?"Error de conexión con la báscula":null)},[g,d,l]),O=u.useCallback(()=>{if(j.current===0){const ye=Date.now();j.current=ye,h(ye)}},[h]),de=u.useCallback(()=>{j.current=0,h(0)},[h]),G=u.useCallback(()=>{x.current&&(clearInterval(x.current),x.current=null),N.current&&(N.current.abort(),N.current=null),S.current=!1},[]),Se=u.useCallback(ye=>{if(ye){const $=Date.now();j.current=$,h($)}else if(j.current===0){const $=Date.now();j.current=$,h($)}K()},[h,K]),Ce=u.useCallback(()=>{if(E||x.current)return;O(),K();const ye=async()=>{var W;if(S.current)return;S.current=!0,(W=N.current)==null||W.abort();const $=new AbortController;N.current=$;try{const oe=await fetch(`${re}/api/scale/weight`,{signal:$.signal});if(!oe.ok){Se(!1);return}const D=await oe.json(),H=D==null?void 0:D.value;let te=0;if(typeof H=="number"&&Number.isFinite(H))te=H;else if(typeof H=="string"){const Q=Number(H);if(Number.isNaN(Q)){Se(!1);return}te=Q}else if(H!==null){Se(!1);return}t(te),a("g"),n(!1),Se(!0)}catch(oe){oe.name!=="AbortError"&&Se(!1)}finally{S.current=!1}};ye(),x.current=setInterval(()=>{ye()},hR)},[re,O,Se,E,n,a,t,K]),qe=ye=>Math.min(mR*Math.pow(2,ye),pR)+Math.random()*1e3,ae=u.useCallback(()=>{if(!V)return null;if(y.current&&(clearTimeout(y.current),y.current=null),f>=Cf){C.current=!1,Ce(),K();return}try{const ye=new WebSocket(`${X}/ws/scale`);return w.current=ye,ye.onopen=()=>{G(),C.current=!0,de(),m(0),K()},ye.onmessage=$=>{try{const W=JSON.parse($.data);typeof W.weight=="number"&&t(W.weight),typeof W.stable=="boolean"&&n(W.stable),(W.unit==="g"||W.unit==="ml")&&a(W.unit)}catch(W){console.error("Failed to parse WebSocket message:",W)}},ye.onerror=$=>{console.error("WebSocket error:",$)},ye.onclose=$=>{if(console.log("Scale WebSocket disconnected",$.code,$.reason),C.current=!1,w.current=null,Ce(),K(),v.current&&f<Cf){const W=qe(f);y.current=setTimeout(()=>{m(oe=>oe+1),ae()},W)}},ye}catch(ye){if(console.error("Failed to create WebSocket:",ye),C.current=!1,Ce(),K(),v.current&&f<Cf){const $=qe(f);y.current=setTimeout(()=>{m(W=>W+1),ae()},$)}return null}},[V,f,de,n,a,t,Ce,G,K,X]);return u.useEffect(()=>{if(E){G(),w.current&&(w.current.close(),w.current=null),A.current&&(A.current.close(),A.current=null),M.current&&(clearTimeout(M.current),M.current=null),T.current=!1,C.current=!0;const ye=Date.now();return j.current=ye,h(ye),t(127.5),n(!0),a("g"),l(!0),d(null),g("connected"),()=>{C.current=!1,G(),y.current&&(clearTimeout(y.current),y.current=null),M.current&&(clearTimeout(M.current),M.current=null),K()}}return V?(v.current=!0,ae(),()=>{v.current=!1,G(),y.current&&(clearTimeout(y.current),y.current=null),w.current&&(w.current.close(),w.current=null),C.current=!1,K()}):(v.current=!1,y.current&&(clearTimeout(y.current),y.current=null),w.current&&(w.current.close(),w.current=null),C.current=!1,K(),()=>{G(),y.current&&(clearTimeout(y.current),y.current=null),w.current&&(w.current.close(),w.current=null)})},[ae,E,V,G,K]),u.useEffect(()=>{j.current=p},[p]),u.useEffect(()=>{if(E||V)return;if(typeof window>"u"||typeof window.EventSource>"u")return C.current=!1,K(),Ce(),()=>{G()};T.current=!0;const ye=()=>{T.current&&(M.current&&clearTimeout(M.current),M.current=setTimeout(()=>{T.current&&(C.current=!1,K(),$())},1500))},$=()=>{if(T.current){A.current&&(A.current.close(),A.current=null);try{const W=new EventSource("/api/scale/events");A.current=W,W.onopen=()=>{T.current&&(C.current=!0,de(),G(),d(null),m(0),K())},W.addEventListener("weight",oe=>{if(T.current)try{const H=JSON.parse(oe.data),te=H==null?void 0:H.value;let Q=0;if(typeof te=="number"&&Number.isFinite(te))Q=te;else if(typeof te=="string"){const me=Number(te);Number.isNaN(me)||(Q=me)}t(Q),n(!1),a("g"),C.current=!0,K()}catch(D){console.error("Failed to parse SSE weight event",D)}}),W.onerror=()=>{T.current&&(C.current=!1,K(),Ce(),ye())}}catch(W){console.error("Failed to initialise SSE connection",W),C.current=!1,K(),Ce(),ye()}}};return $(),()=>{T.current=!1,M.current&&(clearTimeout(M.current),M.current=null),A.current&&(A.current.close(),A.current=null),G(),C.current=!1,K()}},[E,V,de,d,n,m,a,t,Ce,G,K]),{weight:e,isStable:r,unit:s,isConnected:o,error:c,reconnectAttempts:f,connectionState:b}};class vR{constructor(){jr(this,"logs",[]);jr(this,"maxLogs",100);jr(this,"minLevel","info")}isDebugFlagEnabled(){try{return Pe.getSettings().ui.flags.debugLogs}catch{return!1}}shouldLog(t){const r=["debug","info","warn","error"];return t==="debug"&&!this.isDebugFlagEnabled()?!1:r.indexOf(t)>=r.indexOf(this.minLevel)}log(t,r,n){if(!this.shouldLog(t))return;const s={level:t,message:r,timestamp:new Date().toISOString(),context:n};this.logs.push(s),this.logs.length>this.maxLogs&&this.logs.shift();const a={debug:"color: #888",info:"color: #0ea5e9",warn:"color: #f59e0b; font-weight: bold",error:"color: #ef4444; font-weight: bold"};if((t==="debug"?console.debug:console.log)(`%c${{debug:"🔍",info:"ℹ️",warn:"⚠️",error:"❌"}[t]} [${t.toUpperCase()}] ${r}`,a[t],n??""),t==="error")try{const c=JSON.parse(localStorage.getItem("error_logs")||"[]");c.push(s),c.length>20&&c.shift(),localStorage.setItem("error_logs",JSON.stringify(c))}catch{}}debug(t,r){this.log("debug",t,r)}info(t,r){this.log("info",t,r)}warn(t,r){this.log("warn",t,r)}error(t,r){this.log("error",t,r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[],localStorage.removeItem("error_logs")}exportLogs(){return JSON.stringify(this.logs,null,2)}}const fe=new vR;class yR{constructor(){jr(this,"queue",[]);jr(this,"isProcessing",!1);jr(this,"maxRetries",3);jr(this,"storageKey","offline_queue");this.loadQueue(),this.setupOnlineListener()}loadQueue(){try{const t=localStorage.getItem(this.storageKey);t&&(this.queue=JSON.parse(t),fe.info("Loaded offline queue",{count:this.queue.length}))}catch(t){fe.error("Failed to load offline queue",{error:t})}}saveQueue(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.queue))}catch(t){fe.error("Failed to save offline queue",{error:t})}}setupOnlineListener(){window.addEventListener("online",()=>{fe.info("Connection restored, processing offline queue"),this.processQueue()})}enqueue(t,r,n,s){const a=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o={id:a,url:t,method:r,body:n,headers:s,timestamp:Date.now(),retries:0};return this.queue.push(o),this.saveQueue(),fe.info("Request queued for offline sync",{id:a,url:t,method:r}),navigator.onLine&&this.processQueue(),a}async processQueue(){if(this.isProcessing||this.queue.length===0||!navigator.onLine)return;this.isProcessing=!0,fe.info("Processing offline queue",{count:this.queue.length});const t=[];for(const r of this.queue)try{const n=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body!==void 0?JSON.stringify(r.body):void 0});if(n.ok)fe.info("Successfully synced queued request",{id:r.id});else throw new Error(`HTTP ${n.status}`)}catch(n){r.retries++,fe.warn("Failed to sync request",{id:r.id,retries:r.retries,error:n}),r.retries<this.maxRetries?t.push(r):fe.error("Request exceeded max retries, discarding",{id:r.id})}this.queue=t,this.saveQueue(),this.isProcessing=!1,fe.info("Offline queue processed",{remaining:this.queue.length})}getQueueSize(){return this.queue.length}clearQueue(){this.queue=[],this.saveQueue(),fe.info("Offline queue cleared")}}const xR=new yR;class Et extends Error{constructor(t,r,n){super(t),this.status=r,this.code=n,this.name="ApiError"}}class wR{constructor(){jr(this,"baseUrl");jr(this,"defaultTimeout",3e4);const t=Pe.getSettings();this.baseUrl=this.normalizeBaseUrl(t.apiUrl)}normalizeBaseUrl(t){var r;try{if(typeof window<"u"&&((r=window.location)!=null&&r.origin)){const n=window.location.origin.replace(/\/$/,"");if(!t||/^(https?:\/\/)?(localhost|127\.0\.0\.1)(:\d+)?$/i.test(t))return n;try{return new URL(t),t.replace(/\/$/,"")}catch{return n}}return t}catch{return t}}updateBaseUrl(t){this.baseUrl=this.normalizeBaseUrl(t)}getBaseUrl(){return this.baseUrl}async fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n);try{const o=await fetch(t,{...r,signal:s.signal});return clearTimeout(a),o}catch(o){throw clearTimeout(a),o}}async request(t,r={}){const{method:n="GET",body:s,headers:a={},skipQueue:o=!1,timeout:l=this.defaultTimeout}=r,c=`${this.baseUrl}${t}`,d=["POST","PUT","DELETE","PATCH"].includes(n);if(!navigator.onLine&&d&&!o)throw fe.warn("Offline: Queueing request",{url:c,method:n}),xR.enqueue(c,n,s,a),new Et("Sin conexión. La operación se sincronizará cuando haya conexión.",0,"OFFLINE");const f={"Content-Type":"application/json",...a};try{fe.debug("API Request",{url:c,method:n});const m=await this.fetchWithTimeout(c,{method:n,headers:f,body:s!==void 0?JSON.stringify(s):void 0},l);if(!m.ok){let p=`HTTP ${m.status}`,h=`HTTP_${m.status}`;try{const b=await m.json();p=b.message||p,h=b.code||h}catch{}throw fe.error("API Error",{url:c,status:m.status,message:p}),new Et(p,m.status,h)}try{const p=await m.json();return fe.debug("API Response",{url:c,status:m.status}),p}catch{return{}}}catch(m){throw m instanceof Et?m:m instanceof Error?m.name==="AbortError"?(fe.error("Request timeout",{url:c,timeout:l}),new Et("Tiempo de espera agotado",0,"TIMEOUT")):(fe.error("Network error",{url:c,error:m.message}),new Et("Error de conexión. Verifica tu red.",0,"NETWORK_ERROR")):new Et("Error desconocido",0,"UNKNOWN")}}get(t){return this.request(t)}post(t,r){return this.request(t,{method:"POST",body:r})}put(t,r){return this.request(t,{method:"PUT",body:r})}delete(t){return this.request(t,{method:"DELETE"})}}const rt=new wR,P1=e=>{rt.updateBaseUrl(e)};class bR{constructor(){const t=Pe.getSettings();P1(t.apiUrl)}async scaleTare(){await rt.post("/api/scale/tare")}async scaleZero(){await rt.post("/api/scale/zero")}async getScaleWeight(){return rt.get("/api/scale/weight")}async setCalibrationFactor(t){await rt.post("/api/scale/calibrate",{factor:t})}async applyCalibration(t){return rt.post("/api/scale/calibrate/apply",{reference_grams:t})}async analyzeFood(t,r){const n=Pe.getSettings(),s=new FormData;s.append("image",t),s.append("weight",r.toString());const a=await fetch(`${n.apiUrl}/api/scanner/analyze`,{method:"POST",body:s});if(!a.ok)throw new Et("Failed to analyze food");return a.json()}async scanBarcode(t){return rt.get(`/api/scanner/barcode/${t}`)}async analyzeFoodPhoto(t){try{const r=await rt.post("/api/scanner/analyze-photo",{image:t});return r.confidence<.7?null:r}catch(r){return fe.error("Photo analysis failed:",r),null}}async startTimer(t){await rt.post("/api/timer/start",{seconds:t})}async stopTimer(){await rt.post("/api/timer/stop")}async getTimerStatus(){return rt.get("/api/timer/status")}async getGlucose(){if(!Pe.getSettings().nightscoutUrl)throw new Et("Nightscout no configurado",0,"NOT_CONFIGURED");return rt.get("/api/nightscout/glucose")}async exportBolus(t,r,n){await rt.post("/api/nightscout/bolus",{carbs:t,insulin:r,timestamp:n})}async speak(t,r){const n=r?{text:t,voice:r}:{text:t};try{await rt.post("/api/voice/speak",n)}catch{const s=new URLSearchParams({text:t});r&&s.set("voice",r),await rt.post(`/api/voice/tts/say?${s.toString()}`)}}async getWakeStatus(){return rt.get("/api/voice/wake/status")}async enableWake(){await rt.post("/api/voice/wake/enable")}async disableWake(){await rt.post("/api/voice/wake/disable")}async simulateWake(t){return rt.post("/api/voice/wake/simulate",{text:t})}async getRecipe(t,r){return rt.post("/api/recipes/generate",{prompt:t,servings:r})}async nextRecipeStep(t,r,n){return rt.post("/api/recipes/next",{recipeId:t,currentStep:r,userResponse:n})}async fetchBackendSettings(){return rt.get("/api/settings")}async updateBackendSettings(t){const{pin:r,...n}=t,s={};return r&&(s.Authorization=`BasculaPin ${r}`),rt.request("/api/settings",{method:"POST",body:n,headers:s})}async testOpenAI(t,r){const n={};t&&(n.openai_api_key=t);const s={};return r&&(s.Authorization=`BasculaPin ${r}`),rt.request("/api/settings/test/openai",{method:"POST",body:n,headers:s})}async testNightscout(t,r,n){const s={};t&&(s.nightscout_url=t),r&&(s.nightscout_token=r);const a={};return n&&(a.Authorization=`BasculaPin ${n}`),rt.request("/api/settings/test/nightscout",{method:"POST",body:s,headers:a})}async getOtaStatus(){const t=await rt.get("/api/ota/check");let r=null;try{r=await this.getOtaJobStatus()}catch(d){fe.warn("No se pudo obtener el estado OTA actual",{error:d})}const n=d=>{if(!d)return"";const f=d.trim();return!f||f.toLowerCase()==="unknown"?"":f},s=n(t.current_version)||n(r==null?void 0:r.current),a=n(t.available_version),o=n(r==null?void 0:r.target),l=a||o||s,c=!!(t.available&&a&&a!==s);return{current:s,latest:l,availableVersion:a||void 0,hasUpdate:c,reason:t.reason,notes:t.notes}}async getOtaJobStatus(){return rt.get("/api/ota/status")}async applyOtaUpdate(t){const r=t?{target:t}:{};return rt.post("/api/ota/apply",r)}async getOtaLogs(t=400){const r=typeof window<"u"?window.location.origin:"",a=`${(rt.getBaseUrl()||Pe.getSettings().apiUrl||r).replace(/\/+$/,"")}/api/ota/logs?lines=${Math.max(1,t)}`;try{const o=await fetch(a,{method:"GET",cache:"no-store"});if(!o.ok)throw new Et(`HTTP ${o.status}`,o.status);const l=await o.text();return fe.debug("OTA logs descargados",{lines:t}),l}catch(o){throw o instanceof Et?o:(fe.warn("No se pudieron descargar los logs OTA",{error:o}),new Et("No se pudieron obtener los logs OTA",0,"NETWORK_ERROR"))}}async getNetworkStatus(){return rt.get("/api/network/status")}async miniwebStatus(){return rt.get("/api/miniweb/status")}}const Ke=new bR;function Jr(e,t,r="es-ES"){if(e==null||!Number.isFinite(e))return"–";const n=Number(e),s=t===0&&Math.abs(n)<.5?0:n,a={minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:!1};return new Intl.NumberFormat(r,a).format(s/1)}const Ef=()=>{var e;try{return((e=Pe.getSettings().scale)==null?void 0:e.decimals)===0?0:1}catch{return 1}},Ga=()=>{const[e,t]=u.useState(()=>Ef());return u.useEffect(()=>{if(typeof window>"u")return;const r=s=>{var l,c;const a=s.detail,o=(c=(l=a==null?void 0:a.settings)==null?void 0:l.scale)==null?void 0:c.decimals;if(o===0||o===1){t(o);return}t(Ef())},n=s=>{s.key&&s.key!==_1||t(Ef())};return window.addEventListener("app-settings-updated",r),window.addEventListener("storage",n),()=>{window.removeEventListener("app-settings-updated",r),window.removeEventListener("storage",n)}},[]),e},NR=({onNavigate:e})=>{const{weight:t,isStable:r,unit:n,isConnected:s,error:a,reconnectAttempts:o,connectionState:l}=Wl(),[c,d]=u.useState("g"),f=Ga(),[m,p]=u.useState(()=>{try{return Pe.getSettings().ui.flags.calibrationV2}catch{return!1}}),{toast:h}=Cn(),b=Ph(),g={connected:"Conectado",reconnecting:"Reconectando","no-data":"Sin datos"},w={connected:"bg-success",reconnecting:"bg-amber-500","no-data":"bg-destructive"},y=g[l],v=w[l];u.useEffect(()=>{const C=()=>{try{p(Pe.getSettings().ui.flags.calibrationV2)}catch{p(!1)}};if(!(typeof window>"u"))return window.addEventListener("storage",C),()=>{window.removeEventListener("storage",C)}},[]),u.useEffect(()=>{a&&h({title:"Error de conexión",description:a,variant:"destructive"})},[a,h]);const x=async()=>{try{await Ke.scaleTare(),h({title:m?"Tara aplicada":"Tara realizada"})}catch{h({title:"Error",description:m?"No se pudo aplicar la tara":"No se pudo realizar la tara",variant:"destructive"})}},N=()=>{d(C=>C==="g"?"ml":"g"),navigator.vibrate&&navigator.vibrate(30)},S=t;return i.jsxs("div",{className:"flex h-full flex-col bg-background p-4",children:[l!=="connected"&&i.jsx("div",{className:"mb-4 rounded-lg border-warning/50 bg-warning/10 p-3 text-center animate-fade-in",children:i.jsx("p",{className:"text-sm font-medium text-warning",children:l==="reconnecting"?b&&o>0?`Reconectando... Intento ${o}/10`:"Reconectando con la báscula...":"Sin datos de la báscula"})}),i.jsxs(Qe,{className:Ne("relative mb-4 flex-1 overflow-hidden transition-smooth",r?"border-success/50 glow-green":"border-primary/30"),children:[i.jsx("div",{className:"gradient-holographic absolute inset-0 opacity-30"}),i.jsxs("div",{className:"absolute right-4 top-4 flex items-center gap-2 rounded-full border border-border bg-background/80 px-3 py-1 text-sm font-medium shadow-sm backdrop-blur",children:[i.jsx("span",{className:Ne("h-2.5 w-2.5 rounded-full",v)}),i.jsx("span",{children:y})]}),i.jsxs("div",{className:"relative flex h-full flex-col items-center justify-center",children:[i.jsx("div",{className:Ne("mb-3 rounded-full p-4 transition-smooth",r?"bg-success/20":"bg-primary/20"),children:i.jsx(hs,{className:Ne("h-12 w-12 transition-smooth",r?"text-success":"text-primary animate-pulse")})}),i.jsx("div",{className:Ne("mb-3 min-h-[140px] flex items-center text-8xl font-bold tracking-tight transition-smooth",r?"text-success text-glow-green":"text-primary text-glow-cyan"),style:{fontFeatureSettings:'"tnum"'},children:Jr(S,f)}),i.jsx(z,{onClick:N,variant:"ghost",size:"lg",className:"text-2xl mb-2",children:c}),i.jsxs("div",{className:Ne("inline-flex items-center gap-2 rounded-full px-4 py-2 text-base font-medium transition-smooth",r?"bg-success/20 text-success":"bg-primary/20 text-primary"),children:[i.jsx("span",{className:Ne("h-2 w-2 rounded-full",r?"bg-success animate-pulse":"bg-primary animate-pulse")}),r?"Peso Estable":"Estabilizando..."]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(z,{onClick:x,size:"lg",variant:"outline",disabled:!s,className:"h-16 text-xl",children:m?"Cero":"TARA"}),i.jsxs(z,{onClick:N,size:"lg",variant:"secondary",className:"h-16 text-xl",children:[i.jsx(uE,{className:"mr-2 h-6 w-6"}),"g ↔ ml"]})]})]})},SR=({totalCarbs:e,currentGlucose:t,onClose:r})=>{const{toast:n}=Cn(),[s,a]=u.useState(!1),o=Pe.getSettings(),l=o.carbRatio||10,c=o.correctionFactor||30,d=o.targetGlucose||100,f=e/l,m=typeof t=="number"?Math.max(0,(t-d)/c):0,p=f+m,h=()=>e>50?"Inyectar 15 minutos ANTES de comer":"Inyectar JUSTO ANTES de comer",b=async()=>{if(!o.nightscoutUrl){n({title:"Nightscout no configurado",description:"Configura Nightscout en Ajustes → Diabetes",variant:"destructive"});return}a(!0);try{const g=new Date().toISOString();await Ke.exportBolus(e,p,g),fe.info("Bolus exported to Nightscout",{carbs:e,insulin:p,glucose:t}),n({title:"¡Exportado a Nightscout!",description:`${e}g HC → ${p.toFixed(1)}U insulina`}),navigator.vibrate&&navigator.vibrate([50,100,50]),r()}catch(g){fe.error("Failed to export to Nightscout",{error:g}),n({title:"Error al exportar",description:"Verifica la configuración de Nightscout",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 p-4 backdrop-blur-sm",children:i.jsxs(Qe,{className:"w-full max-w-2xl border-primary/50 p-8 glow-cyan",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-4",children:i.jsx(wb,{className:"h-12 w-12 text-primary"})})}),i.jsx("h2",{className:"text-3xl font-bold",children:"Recomendación de Bolo"})]}),i.jsx("div",{className:"mb-6 rounded-lg border-warning/50 bg-warning/5 p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(ta,{className:"h-6 w-6 flex-shrink-0 text-warning"}),i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{children:"AVISO:"})," Esta es una estimación automatizada y NO debe tomarse como consejo médico. Consulta siempre con tu endocrinólogo."]})]})}),i.jsxs("div",{className:"mb-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"rounded-lg bg-muted/30 p-4",children:[i.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:"Total Carbohidratos"}),i.jsxs("p",{className:"text-3xl font-bold text-warning",children:[e.toFixed(1),"g"]})]}),t!==void 0&&i.jsxs("div",{className:"rounded-lg bg-muted/30 p-4",children:[i.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:"Glucosa Actual"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:[t," mg/dl"]})]})]}),i.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Insulina por HC:"}),i.jsxs("span",{className:"font-medium",children:[f.toFixed(1),"U"]})]}),m>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Corrección:"}),i.jsxs("span",{className:"font-medium",children:["+",m.toFixed(1),"U"]})]}),i.jsxs("div",{className:"border-t border-border pt-2 flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total:"}),i.jsxs("span",{className:"text-3xl font-bold text-primary",children:[p.toFixed(1),"U"]})]})]})]}),i.jsxs("div",{className:"mb-6 rounded-lg bg-primary/10 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Tu,{className:"h-6 w-6 text-primary"}),i.jsx("h3",{className:"text-xl font-bold",children:"Momento Recomendado"})]}),i.jsx("p",{className:"text-2xl font-semibold text-primary",children:h()})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(z,{onClick:r,variant:"outline",size:"xl",className:"text-xl",children:"Cerrar"}),i.jsx(z,{onClick:b,variant:"success",size:"xl",className:"text-xl",disabled:s,children:s?"Exportando...":i.jsxs(i.Fragment,{children:[i.jsx(NE,{className:"mr-2 h-6 w-6"}),"Exportar a Nightscout"]})})]})]})})},kR="modulepreload",jR=function(e){return"/"+e},by={},CR=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=jR(c),c in by)return;by[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":kR,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((p,h)=>{m.addEventListener("load",p),m.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var _f="focusScope.autoFocusOnMount",Tf="focusScope.autoFocusOnUnmount",Ny={bubbles:!1,cancelable:!0},ER="FocusScope",A1=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=u.useState(null),d=Sn(s),f=Sn(a),m=u.useRef(null),p=mt(t,g=>c(g)),h=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let g=function(x){if(h.paused||!l)return;const N=x.target;l.contains(N)?m.current=N:_s(m.current,{select:!0})},w=function(x){if(h.paused||!l)return;const N=x.relatedTarget;N!==null&&(l.contains(N)||_s(m.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&_s(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),v.disconnect()}}},[n,l,h.paused]),u.useEffect(()=>{if(l){ky.add(h);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(_f,Ny);l.addEventListener(_f,d),l.dispatchEvent(y),y.defaultPrevented||(_R(IR(R1(l)),{select:!0}),document.activeElement===g&&_s(l))}return()=>{l.removeEventListener(_f,d),setTimeout(()=>{const y=new CustomEvent(Tf,Ny);l.addEventListener(Tf,f),l.dispatchEvent(y),y.defaultPrevented||_s(g??document.body,{select:!0}),l.removeEventListener(Tf,f),ky.remove(h)},0)}}},[l,d,f,h]);const b=u.useCallback(g=>{if(!r&&!n||h.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(w&&y){const v=g.currentTarget,[x,N]=TR(v);x&&N?!g.shiftKey&&y===N?(g.preventDefault(),r&&_s(x,{select:!0})):g.shiftKey&&y===x&&(g.preventDefault(),r&&_s(N,{select:!0})):y===v&&g.preventDefault()}},[r,n,h.paused]);return i.jsx(Ze.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});A1.displayName=ER;function _R(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_s(n,{select:t}),document.activeElement!==r)return}function TR(e){const t=R1(e),r=Sy(t,e),n=Sy(t.reverse(),e);return[r,n]}function R1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Sy(e,t){for(const r of e)if(!PR(r,{upTo:t}))return r}function PR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function AR(e){return e instanceof HTMLInputElement&&"select"in e}function _s(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&AR(e)&&t&&e.select()}}var ky=RR();function RR(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=jy(e,t),e.unshift(t)},remove(t){var r;e=jy(e,t),(r=e[0])==null||r.resume()}}}function jy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function IR(e){return e.filter(t=>t.tagName!=="A")}var Pf=0;function OR(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Cy()),document.body.insertAdjacentElement("beforeend",e[1]??Cy()),Pf++,()=>{Pf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pf--}},[])}function Cy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zn=function(){return zn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},zn.apply(this,arguments)};function I1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function MR(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var eu="right-scroll-bar-position",tu="width-before-scroll-bar",DR="with-scroll-bars-hidden",FR="--removed-body-scroll-bar-size";function Af(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LR(e,t){var r=u.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var zR=typeof window<"u"?u.useLayoutEffect:u.useEffect,Ey=new WeakMap;function VR(e,t){var r=LR(null,function(n){return e.forEach(function(s){return Af(s,n)})});return zR(function(){var n=Ey.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||Af(l,null)}),a.forEach(function(l){s.has(l)||Af(l,o)})}Ey.set(r,e)},[e]),r}function $R(e){return e}function UR(e,t){t===void 0&&(t=$R);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),r}}}};return s}function BR(e){e===void 0&&(e={});var t=UR(null);return t.options=zn({async:!0,ssr:!1},e),t}var O1=function(e){var t=e.sideCar,r=I1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,zn({},r))};O1.isSideCarExport=!0;function WR(e,t){return e.useMedium(t),O1}var M1=BR(),Rf=function(){},Cd=u.forwardRef(function(e,t){var r=u.useRef(null),n=u.useState({onScrollCapture:Rf,onWheelCapture:Rf,onTouchMoveCapture:Rf}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,p=e.sideCar,h=e.noRelative,b=e.noIsolation,g=e.inert,w=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,x=e.gapMode,N=I1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,C=VR([r,t]),j=zn(zn({},N),s);return u.createElement(u.Fragment,null,f&&u.createElement(S,{sideCar:M1,removeScrollBar:d,shards:m,noRelative:h,noIsolation:b,inert:g,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:x}),o?u.cloneElement(u.Children.only(l),zn(zn({},j),{ref:C})):u.createElement(v,zn({},j,{className:c,ref:C}),l))});Cd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cd.classNames={fullWidth:tu,zeroRight:eu};var HR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HR();return t&&e.setAttribute("nonce",t),e}function KR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var QR=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qR())&&(KR(t,r),GR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZR=function(){var e=QR();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},D1=function(){var e=ZR(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},YR={left:0,top:0,right:0,gap:0},If=function(e){return parseInt(e||"",10)||0},XR=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[If(r),If(n),If(s)]},JR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return YR;var t=XR(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},e4=D1(),Ai="data-scroll-locked",t4=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(DR,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ai,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(tu,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(eu," .").concat(eu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(tu," .").concat(tu,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ai,`] {
    `).concat(FR,": ").concat(l,`px;
  }
`)},_y=function(){var e=parseInt(document.body.getAttribute(Ai)||"0",10);return isFinite(e)?e:0},r4=function(){u.useEffect(function(){return document.body.setAttribute(Ai,(_y()+1).toString()),function(){var e=_y()-1;e<=0?document.body.removeAttribute(Ai):document.body.setAttribute(Ai,e.toString())}},[])},n4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;r4();var a=u.useMemo(function(){return JR(s)},[s]);return u.createElement(e4,{styles:t4(a,!t,s,r?"":"!important")})},Ym=!1;if(typeof window<"u")try{var Tc=Object.defineProperty({},"passive",{get:function(){return Ym=!0,!0}});window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{Ym=!1}var Xa=Ym?{passive:!1}:!1,s4=function(e){return e.tagName==="TEXTAREA"},F1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!s4(e)&&r[t]==="visible")},a4=function(e){return F1(e,"overflowY")},i4=function(e){return F1(e,"overflowX")},Ty=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=L1(e,n);if(s){var a=z1(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},o4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},l4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},L1=function(e,t){return e==="v"?a4(t):i4(t)},z1=function(e,t){return e==="v"?o4(t):l4(t)},c4=function(e,t){return e==="h"&&t==="rtl"?-1:1},u4=function(e,t,r,n,s){var a=c4(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,f=o>0,m=0,p=0;do{if(!l)break;var h=z1(e,l),b=h[0],g=h[1],w=h[2],y=g-w-a*b;(b||y)&&L1(e,l)&&(m+=y,p+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(m)<1||!s)||!f&&(Math.abs(p)<1||!s))&&(d=!0),d},Pc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Py=function(e){return[e.deltaX,e.deltaY]},Ay=function(e){return e&&"current"in e?e.current:e},d4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},f4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},m4=0,Ja=[];function p4(e){var t=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),s=u.useState(m4++)[0],a=u.useState(D1)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=MR([e.lockRef.current],(e.shards||[]).map(Ay),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Pc(g),v=r.current,x="deltaX"in g?g.deltaX:v[0]-y[0],N="deltaY"in g?g.deltaY:v[1]-y[1],S,C=g.target,j=Math.abs(x)>Math.abs(N)?"h":"v";if("touches"in g&&j==="h"&&C.type==="range")return!1;var A=Ty(j,C);if(!A)return!0;if(A?S=j:(S=j==="v"?"h":"v",A=Ty(j,C)),!A)return!1;if(!n.current&&"changedTouches"in g&&(x||N)&&(n.current=S),!S)return!0;var M=n.current||S;return u4(M,w,g,M==="h"?x:N,!0)},[]),c=u.useCallback(function(g){var w=g;if(!(!Ja.length||Ja[Ja.length-1]!==a)){var y="deltaY"in w?Py(w):Pc(w),v=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&d4(S.delta,y)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(Ay).filter(Boolean).filter(function(S){return S.contains(w.target)}),N=x.length>0?l(w,x[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=u.useCallback(function(g,w,y,v){var x={name:g,delta:w,target:y,should:v,shadowParent:h4(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(N){return N!==x})},1)},[]),f=u.useCallback(function(g){r.current=Pc(g),n.current=void 0},[]),m=u.useCallback(function(g){d(g.type,Py(g),g.target,l(g,e.lockRef.current))},[]),p=u.useCallback(function(g){d(g.type,Pc(g),g.target,l(g,e.lockRef.current))},[]);u.useEffect(function(){return Ja.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Xa),document.addEventListener("touchmove",c,Xa),document.addEventListener("touchstart",f,Xa),function(){Ja=Ja.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Xa),document.removeEventListener("touchmove",c,Xa),document.removeEventListener("touchstart",f,Xa)}},[]);var h=e.removeScrollBar,b=e.inert;return u.createElement(u.Fragment,null,b?u.createElement(a,{styles:f4(s)}):null,h?u.createElement(n4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function h4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const g4=WR(M1,p4);var V1=u.forwardRef(function(e,t){return u.createElement(Cd,zn({},e,{ref:t,sideCar:g4}))});V1.classNames=Cd.classNames;var v4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ei=new WeakMap,Ac=new WeakMap,Rc={},Of=0,$1=function(e){return e&&(e.host||$1(e.parentNode))},y4=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=$1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},x4=function(e,t,r,n){var s=y4(t,Array.isArray(e)?e:[e]);Rc[r]||(Rc[r]=new WeakMap);var a=Rc[r],o=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var f=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(p){if(l.has(p))f(p);else try{var h=p.getAttribute(n),b=h!==null&&h!=="false",g=(ei.get(p)||0)+1,w=(a.get(p)||0)+1;ei.set(p,g),a.set(p,w),o.push(p),g===1&&b&&Ac.set(p,!0),w===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return f(t),l.clear(),Of++,function(){o.forEach(function(m){var p=ei.get(m)-1,h=a.get(m)-1;ei.set(m,p),a.set(m,h),p||(Ac.has(m)||m.removeAttribute(n),Ac.delete(m)),h||m.removeAttribute(r)}),Of--,Of||(ei=new WeakMap,ei=new WeakMap,Ac=new WeakMap,Rc={})}},w4=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=v4(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),x4(n,s,r,"aria-hidden")):function(){return null}},Ed="Dialog",[U1,B1]=rn(Ed),[b4,En]=U1(Ed),W1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,f]=Ha({prop:n,defaultProp:s??!1,onChange:a,caller:Ed});return i.jsx(b4,{scope:t,triggerRef:l,contentRef:c,contentId:tl(),titleId:tl(),descriptionId:tl(),open:d,onOpenChange:f,onOpenToggle:u.useCallback(()=>f(m=>!m),[f]),modal:o,children:r})};W1.displayName=Ed;var H1="DialogTrigger",q1=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=En(H1,r),a=mt(t,s.triggerRef);return i.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ih(s.open),...n,ref:a,onClick:He(e.onClick,s.onOpenToggle)})});q1.displayName=H1;var Ah="DialogPortal",[N4,K1]=U1(Ah,{forceMount:void 0}),G1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=En(Ah,t);return i.jsx(N4,{scope:t,forceMount:r,children:u.Children.map(n,o=>i.jsx(ha,{present:r||a.open,children:i.jsx(lh,{asChild:!0,container:s,children:o})}))})};G1.displayName=Ah;var zu="DialogOverlay",Q1=u.forwardRef((e,t)=>{const r=K1(zu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=En(zu,e.__scopeDialog);return a.modal?i.jsx(ha,{present:n||a.open,children:i.jsx(k4,{...s,ref:t})}):null});Q1.displayName=zu;var S4=bl("DialogOverlay.RemoveScroll"),k4=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=En(zu,r);return i.jsx(V1,{as:S4,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ze.div,{"data-state":Ih(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$a="DialogContent",Z1=u.forwardRef((e,t)=>{const r=K1($a,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=En($a,e.__scopeDialog);return i.jsx(ha,{present:n||a.open,children:a.modal?i.jsx(j4,{...s,ref:t}):i.jsx(C4,{...s,ref:t})})});Z1.displayName=$a;var j4=u.forwardRef((e,t)=>{const r=En($a,e.__scopeDialog),n=u.useRef(null),s=mt(t,r.contentRef,n);return u.useEffect(()=>{const a=n.current;if(a)return w4(a)},[]),i.jsx(Y1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:He(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:He(e.onFocusOutside,a=>a.preventDefault())})}),C4=u.forwardRef((e,t)=>{const r=En($a,e.__scopeDialog),n=u.useRef(!1),s=u.useRef(!1);return i.jsx(Y1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Y1=u.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=En($a,r),c=u.useRef(null),d=mt(t,c);return OR(),i.jsxs(i.Fragment,{children:[i.jsx(A1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(fd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Ih(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(_4,{titleId:l.titleId}),i.jsx(P4,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Rh="DialogTitle",X1=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=En(Rh,r);return i.jsx(Ze.h2,{id:s.titleId,...n,ref:t})});X1.displayName=Rh;var J1="DialogDescription",eN=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=En(J1,r);return i.jsx(Ze.p,{id:s.descriptionId,...n,ref:t})});eN.displayName=J1;var tN="DialogClose",rN=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=En(tN,r);return i.jsx(Ze.button,{type:"button",...n,ref:t,onClick:He(e.onClick,()=>s.onOpenChange(!1))})});rN.displayName=tN;function Ih(e){return e?"open":"closed"}var nN="DialogTitleWarning",[E4,sN]=f2(nN,{contentName:$a,titleName:Rh,docsSlug:"dialog"}),_4=({titleId:e})=>{const t=sN(nN),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},T4="DialogDescriptionWarning",P4=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sN(T4).contentName}}.`;return u.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},aN=W1,A4=q1,iN=G1,Oh=Q1,Mh=Z1,Dh=X1,Fh=eN,Lh=rN;const na=aN,R4=iN,oN=u.forwardRef(({className:e,...t},r)=>i.jsx(Oh,{ref:r,className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));oN.displayName=Oh.displayName;const os=u.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(R4,{children:[i.jsx(oN,{}),i.jsxs(Mh,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(Lh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(xn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));os.displayName=Mh.displayName;const ls=({className:e,...t})=>i.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ls.displayName="DialogHeader";const ru=({className:e,...t})=>i.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ru.displayName="DialogFooter";const cs=u.forwardRef(({className:e,...t},r)=>i.jsx(Dh,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));cs.displayName=Dh.displayName;const nu=u.forwardRef(({className:e,...t},r)=>i.jsx(Fh,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));nu.displayName=Fh.displayName;const et=u.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:Ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));et.displayName="Input";var I4="Label",lN=u.forwardRef((e,t)=>i.jsx(Ze.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));lN.displayName=I4;var cN=lN;const O4=hd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=u.forwardRef(({className:e,...t},r)=>i.jsx(cN,{ref:r,className:Ne(O4(),e),...t}));ze.displayName=cN.displayName;var zh="Progress",Vh=100,[M4,mM]=rn(zh),[D4,F4]=M4(zh),uN=u.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=L4,...o}=e;(s||s===0)&&!Ry(s)&&console.error(z4(`${s}`,"Progress"));const l=Ry(s)?s:Vh;n!==null&&!Iy(n,l)&&console.error(V4(`${n}`,"Progress"));const c=Iy(n,l)?n:null,d=Vu(c)?a(c,l):void 0;return i.jsx(D4,{scope:r,value:c,max:l,children:i.jsx(Ze.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Vu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":mN(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});uN.displayName=zh;var dN="ProgressIndicator",fN=u.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=F4(dN,r);return i.jsx(Ze.div,{"data-state":mN(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});fN.displayName=dN;function L4(e,t){return`${Math.round(e/t*100)}%`}function mN(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Vu(e){return typeof e=="number"}function Ry(e){return Vu(e)&&!isNaN(e)&&e>0}function Iy(e,t){return Vu(e)&&!isNaN(e)&&e<=t&&e>=0}function z4(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Vh}\`.`}function V4(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Vh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var pN=uN,$4=fN;const Yi=u.forwardRef(({className:e,value:t,...r},n)=>i.jsx(pN,{ref:n,className:Ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx($4,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Yi.displayName=pN.displayName;function hN(e,[t,r]){return Math.min(r,Math.max(t,e))}var U4=u.createContext(void 0);function $h(e){const t=u.useContext(U4);return e||t||"ltr"}function Uh(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gN=["PageUp","PageDown"],vN=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yN={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},uo="Slider",[Xm,B4,W4]=oh(uo),[xN,pM]=rn(uo,[W4]),[H4,_d]=xN(uo),wN=u.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:f,onValueChange:m=()=>{},onValueCommit:p=()=>{},inverted:h=!1,form:b,...g}=e,w=u.useRef(new Set),y=u.useRef(0),x=o==="horizontal"?q4:K4,[N=[],S]=Ha({prop:f,defaultProp:d,onChange:F=>{var V;(V=[...w.current][y.current])==null||V.focus(),m(F)}}),C=u.useRef(N);function j(F){const R=X4(N,F);T(F,R)}function A(F){T(F,y.current)}function M(){const F=C.current[y.current];N[y.current]!==F&&p(N)}function T(F,R,{commit:V}={commit:!1}){const L=rI(a),le=nI(Math.round((F-n)/a)*a+n,L),re=hN(le,[n,s]);S((X=[])=>{const P=Z4(X,re,R);if(tI(P,c*a)){y.current=P.indexOf(re);const E=String(P)!==String(X);return E&&V&&p(P),E?P:X}else return X})}return i.jsx(H4,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:y,thumbs:w.current,values:N,orientation:o,form:b,children:i.jsx(Xm.Provider,{scope:e.__scopeSlider,children:i.jsx(Xm.Slot,{scope:e.__scopeSlider,children:i.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...g,ref:t,onPointerDown:He(g.onPointerDown,()=>{l||(C.current=N)}),min:n,max:s,inverted:h,onSlideStart:l?void 0:j,onSlideMove:l?void 0:A,onSlideEnd:l?void 0:M,onHomeKeyDown:()=>!l&&T(n,0,{commit:!0}),onEndKeyDown:()=>!l&&T(s,N.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:R})=>{if(!l){const le=gN.includes(F.key)||F.shiftKey&&vN.includes(F.key)?10:1,re=y.current,X=N[re],P=a*le*R;T(X+P,re,{commit:!0})}}})})})})});wN.displayName=uo;var[bN,NN]=xN(uo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),q4=u.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...f}=e,[m,p]=u.useState(null),h=mt(t,x=>p(x)),b=u.useRef(void 0),g=$h(s),w=g==="ltr",y=w&&!a||!w&&a;function v(x){const N=b.current||m.getBoundingClientRect(),S=[0,N.width],j=Bh(S,y?[r,n]:[n,r]);return b.current=N,j(x-N.left)}return i.jsx(bN,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:i.jsx(SN,{dir:g,"data-orientation":"horizontal",...f,ref:h,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const N=v(x.clientX);o==null||o(N)},onSlideMove:x=>{const N=v(x.clientX);l==null||l(N)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:x=>{const S=yN[y?"from-left":"from-right"].includes(x.key);d==null||d({event:x,direction:S?-1:1})}})})}),K4=u.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,f=u.useRef(null),m=mt(t,f),p=u.useRef(void 0),h=!s;function b(g){const w=p.current||f.current.getBoundingClientRect(),y=[0,w.height],x=Bh(y,h?[n,r]:[r,n]);return p.current=w,x(g-w.top)}return i.jsx(bN,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:i.jsx(SN,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const w=b(g.clientY);a==null||a(w)},onSlideMove:g=>{const w=b(g.clientY);o==null||o(w)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:g=>{const y=yN[h?"from-bottom":"from-top"].includes(g.key);c==null||c({event:g,direction:y?-1:1})}})})}),SN=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,f=_d(uo,r);return i.jsx(Ze.span,{...d,ref:t,onKeyDown:He(e.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(l(m),m.preventDefault()):gN.concat(vN).includes(m.key)&&(c(m),m.preventDefault())}),onPointerDown:He(e.onPointerDown,m=>{const p=m.target;p.setPointerCapture(m.pointerId),m.preventDefault(),f.thumbs.has(p)?p.focus():n(m)}),onPointerMove:He(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:He(e.onPointerUp,m=>{const p=m.target;p.hasPointerCapture(m.pointerId)&&(p.releasePointerCapture(m.pointerId),a(m))})})}),kN="SliderTrack",jN=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=_d(kN,r);return i.jsx(Ze.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});jN.displayName=kN;var Jm="SliderRange",CN=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=_d(Jm,r),a=NN(Jm,r),o=u.useRef(null),l=mt(t,o),c=s.values.length,d=s.values.map(p=>TN(p,s.min,s.max)),f=c>1?Math.min(...d):0,m=100-Math.max(...d);return i.jsx(Ze.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:f+"%",[a.endEdge]:m+"%"}})});CN.displayName=Jm;var ep="SliderThumb",EN=u.forwardRef((e,t)=>{const r=B4(e.__scopeSlider),[n,s]=u.useState(null),a=mt(t,l=>s(l)),o=u.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(G4,{...e,ref:a,index:o})}),G4=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,o=_d(ep,r),l=NN(ep,r),[c,d]=u.useState(null),f=mt(t,v=>d(v)),m=c?o.form||!!c.closest("form"):!0,p=xd(c),h=o.values[n],b=h===void 0?0:TN(h,o.min,o.max),g=Y4(n,o.values.length),w=p==null?void 0:p[l.size],y=w?J4(w,b,l.direction):0;return u.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${y}px)`},children:[i.jsx(Xm.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(Ze.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:f,style:h===void 0?{display:"none"}:e.style,onFocus:He(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&i.jsx(_N,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},n)]})});EN.displayName=ep;var Q4="RadioBubbleInput",_N=u.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=u.useRef(null),a=mt(s,n),o=Uh(t);return u.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const m=new Event("input",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),i.jsx(Ze.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});_N.displayName=Q4;function Z4(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function TN(e,t,r){const a=100/(r-t)*(e-t);return hN(a,[0,100])}function Y4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function X4(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function J4(e,t,r){const n=e/2,a=Bh([0,50],[0,n]);return(n-a(t)*r)*r}function eI(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function tI(e,t){if(t>0){const r=eI(e);return Math.min(...r)>=t}return!0}function Bh(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function rI(e){return(String(e).split(".")[1]||"").length}function nI(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var PN=wN,sI=jN,aI=CN,iI=EN;const Wh=u.forwardRef(({className:e,...t},r)=>i.jsxs(PN,{ref:r,className:Ne("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(sI,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(aI,{className:"absolute h-full bg-primary"})}),i.jsx(iI,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Wh.displayName=PN.displayName;var Mf="rovingFocusGroup.onEntryFocus",oI={bubbles:!1,cancelable:!0},Hl="RovingFocusGroup",[tp,AN,lI]=oh(Hl),[cI,RN]=rn(Hl,[lI]),[uI,dI]=cI(Hl),IN=u.forwardRef((e,t)=>i.jsx(tp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(tp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(fI,{...e,ref:t})})}));IN.displayName=Hl;var fI=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,p=u.useRef(null),h=mt(t,p),b=$h(a),[g,w]=Ha({prop:o,defaultProp:l??null,onChange:c,caller:Hl}),[y,v]=u.useState(!1),x=Sn(d),N=AN(r),S=u.useRef(!1),[C,j]=u.useState(0);return u.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(Mf,x),()=>A.removeEventListener(Mf,x)},[x]),i.jsx(uI,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:g,onItemFocus:u.useCallback(A=>w(A),[w]),onItemShiftTab:u.useCallback(()=>v(!0),[]),onFocusableItemAdd:u.useCallback(()=>j(A=>A+1),[]),onFocusableItemRemove:u.useCallback(()=>j(A=>A-1),[]),children:i.jsx(Ze.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...m,ref:h,style:{outline:"none",...e.style},onMouseDown:He(e.onMouseDown,()=>{S.current=!0}),onFocus:He(e.onFocus,A=>{const M=!S.current;if(A.target===A.currentTarget&&M&&!y){const T=new CustomEvent(Mf,oI);if(A.currentTarget.dispatchEvent(T),!T.defaultPrevented){const F=N().filter(re=>re.focusable),R=F.find(re=>re.active),V=F.find(re=>re.id===g),le=[R,V,...F].filter(Boolean).map(re=>re.ref.current);DN(le,f)}}S.current=!1}),onBlur:He(e.onBlur,()=>v(!1))})})}),ON="RovingFocusGroupItem",MN=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=tl(),d=a||c,f=dI(ON,r),m=f.currentTabStopId===d,p=AN(r),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:g}=f;return u.useEffect(()=>{if(n)return h(),()=>b()},[n,h,b]),i.jsx(tp.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:i.jsx(Ze.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:He(e.onMouseDown,w=>{n?f.onItemFocus(d):w.preventDefault()}),onFocus:He(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:He(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=hI(w,f.orientation,f.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=p().filter(N=>N.focusable).map(N=>N.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const N=x.indexOf(w.currentTarget);x=f.loop?gI(x,N+1):x.slice(N+1)}setTimeout(()=>DN(x))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:g!=null}):o})})});MN.displayName=ON;var mI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pI(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hI(e,t,r){const n=pI(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mI[n]}function DN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function gI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var vI=IN,yI=MN,Td="Tabs",[xI,hM]=rn(Td,[RN]),FN=RN(),[wI,Hh]=xI(Td),LN=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,f=$h(l),[m,p]=Ha({prop:n,onChange:s,defaultProp:a??"",caller:Td});return i.jsx(wI,{scope:r,baseId:tl(),value:m,onValueChange:p,orientation:o,dir:f,activationMode:c,children:i.jsx(Ze.div,{dir:f,"data-orientation":o,...d,ref:t})})});LN.displayName=Td;var zN="TabsList",VN=u.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Hh(zN,r),o=FN(r);return i.jsx(vI,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Ze.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});VN.displayName=zN;var $N="TabsTrigger",UN=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=Hh($N,r),l=FN(r),c=HN(o.baseId,n),d=qN(o.baseId,n),f=n===o.value;return i.jsx(yI,{asChild:!0,...l,focusable:!s,active:f,children:i.jsx(Ze.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:He(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?o.onValueChange(n):m.preventDefault()}),onKeyDown:He(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(n)}),onFocus:He(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!s&&m&&o.onValueChange(n)})})})});UN.displayName=$N;var BN="TabsContent",WN=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=Hh(BN,r),c=HN(l.baseId,n),d=qN(l.baseId,n),f=n===l.value,m=u.useRef(f);return u.useEffect(()=>{const p=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(ha,{present:s||f,children:({present:p})=>i.jsx(Ze.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:p&&a})})});WN.displayName=BN;function HN(e,t){return`${e}-trigger-${t}`}function qN(e,t){return`${e}-content-${t}`}var bI=LN,KN=VN,GN=UN,QN=WN;const ZN=bI,qh=u.forwardRef(({className:e,...t},r)=>i.jsx(KN,{ref:r,className:Ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qh.displayName=KN.displayName;const Ms=u.forwardRef(({className:e,...t},r)=>i.jsx(GN,{ref:r,className:Ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ms.displayName=GN.displayName;const Ds=u.forwardRef(({className:e,...t},r)=>i.jsx(QN,{ref:r,className:Ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ds.displayName=QN.displayName;const NI=hd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ja({className:e,variant:t,...r}){return i.jsx("div",{className:Ne(NI({variant:t}),e),...r})}var Pd="Checkbox",[SI,gM]=rn(Pd),[kI,Kh]=SI(Pd);function jI(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:f="on",internal_do_not_use_render:m}=e,[p,h]=Ha({prop:r,defaultProp:s??!1,onChange:c,caller:Pd}),[b,g]=u.useState(null),[w,y]=u.useState(null),v=u.useRef(!1),x=b?!!o||!!b.closest("form"):!0,N={checked:p,disabled:a,setChecked:h,control:b,setControl:g,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:v,required:d,defaultChecked:sa(s)?!1:s,isFormControl:x,bubbleInput:w,setBubbleInput:y};return i.jsx(kI,{scope:t,...N,children:CI(m)?m(N):n})}var YN="CheckboxTrigger",XN=u.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:b}=Kh(YN,e),g=mt(s,f),w=u.useRef(c);return u.useEffect(()=>{const y=a==null?void 0:a.form;if(y){const v=()=>m(w.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[a,m]),i.jsx(Ze.button,{type:"button",role:"checkbox","aria-checked":sa(c)?"mixed":c,"aria-required":d,"data-state":nS(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:He(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:He(r,y=>{m(v=>sa(v)?!0:!v),b&&h&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})})});XN.displayName=YN;var Gh=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:f,...m}=e;return i.jsx(jI,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:p})=>i.jsxs(i.Fragment,{children:[i.jsx(XN,{...m,ref:t,__scopeCheckbox:r}),p&&i.jsx(rS,{__scopeCheckbox:r})]})})});Gh.displayName=Pd;var JN="CheckboxIndicator",eS=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=Kh(JN,r);return i.jsx(ha,{present:n||sa(a.checked)||a.checked===!0,children:i.jsx(Ze.span,{"data-state":nS(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});eS.displayName=JN;var tS="CheckboxBubbleInput",rS=u.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:f,form:m,bubbleInput:p,setBubbleInput:h}=Kh(tS,e),b=mt(r,h),g=Uh(a),w=xd(n);u.useEffect(()=>{const v=p;if(!v)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,C=!s.current;if(g!==a&&S){const j=new Event("click",{bubbles:C});v.indeterminate=sa(a),S.call(v,sa(a)?!1:a),v.dispatchEvent(j)}},[p,g,a,s]);const y=u.useRef(sa(a)?!1:a);return i.jsx(Ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:d,value:f,form:m,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});rS.displayName=tS;function CI(e){return typeof e=="function"}function sa(e){return e==="indeterminate"}function nS(e){return sa(e)?"indeterminate":e?"checked":"unchecked"}const sS=u.forwardRef(({className:e,...t},r)=>i.jsx(Gh,{ref:r,className:Ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(eS,{className:Ne("flex items-center justify-center text-current"),children:i.jsx(Sl,{className:"h-4 w-4"})})}));sS.displayName=Gh.displayName;var ql=e=>e.type==="checkbox",Ca=e=>e instanceof Date,vr=e=>e==null;const aS=e=>typeof e=="object";var Ft=e=>!vr(e)&&!Array.isArray(e)&&aS(e)&&!Ca(e),EI=e=>Ft(e)&&e.target?ql(e.target)?e.target.checked:e.target.value:e,_I=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,TI=(e,t)=>e.has(_I(t)),PI=e=>{const t=e.constructor&&e.constructor.prototype;return Ft(t)&&t.hasOwnProperty("isPrototypeOf")},Qh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Qh&&(e instanceof Blob||n))&&(r||Ft(e)))if(t=r?[]:{},!r&&!PI(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Gt(e[s]));else return e;return t}var Ad=e=>/^\w*$/.test(e),Vt=e=>e===void 0,Zh=e=>Array.isArray(e)?e.filter(Boolean):[],Yh=e=>Zh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,t,r)=>{if(!t||!Ft(e))return r;const n=(Ad(t)?[t]:Yh(t)).reduce((s,a)=>vr(s)?s:s[a],e);return Vt(n)||n===e?Vt(e[t])?r:e[t]:n},On=e=>typeof e=="boolean",ht=(e,t,r)=>{let n=-1;const s=Ad(t)?[t]:Yh(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const d=e[l];c=Ft(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Oy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},AI=se.createContext(null);AI.displayName="HookFormContext";var RI=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==vn.all&&(t._proxyFormState[o]=!n||vn.all),e[o]}});return s};const II=typeof window<"u"?se.useLayoutEffect:se.useEffect;var $n=e=>typeof e=="string",OI=(e,t,r,n,s)=>$n(e)?(n&&t.watch.add(e),_e(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),_e(r,a))):(n&&(t.watchAll=!0),r),rp=e=>vr(e)||!aS(e);function Fs(e,t,r=new WeakSet){if(rp(e)||rp(t))return e===t;if(Ca(e)&&Ca(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ca(o)&&Ca(l)||Ft(o)&&Ft(l)||Array.isArray(o)&&Array.isArray(l)?!Fs(o,l,r):o!==l)return!1}}return!0}var iS=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},rl=e=>Array.isArray(e)?e:[e],My=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Cr=e=>Ft(e)&&!Object.keys(e).length,Xh=e=>e.type==="file",yn=e=>typeof e=="function",$u=e=>{if(!Qh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},oS=e=>e.type==="select-multiple",Jh=e=>e.type==="radio",MI=e=>Jh(e)||ql(e),Df=e=>$u(e)&&e.isConnected;function DI(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Vt(e)?n++:e[t[n++]];return e}function FI(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vt(e[t]))return!1;return!0}function zt(e,t){const r=Array.isArray(t)?t:Ad(t)?[t]:Yh(t),n=r.length===1?e:DI(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Ft(n)&&Cr(n)||Array.isArray(n)&&FI(n))&&zt(e,r.slice(0,-1)),e}var lS=e=>{for(const t in e)if(yn(e[t]))return!0;return!1};function Uu(e,t={}){const r=Array.isArray(e);if(Ft(e)||r)for(const n in e)Array.isArray(e[n])||Ft(e[n])&&!lS(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Uu(e[n],t[n])):vr(e[n])||(t[n]=!0);return t}function cS(e,t,r){const n=Array.isArray(e);if(Ft(e)||n)for(const s in e)Array.isArray(e[s])||Ft(e[s])&&!lS(e[s])?Vt(t)||rp(r[s])?r[s]=Array.isArray(e[s])?Uu(e[s],[]):{...Uu(e[s])}:cS(e[s],vr(t)?{}:t[s],r[s]):r[s]=!Fs(e[s],t[s]);return r}var Oo=(e,t)=>cS(e,t,Uu(t));const Dy={value:!1,isValid:!1},Fy={value:!0,isValid:!0};var uS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vt(e[0].attributes.value)?Vt(e[0].value)||e[0].value===""?Fy:{value:e[0].value,isValid:!0}:Fy:Dy}return Dy},dS=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Vt(e)?e:t?e===""?NaN:e&&+e:r&&$n(e)?new Date(e):n?n(e):e;const Ly={isValid:!1,value:null};var fS=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Ly):Ly;function zy(e){const t=e.ref;return Xh(t)?t.files:Jh(t)?fS(e.refs).value:oS(t)?[...t.selectedOptions].map(({value:r})=>r):ql(t)?uS(e.refs).value:dS(Vt(t.value)?e.ref.value:t.value,e)}var LI=(e,t,r,n)=>{const s={};for(const a of e){const o=_e(t,a);o&&ht(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Bu=e=>e instanceof RegExp,Mo=e=>Vt(e)?e:Bu(e)?e.source:Ft(e)?Bu(e.value)?e.value.source:e.value:e,Vy=e=>({isOnSubmit:!e||e===vn.onSubmit,isOnBlur:e===vn.onBlur,isOnChange:e===vn.onChange,isOnAll:e===vn.all,isOnTouch:e===vn.onTouched});const $y="AsyncFunction";var zI=e=>!!e&&!!e.validate&&!!(yn(e.validate)&&e.validate.constructor.name===$y||Ft(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===$y)),VI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Uy=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const nl=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=_e(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(nl(l,t))break}else if(Ft(l)&&nl(l,t))break}}};function By(e,t,r){const n=_e(e,r);if(n||Ad(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=_e(t,a),l=_e(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var $I=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return Cr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||vn.all))},UI=(e,t,r)=>!e||!t||e===t||rl(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),BI=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,WI=(e,t)=>!Zh(_e(e,t)).length&&zt(e,t),HI=(e,t,r)=>{const n=rl(_e(e,r));return ht(n,"root",t[r]),ht(e,r,n),e},su=e=>$n(e);function Wy(e,t,r="validate"){if(su(e)||Array.isArray(e)&&e.every(su)||On(e)&&!e)return{type:r,message:su(e)?e:"",ref:t}}var ti=e=>Ft(e)&&!Bu(e)?e:{value:e,message:""},Hy=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:m,max:p,pattern:h,validate:b,name:g,valueAsNumber:w,mount:y}=e._f,v=_e(r,g);if(!y||t.has(g))return{};const x=l?l[0]:o,N=R=>{s&&x.reportValidity&&(x.setCustomValidity(On(R)?"":R||""),x.reportValidity())},S={},C=Jh(o),j=ql(o),A=C||j,M=(w||Xh(o))&&Vt(o.value)&&Vt(v)||$u(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,T=iS.bind(null,g,n,S),F=(R,V,L,le=Xn.maxLength,re=Xn.minLength)=>{const X=R?V:L;S[g]={type:R?le:re,message:X,ref:o,...T(R?le:re,X)}};if(a?!Array.isArray(v)||!v.length:c&&(!A&&(M||vr(v))||On(v)&&!v||j&&!uS(l).isValid||C&&!fS(l).isValid)){const{value:R,message:V}=su(c)?{value:!!c,message:c}:ti(c);if(R&&(S[g]={type:Xn.required,message:V,ref:x,...T(Xn.required,V)},!n))return N(V),S}if(!M&&(!vr(m)||!vr(p))){let R,V;const L=ti(p),le=ti(m);if(!vr(v)&&!isNaN(v)){const re=o.valueAsNumber||v&&+v;vr(L.value)||(R=re>L.value),vr(le.value)||(V=re<le.value)}else{const re=o.valueAsDate||new Date(v),X=K=>new Date(new Date().toDateString()+" "+K),P=o.type=="time",E=o.type=="week";$n(L.value)&&v&&(R=P?X(v)>X(L.value):E?v>L.value:re>new Date(L.value)),$n(le.value)&&v&&(V=P?X(v)<X(le.value):E?v<le.value:re<new Date(le.value))}if((R||V)&&(F(!!R,L.message,le.message,Xn.max,Xn.min),!n))return N(S[g].message),S}if((d||f)&&!M&&($n(v)||a&&Array.isArray(v))){const R=ti(d),V=ti(f),L=!vr(R.value)&&v.length>+R.value,le=!vr(V.value)&&v.length<+V.value;if((L||le)&&(F(L,R.message,V.message),!n))return N(S[g].message),S}if(h&&!M&&$n(v)){const{value:R,message:V}=ti(h);if(Bu(R)&&!v.match(R)&&(S[g]={type:Xn.pattern,message:V,ref:o,...T(Xn.pattern,V)},!n))return N(V),S}if(b){if(yn(b)){const R=await b(v,r),V=Wy(R,x);if(V&&(S[g]={...V,...T(Xn.validate,V.message)},!n))return N(V.message),S}else if(Ft(b)){let R={};for(const V in b){if(!Cr(R)&&!n)break;const L=Wy(await b[V](v,r),x,V);L&&(R={...L,...T(V,L.message)},N(L.message),n&&(S[g]=R))}if(!Cr(R)&&(S[g]={ref:x,...R},!n))return S}}return N(!0),S};const qI={mode:vn.onSubmit,reValidateMode:vn.onChange,shouldFocusError:!0};function KI(e={}){let t={...qI,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:yn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ft(t.defaultValues)||Ft(t.values)?Gt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Gt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...f};const p={array:My(),state:My()},h=t.criteriaMode===vn.all,b=k=>I=>{clearTimeout(d),d=setTimeout(k,I)},g=async k=>{if(!t.disabled&&(f.isValid||m.isValid||k)){const I=t.resolver?Cr((await j()).errors):await M(n,!0);I!==r.isValid&&p.state.next({isValid:I})}},w=(k,I)=>{!t.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((k||Array.from(l.mount)).forEach(U=>{U&&(I?ht(r.validatingFields,U,I):zt(r.validatingFields,U))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Cr(r.validatingFields)}))},y=(k,I=[],U,xe,ge=!0,q=!0)=>{if(xe&&U&&!t.disabled){if(o.action=!0,q&&Array.isArray(_e(n,k))){const he=U(_e(n,k),xe.argA,xe.argB);ge&&ht(n,k,he)}if(q&&Array.isArray(_e(r.errors,k))){const he=U(_e(r.errors,k),xe.argA,xe.argB);ge&&ht(r.errors,k,he),WI(r.errors,k)}if((f.touchedFields||m.touchedFields)&&q&&Array.isArray(_e(r.touchedFields,k))){const he=U(_e(r.touchedFields,k),xe.argA,xe.argB);ge&&ht(r.touchedFields,k,he)}(f.dirtyFields||m.dirtyFields)&&(r.dirtyFields=Oo(s,a)),p.state.next({name:k,isDirty:F(k,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ht(a,k,I)},v=(k,I)=>{ht(r.errors,k,I),p.state.next({errors:r.errors})},x=k=>{r.errors=k,p.state.next({errors:r.errors,isValid:!1})},N=(k,I,U,xe)=>{const ge=_e(n,k);if(ge){const q=_e(a,k,Vt(U)?_e(s,k):U);Vt(q)||xe&&xe.defaultChecked||I?ht(a,k,I?q:zy(ge._f)):L(k,q),o.mount&&g()}},S=(k,I,U,xe,ge)=>{let q=!1,he=!1;const Ve={name:k};if(!t.disabled){if(!U||xe){(f.isDirty||m.isDirty)&&(he=r.isDirty,r.isDirty=Ve.isDirty=F(),q=he!==Ve.isDirty);const Ye=Fs(_e(s,k),I);he=!!_e(r.dirtyFields,k),Ye?zt(r.dirtyFields,k):ht(r.dirtyFields,k,!0),Ve.dirtyFields=r.dirtyFields,q=q||(f.dirtyFields||m.dirtyFields)&&he!==!Ye}if(U){const Ye=_e(r.touchedFields,k);Ye||(ht(r.touchedFields,k,U),Ve.touchedFields=r.touchedFields,q=q||(f.touchedFields||m.touchedFields)&&Ye!==U)}q&&ge&&p.state.next(Ve)}return q?Ve:{}},C=(k,I,U,xe)=>{const ge=_e(r.errors,k),q=(f.isValid||m.isValid)&&On(I)&&r.isValid!==I;if(t.delayError&&U?(c=b(()=>v(k,U)),c(t.delayError)):(clearTimeout(d),c=null,U?ht(r.errors,k,U):zt(r.errors,k)),(U?!Fs(ge,U):ge)||!Cr(xe)||q){const he={...xe,...q&&On(I)?{isValid:I}:{},errors:r.errors,name:k};r={...r,...he},p.state.next(he)}},j=async k=>{w(k,!0);const I=await t.resolver(a,t.context,LI(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(k),I},A=async k=>{const{errors:I}=await j(k);if(k)for(const U of k){const xe=_e(I,U);xe?ht(r.errors,U,xe):zt(r.errors,U)}else r.errors=I;return I},M=async(k,I,U={valid:!0})=>{for(const xe in k){const ge=k[xe];if(ge){const{_f:q,...he}=ge;if(q){const Ve=l.array.has(q.name),Ye=ge._f&&zI(ge._f);Ye&&f.validatingFields&&w([xe],!0);const bt=await Hy(ge,l.disabled,a,h,t.shouldUseNativeValidation&&!I,Ve);if(Ye&&f.validatingFields&&w([xe]),bt[q.name]&&(U.valid=!1,I))break;!I&&(_e(bt,q.name)?Ve?HI(r.errors,bt,q.name):ht(r.errors,q.name,bt[q.name]):zt(r.errors,q.name))}!Cr(he)&&await M(he,I,U)}}return U.valid},T=()=>{for(const k of l.unMount){const I=_e(n,k);I&&(I._f.refs?I._f.refs.every(U=>!Df(U)):!Df(I._f.ref))&&ae(k)}l.unMount=new Set},F=(k,I)=>!t.disabled&&(k&&I&&ht(a,k,I),!Fs(K(),s)),R=(k,I,U)=>OI(k,l,{...o.mount?a:Vt(I)?s:$n(k)?{[k]:I}:I},U,I),V=k=>Zh(_e(o.mount?a:s,k,t.shouldUnregister?_e(s,k,[]):[])),L=(k,I,U={})=>{const xe=_e(n,k);let ge=I;if(xe){const q=xe._f;q&&(!q.disabled&&ht(a,k,dS(I,q)),ge=$u(q.ref)&&vr(I)?"":I,oS(q.ref)?[...q.ref.options].forEach(he=>he.selected=ge.includes(he.value)):q.refs?ql(q.ref)?q.refs.forEach(he=>{(!he.defaultChecked||!he.disabled)&&(Array.isArray(ge)?he.checked=!!ge.find(Ve=>Ve===he.value):he.checked=ge===he.value||!!ge)}):q.refs.forEach(he=>he.checked=he.value===ge):Xh(q.ref)?q.ref.value="":(q.ref.value=ge,q.ref.type||p.state.next({name:k,values:Gt(a)})))}(U.shouldDirty||U.shouldTouch)&&S(k,ge,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&E(k)},le=(k,I,U)=>{for(const xe in I){if(!I.hasOwnProperty(xe))return;const ge=I[xe],q=k+"."+xe,he=_e(n,q);(l.array.has(k)||Ft(ge)||he&&!he._f)&&!Ca(ge)?le(q,ge,U):L(q,ge,U)}},re=(k,I,U={})=>{const xe=_e(n,k),ge=l.array.has(k),q=Gt(I);ht(a,k,q),ge?(p.array.next({name:k,values:Gt(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&U.shouldDirty&&p.state.next({name:k,dirtyFields:Oo(s,a),isDirty:F(k,q)})):xe&&!xe._f&&!vr(q)?le(k,q,U):L(k,q,U),Uy(k,l)&&p.state.next({...r,name:k}),p.state.next({name:o.mount?k:void 0,values:Gt(a)})},X=async k=>{o.mount=!0;const I=k.target;let U=I.name,xe=!0;const ge=_e(n,U),q=Ye=>{xe=Number.isNaN(Ye)||Ca(Ye)&&isNaN(Ye.getTime())||Fs(Ye,_e(a,U,Ye))},he=Vy(t.mode),Ve=Vy(t.reValidateMode);if(ge){let Ye,bt;const Bt=I.type?zy(ge._f):EI(k),Pt=k.type===Oy.BLUR||k.type===Oy.FOCUS_OUT,Wr=!VI(ge._f)&&!t.resolver&&!_e(r.errors,U)&&!ge._f.deps||BI(Pt,_e(r.touchedFields,U),r.isSubmitted,Ve,he),vt=Uy(U,l,Pt);ht(a,U,Bt),Pt?(ge._f.onBlur&&ge._f.onBlur(k),c&&c(0)):ge._f.onChange&&ge._f.onChange(k);const ft=S(U,Bt,Pt),Yt=!Cr(ft)||vt;if(!Pt&&p.state.next({name:U,type:k.type,values:Gt(a)}),Wr)return(f.isValid||m.isValid)&&(t.mode==="onBlur"?Pt&&g():Pt||g()),Yt&&p.state.next({name:U,...vt?{}:ft});if(!Pt&&vt&&p.state.next({...r}),t.resolver){const{errors:Kt}=await j([U]);if(q(Bt),xe){const Xt=By(r.errors,n,U),nr=By(Kt,n,Xt.name||U);Ye=nr.error,U=nr.name,bt=Cr(Kt)}}else w([U],!0),Ye=(await Hy(ge,l.disabled,a,h,t.shouldUseNativeValidation))[U],w([U]),q(Bt),xe&&(Ye?bt=!1:(f.isValid||m.isValid)&&(bt=await M(n,!0)));xe&&(ge._f.deps&&E(ge._f.deps),C(U,bt,Ye,ft))}},P=(k,I)=>{if(_e(r.errors,I)&&k.focus)return k.focus(),1},E=async(k,I={})=>{let U,xe;const ge=rl(k);if(t.resolver){const q=await A(Vt(k)?k:ge);U=Cr(q),xe=k?!ge.some(he=>_e(q,he)):U}else k?(xe=(await Promise.all(ge.map(async q=>{const he=_e(n,q);return await M(he&&he._f?{[q]:he}:he)}))).every(Boolean),!(!xe&&!r.isValid)&&g()):xe=U=await M(n);return p.state.next({...!$n(k)||(f.isValid||m.isValid)&&U!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:U}:{},errors:r.errors}),I.shouldFocus&&!xe&&nl(n,P,k?ge:l.mount),xe},K=k=>{const I={...o.mount?a:s};return Vt(k)?I:$n(k)?_e(I,k):k.map(U=>_e(I,U))},O=(k,I)=>({invalid:!!_e((I||r).errors,k),isDirty:!!_e((I||r).dirtyFields,k),error:_e((I||r).errors,k),isValidating:!!_e(r.validatingFields,k),isTouched:!!_e((I||r).touchedFields,k)}),de=k=>{k&&rl(k).forEach(I=>zt(r.errors,I)),p.state.next({errors:k?r.errors:{}})},G=(k,I,U)=>{const xe=(_e(n,k,{_f:{}})._f||{}).ref,ge=_e(r.errors,k)||{},{ref:q,message:he,type:Ve,...Ye}=ge;ht(r.errors,k,{...Ye,...I,ref:xe}),p.state.next({name:k,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&xe&&xe.focus&&xe.focus()},Se=(k,I)=>yn(k)?p.state.subscribe({next:U=>"values"in U&&k(R(void 0,I),U)}):R(k,I,!0),Ce=k=>p.state.subscribe({next:I=>{UI(k.name,I.name,k.exact)&&$I(I,k.formState||f,Mt,k.reRenderRoot)&&k.callback({values:{...a},...r,...I,defaultValues:s})}}).unsubscribe,qe=k=>(o.mount=!0,m={...m,...k.formState},Ce({...k,formState:m})),ae=(k,I={})=>{for(const U of k?rl(k):l.mount)l.mount.delete(U),l.array.delete(U),I.keepValue||(zt(n,U),zt(a,U)),!I.keepError&&zt(r.errors,U),!I.keepDirty&&zt(r.dirtyFields,U),!I.keepTouched&&zt(r.touchedFields,U),!I.keepIsValidating&&zt(r.validatingFields,U),!t.shouldUnregister&&!I.keepDefaultValue&&zt(s,U);p.state.next({values:Gt(a)}),p.state.next({...r,...I.keepDirty?{isDirty:F()}:{}}),!I.keepIsValid&&g()},ye=({disabled:k,name:I})=>{(On(k)&&o.mount||k||l.disabled.has(I))&&(k?l.disabled.add(I):l.disabled.delete(I))},$=(k,I={})=>{let U=_e(n,k);const xe=On(I.disabled)||On(t.disabled);return ht(n,k,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:k}},name:k,mount:!0,...I}}),l.mount.add(k),U?ye({disabled:On(I.disabled)?I.disabled:t.disabled,name:k}):N(k,!0,I.value),{...xe?{disabled:I.disabled||t.disabled}:{},...t.progressive?{required:!!I.required,min:Mo(I.min),max:Mo(I.max),minLength:Mo(I.minLength),maxLength:Mo(I.maxLength),pattern:Mo(I.pattern)}:{},name:k,onChange:X,onBlur:X,ref:ge=>{if(ge){$(k,I),U=_e(n,k);const q=Vt(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,he=MI(q),Ve=U._f.refs||[];if(he?Ve.find(Ye=>Ye===q):q===U._f.ref)return;ht(n,k,{_f:{...U._f,...he?{refs:[...Ve.filter(Df),q,...Array.isArray(_e(s,k))?[{}]:[]],ref:{type:q.type,name:k}}:{ref:q}}}),N(k,!1,void 0,q)}else U=_e(n,k,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(TI(l.array,k)&&o.action)&&l.unMount.add(k)}}},W=()=>t.shouldFocusError&&nl(n,P,l.mount),oe=k=>{On(k)&&(p.state.next({disabled:k}),nl(n,(I,U)=>{const xe=_e(n,U);xe&&(I.disabled=xe._f.disabled||k,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(ge=>{ge.disabled=xe._f.disabled||k}))},0,!1))},D=(k,I)=>async U=>{let xe;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ge=Gt(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:q,values:he}=await j();r.errors=q,ge=Gt(he)}else await M(n);if(l.disabled.size)for(const q of l.disabled)zt(ge,q);if(zt(r.errors,"root"),Cr(r.errors)){p.state.next({errors:{}});try{await k(ge,U)}catch(q){xe=q}}else I&&await I({...r.errors},U),W(),setTimeout(W);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Cr(r.errors)&&!xe,submitCount:r.submitCount+1,errors:r.errors}),xe)throw xe},H=(k,I={})=>{_e(n,k)&&(Vt(I.defaultValue)?re(k,Gt(_e(s,k))):(re(k,I.defaultValue),ht(s,k,Gt(I.defaultValue))),I.keepTouched||zt(r.touchedFields,k),I.keepDirty||(zt(r.dirtyFields,k),r.isDirty=I.defaultValue?F(k,Gt(_e(s,k))):F()),I.keepError||(zt(r.errors,k),f.isValid&&g()),p.state.next({...r}))},te=(k,I={})=>{const U=k?Gt(k):s,xe=Gt(U),ge=Cr(k),q=ge?s:xe;if(I.keepDefaultValues||(s=U),!I.keepValues){if(I.keepDirtyValues){const he=new Set([...l.mount,...Object.keys(Oo(s,a))]);for(const Ve of Array.from(he))_e(r.dirtyFields,Ve)?ht(q,Ve,_e(a,Ve)):re(Ve,_e(q,Ve))}else{if(Qh&&Vt(k))for(const he of l.mount){const Ve=_e(n,he);if(Ve&&Ve._f){const Ye=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if($u(Ye)){const bt=Ye.closest("form");if(bt){bt.reset();break}}}}if(I.keepFieldsRef)for(const he of l.mount)re(he,_e(q,he));else n={}}a=t.shouldUnregister?I.keepDefaultValues?Gt(s):{}:Gt(q),p.array.next({values:{...q}}),p.state.next({values:{...q}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!I.keepIsValid||!!I.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:ge?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!Fs(k,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge?{}:I.keepDirtyValues?I.keepDefaultValues&&a?Oo(s,a):r.dirtyFields:I.keepDefaultValues&&k?Oo(s,k):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Q=(k,I)=>te(yn(k)?k(a):k,I),me=(k,I={})=>{const U=_e(n,k),xe=U&&U._f;if(xe){const ge=xe.refs?xe.refs[0]:xe.ref;ge.focus&&(ge.focus(),I.shouldSelect&&yn(ge.select)&&ge.select())}},Mt=k=>{r={...r,...k}},ut={control:{register:$,unregister:ae,getFieldState:O,handleSubmit:D,setError:G,_subscribe:Ce,_runSchema:j,_focusError:W,_getWatch:R,_getDirty:F,_setValid:g,_setFieldArray:y,_setDisabledField:ye,_setErrors:x,_getFieldArray:V,_reset:te,_resetDefaultValues:()=>yn(t.defaultValues)&&t.defaultValues().then(k=>{Q(k,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:oe,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:qe,trigger:E,register:$,handleSubmit:D,watch:Se,setValue:re,getValues:K,reset:Q,resetField:H,clearErrors:de,unregister:ae,setError:G,setFocus:me,getFieldState:O};return{...ut,formControl:ut}}function qy(e={}){const t=se.useRef(void 0),r=se.useRef(void 0),[n,s]=se.useState({isDirty:!1,isValidating:!1,isLoading:yn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:yn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!yn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=KI(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,II(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),se.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),se.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),se.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),se.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),se.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),se.useEffect(()=>{e.values&&!Fs(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),se.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=RI(n,a),t.current}var ot;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ot||(ot={}));var Ky;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ky||(Ky={}));const Ae=ot.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),As=e=>{switch(typeof e){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return Number.isNaN(e)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(e)?Ae.array:e===null?Ae.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ae.promise:typeof Map<"u"&&e instanceof Map?Ae.map:typeof Set<"u"&&e instanceof Set?Ae.set:typeof Date<"u"&&e instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},pe=ot.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ys extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(t){if(!(t instanceof ys))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ot.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ys.create=e=>new ys(e);const np=(e,t)=>{let r;switch(e.code){case pe.invalid_type:e.received===Ae.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case pe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ot.jsonStringifyReplacer)}`;break;case pe.unrecognized_keys:r=`Unrecognized key(s) in object: ${ot.joinValues(e.keys,", ")}`;break;case pe.invalid_union:r="Invalid input";break;case pe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ot.joinValues(e.options)}`;break;case pe.invalid_enum_value:r=`Invalid enum value. Expected ${ot.joinValues(e.options)}, received '${e.received}'`;break;case pe.invalid_arguments:r="Invalid function arguments";break;case pe.invalid_return_type:r="Invalid function return type";break;case pe.invalid_date:r="Invalid date";break;case pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ot.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case pe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case pe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case pe.custom:r="Invalid input";break;case pe.invalid_intersection_types:r="Intersection results could not be merged";break;case pe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case pe.not_finite:r="Number must be finite";break;default:r=t.defaultError,ot.assertNever(e)}return{message:r}};let GI=np;function QI(){return GI}const ZI=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function ke(e,t){const r=QI(),n=ZI({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===np?void 0:np].filter(s=>!!s)});e.common.issues.push(n)}class $r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ue;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return $r.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ue;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Ue=Object.freeze({status:"aborted"}),Bo=e=>({status:"dirty",value:e}),nn=e=>({status:"valid",value:e}),Gy=e=>e.status==="aborted",Qy=e=>e.status==="dirty",Xi=e=>e.status==="valid",Wu=e=>typeof Promise<"u"&&e instanceof Promise;var Oe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Oe||(Oe={}));class ua{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Zy=(e,t)=>{if(Xi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ys(e.common.issues);return this._error=r,this._error}}};function Xe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class at{get description(){return this._def.description}_getType(t){return As(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:As(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $r,ctx:{common:t.parent.common,data:t.data,parsedType:As(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Wu(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:As(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Zy(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:As(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Xi(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Xi(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:As(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(Wu(s)?s:Promise.resolve(s));return Zy(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:pe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new to({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return aa.create(this,this._def)}nullable(){return ro.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hn.create(this)}promise(){return Gu.create(this,this._def)}or(t){return qu.create([this,t],this._def)}and(t){return Ku.create(this,t,this._def)}transform(t){return new to({...Xe(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new op({...Xe(this._def),innerType:this,defaultValue:r,typeName:Be.ZodDefault})}brand(){return new x5({typeName:Be.ZodBranded,type:this,...Xe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new lp({...Xe(this._def),innerType:this,catchValue:r,typeName:Be.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return eg.create(this,t)}readonly(){return up.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YI=/^c[^\s-]{8,}$/i,XI=/^[0-9a-z]+$/,JI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,e5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,t5=/^[a-z0-9_-]{21}$/i,r5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,n5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,s5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,a5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ff;const i5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,l5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,c5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,u5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,d5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,mS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",f5=new RegExp(`^${mS}$`);function pS(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function m5(e){return new RegExp(`^${pS(e)}$`)}function p5(e){let t=`${mS}T${pS(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function h5(e,t){return!!((t==="v4"||!t)&&i5.test(e)||(t==="v6"||!t)&&l5.test(e))}function g5(e,t){if(!r5.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function v5(e,t){return!!((t==="v4"||!t)&&o5.test(e)||(t==="v6"||!t)&&c5.test(e))}class qs extends at{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ae.string){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_type,expected:Ae.string,received:a.parsedType}),Ue}const n=new $r;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ke(s,{code:pe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ke(s,{code:pe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")s5.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"email",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Ff||(Ff=new RegExp(a5,"u")),Ff.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"emoji",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")e5.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"uuid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")t5.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"nanoid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")YI.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")XI.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid2",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")JI.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ulid",code:pe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ke(s,{validation:"url",code:pe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"regex",code:pe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?p5(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?f5.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?m5(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?n5.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"duration",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?h5(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ip",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?g5(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"jwt",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?v5(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cidr",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?u5.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64",code:pe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?d5.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64url",code:pe.invalid_string,message:a.message}),n.dirty()):ot.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:pe.invalid_string,...Oe.errToObj(n)})}_addCheck(t){return new qs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Oe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Oe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Oe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Oe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Oe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Oe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Oe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Oe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Oe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Oe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Oe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Oe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Oe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Oe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Oe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Oe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Oe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Oe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Oe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Oe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Oe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Oe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Oe.errToObj(r)})}nonempty(t){return this.min(1,Oe.errToObj(t))}trim(){return new qs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}qs.create=e=>new qs({checks:[],typeName:Be.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Xe(e)});function y5(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class Ji extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ae.number){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_type,expected:Ae.number,received:a.parsedType}),Ue}let n;const s=new $r;for(const a of this._def.checks)a.kind==="int"?ot.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?y5(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.not_finite,message:a.message}),s.dirty()):ot.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Oe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Oe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Oe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Oe.toString(r))}setLimit(t,r,n,s){return new Ji({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Oe.toString(s)}]})}_addCheck(t){return new Ji({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Oe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Oe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Oe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ot.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ji.create=e=>new Ji({checks:[],typeName:Be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Pl extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ae.bigint)return this._getInvalidInput(t);let n;const s=new $r;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:pe.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ot.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ke(r,{code:pe.invalid_type,expected:Ae.bigint,received:r.parsedType}),Ue}gte(t,r){return this.setLimit("min",t,!0,Oe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Oe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Oe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Oe.toString(r))}setLimit(t,r,n,s){return new Pl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Oe.toString(s)}]})}_addCheck(t){return new Pl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Oe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Pl.create=e=>new Pl({checks:[],typeName:Be.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Xe(e)});class sp extends at{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ae.boolean){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Ae.boolean,received:n.parsedType}),Ue}return nn(t.data)}}sp.create=e=>new sp({typeName:Be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Xe(e)});class Hu extends at{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ae.date){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_type,expected:Ae.date,received:a.parsedType}),Ue}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ke(a,{code:pe.invalid_date}),Ue}const n=new $r;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:pe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ot.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Oe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Oe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Hu.create=e=>new Hu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Be.ZodDate,...Xe(e)});class Yy extends at{_parse(t){if(this._getType(t)!==Ae.symbol){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Ae.symbol,received:n.parsedType}),Ue}return nn(t.data)}}Yy.create=e=>new Yy({typeName:Be.ZodSymbol,...Xe(e)});class ap extends at{_parse(t){if(this._getType(t)!==Ae.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Ae.undefined,received:n.parsedType}),Ue}return nn(t.data)}}ap.create=e=>new ap({typeName:Be.ZodUndefined,...Xe(e)});class Xy extends at{_parse(t){if(this._getType(t)!==Ae.null){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Ae.null,received:n.parsedType}),Ue}return nn(t.data)}}Xy.create=e=>new Xy({typeName:Be.ZodNull,...Xe(e)});class Jy extends at{constructor(){super(...arguments),this._any=!0}_parse(t){return nn(t.data)}}Jy.create=e=>new Jy({typeName:Be.ZodAny,...Xe(e)});class ex extends at{constructor(){super(...arguments),this._unknown=!0}_parse(t){return nn(t.data)}}ex.create=e=>new ex({typeName:Be.ZodUnknown,...Xe(e)});class da extends at{_parse(t){const r=this._getOrReturnCtx(t);return ke(r,{code:pe.invalid_type,expected:Ae.never,received:r.parsedType}),Ue}}da.create=e=>new da({typeName:Be.ZodNever,...Xe(e)});class tx extends at{_parse(t){if(this._getType(t)!==Ae.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Ae.void,received:n.parsedType}),Ue}return nn(t.data)}}tx.create=e=>new tx({typeName:Be.ZodVoid,...Xe(e)});class Hn extends at{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Ae.array)return ke(r,{code:pe.invalid_type,expected:Ae.array,received:r.parsedType}),Ue;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ke(r,{code:o?pe.too_big:pe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ke(r,{code:pe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ke(r,{code:pe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ua(r,o,r.path,l)))).then(o=>$r.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new ua(r,o,r.path,l)));return $r.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Hn({...this._def,minLength:{value:t,message:Oe.toString(r)}})}max(t,r){return new Hn({...this._def,maxLength:{value:t,message:Oe.toString(r)}})}length(t,r){return new Hn({...this._def,exactLength:{value:t,message:Oe.toString(r)}})}nonempty(t){return this.min(1,t)}}Hn.create=(e,t)=>new Hn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...Xe(t)});function oi(e){if(e instanceof It){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=aa.create(oi(n))}return new It({...e._def,shape:()=>t})}else return e instanceof Hn?new Hn({...e._def,type:oi(e.element)}):e instanceof aa?aa.create(oi(e.unwrap())):e instanceof ro?ro.create(oi(e.unwrap())):e instanceof Ua?Ua.create(e.items.map(t=>oi(t))):e}class It extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ot.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ae.object){const d=this._getOrReturnCtx(t);return ke(d,{code:pe.invalid_type,expected:Ae.object,received:d.parsedType}),Ue}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof da&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=a[d],m=s.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new ua(s,m,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof da){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(d==="strict")l.length>0&&(ke(s,{code:pe.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const m=s.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new ua(s,m,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const m=await f.key,p=await f.value;d.push({key:m,value:p,alwaysSet:f.alwaysSet})}return d}).then(d=>$r.mergeObjectSync(n,d)):$r.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Oe.errToObj,new It({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Oe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new It({...this._def,unknownKeys:"strip"})}passthrough(){return new It({...this._def,unknownKeys:"passthrough"})}extend(t){return new It({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new It({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new It({...this._def,catchall:t})}pick(t){const r={};for(const n of ot.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new It({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ot.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new It({...this._def,shape:()=>r})}deepPartial(){return oi(this)}partial(t){const r={};for(const n of ot.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new It({...this._def,shape:()=>r})}required(t){const r={};for(const n of ot.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof aa;)a=a._def.innerType;r[n]=a}return new It({...this._def,shape:()=>r})}keyof(){return hS(ot.objectKeys(this.shape))}}It.create=(e,t)=>new It({shape:()=>e,unknownKeys:"strip",catchall:da.create(),typeName:Be.ZodObject,...Xe(t)});It.strictCreate=(e,t)=>new It({shape:()=>e,unknownKeys:"strict",catchall:da.create(),typeName:Be.ZodObject,...Xe(t)});It.lazycreate=(e,t)=>new It({shape:e,unknownKeys:"strip",catchall:da.create(),typeName:Be.ZodObject,...Xe(t)});class qu extends at{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new ys(l.ctx.common.issues));return ke(r,{code:pe.invalid_union,unionErrors:o}),Ue}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new ys(c));return ke(r,{code:pe.invalid_union,unionErrors:l}),Ue}}get options(){return this._def.options}}qu.create=(e,t)=>new qu({options:e,typeName:Be.ZodUnion,...Xe(t)});function ip(e,t){const r=As(e),n=As(t);if(e===t)return{valid:!0,data:e};if(r===Ae.object&&n===Ae.object){const s=ot.objectKeys(t),a=ot.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=ip(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ae.array&&n===Ae.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=ip(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ae.date&&n===Ae.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ku extends at{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(Gy(a)||Gy(o))return Ue;const l=ip(a.value,o.value);return l.valid?((Qy(a)||Qy(o))&&r.dirty(),{status:r.value,value:l.data}):(ke(n,{code:pe.invalid_intersection_types}),Ue)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ku.create=(e,t,r)=>new Ku({left:e,right:t,typeName:Be.ZodIntersection,...Xe(r)});class Ua extends at{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ae.array)return ke(n,{code:pe.invalid_type,expected:Ae.array,received:n.parsedType}),Ue;if(n.data.length<this._def.items.length)return ke(n,{code:pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&n.data.length>this._def.items.length&&(ke(n,{code:pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ua(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>$r.mergeArray(r,o)):$r.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Ua({...this._def,rest:t})}}Ua.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ua({items:e,typeName:Be.ZodTuple,rest:null,...Xe(t)})};class rx extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ae.map)return ke(n,{code:pe.invalid_type,expected:Ae.map,received:n.parsedType}),Ue;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new ua(n,l,n.path,[d,"key"])),value:a._parse(new ua(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return Ue;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return Ue;(d.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(d.value,f.value)}return{status:r.value,value:l}}}}rx.create=(e,t,r)=>new rx({valueType:t,keyType:e,typeName:Be.ZodMap,...Xe(r)});class Al extends at{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ae.set)return ke(n,{code:pe.invalid_type,expected:Ae.set,received:n.parsedType}),Ue;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ke(n,{code:pe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ke(n,{code:pe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return Ue;f.status==="dirty"&&r.dirty(),d.add(f.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new ua(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Al({...this._def,minSize:{value:t,message:Oe.toString(r)}})}max(t,r){return new Al({...this._def,maxSize:{value:t,message:Oe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Al.create=(e,t)=>new Al({valueType:e,minSize:null,maxSize:null,typeName:Be.ZodSet,...Xe(t)});class nx extends at{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}nx.create=(e,t)=>new nx({getter:e,typeName:Be.ZodLazy,...Xe(t)});class sx extends at{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ke(r,{received:r.data,code:pe.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}sx.create=(e,t)=>new sx({value:e,typeName:Be.ZodLiteral,...Xe(t)});function hS(e,t){return new eo({values:e,typeName:Be.ZodEnum,...Xe(t)})}class eo extends at{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{expected:ot.joinValues(n),received:r.parsedType,code:pe.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{received:r.data,code:pe.invalid_enum_value,options:n}),Ue}return nn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return eo.create(t,{...this._def,...r})}exclude(t,r=this._def){return eo.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}eo.create=hS;class ax extends at{_parse(t){const r=ot.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ae.string&&n.parsedType!==Ae.number){const s=ot.objectValues(r);return ke(n,{expected:ot.joinValues(s),received:n.parsedType,code:pe.invalid_type}),Ue}if(this._cache||(this._cache=new Set(ot.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ot.objectValues(r);return ke(n,{received:n.data,code:pe.invalid_enum_value,options:s}),Ue}return nn(t.data)}get enum(){return this._def.values}}ax.create=(e,t)=>new ax({values:e,typeName:Be.ZodNativeEnum,...Xe(t)});class Gu extends at{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ae.promise&&r.common.async===!1)return ke(r,{code:pe.invalid_type,expected:Ae.promise,received:r.parsedType}),Ue;const n=r.parsedType===Ae.promise?r.data:Promise.resolve(r.data);return nn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Gu.create=(e,t)=>new Gu({type:e,typeName:Be.ZodPromise,...Xe(t)});class to extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{ke(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ue;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ue:c.status==="dirty"||r.value==="dirty"?Bo(c.value):c});{if(r.value==="aborted")return Ue;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ue:l.status==="dirty"||r.value==="dirty"?Bo(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xi(o))return Ue;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Xi(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Ue);ot.assertNever(s)}}to.create=(e,t,r)=>new to({schema:e,typeName:Be.ZodEffects,effect:t,...Xe(r)});to.createWithPreprocess=(e,t,r)=>new to({schema:t,effect:{type:"preprocess",transform:e},typeName:Be.ZodEffects,...Xe(r)});class aa extends at{_parse(t){return this._getType(t)===Ae.undefined?nn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}aa.create=(e,t)=>new aa({innerType:e,typeName:Be.ZodOptional,...Xe(t)});class ro extends at{_parse(t){return this._getType(t)===Ae.null?nn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ro.create=(e,t)=>new ro({innerType:e,typeName:Be.ZodNullable,...Xe(t)});class op extends at{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ae.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}op.create=(e,t)=>new op({innerType:e,typeName:Be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Xe(t)});class lp extends at{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Wu(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ys(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ys(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}lp.create=(e,t)=>new lp({innerType:e,typeName:Be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Xe(t)});class cp extends at{_parse(t){if(this._getType(t)!==Ae.nan){const n=this._getOrReturnCtx(t);return ke(n,{code:pe.invalid_type,expected:Ae.nan,received:n.parsedType}),Ue}return{status:"valid",value:t.data}}}cp.create=e=>new cp({typeName:Be.ZodNaN,...Xe(e)});class x5 extends at{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class eg extends at{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ue:a.status==="dirty"?(r.dirty(),Bo(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ue:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new eg({in:t,out:r,typeName:Be.ZodPipeline})}}class up extends at{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Xi(s)&&(s.value=Object.freeze(s.value)),s);return Wu(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}up.create=(e,t)=>new up({innerType:e,typeName:Be.ZodReadonly,...Xe(t)});It.lazycreate;var Be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Be||(Be={}));const gS=qs.create,gn=Ji.create,w5=cp.create,ix=sp.create,b5=ap.create;da.create;Hn.create;const vS=It.create;It.strictCreate;const N5=qu.create;Ku.create;Ua.create;const S5=eo.create;Gu.create;aa.create;ro.create;const ox=(e,t,r)=>{if(e&&"reportValidity"in e){const n=_e(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},yS=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ox(n.ref,r,e):n.refs&&n.refs.forEach(s=>ox(s,r,e))}},k5=(e,t)=>{t.shouldUseNativeValidation&&yS(e,t);const r={};for(const n in e){const s=_e(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(j5(t.names||Object.keys(e),n)){const o=Object.assign({},_e(r,n));ht(o,"root",a),ht(r,n,o)}else ht(r,n,a)}return r},j5=(e,t)=>e.some(r=>r.startsWith(t+"."));var C5=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=iS(o,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r},lx=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return a.shouldUseNativeValidation&&yS({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:k5(C5(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const lt=e=>Number(e.toFixed(2)),E5=e=>e.avg_color?{r:e.avg_color.r,g:e.avg_color.g,b:e.avg_color.b}:void 0,_5=e=>e.nutrition??{carbs:0,proteins:0,fats:0,glycemic_index:0},T5=e=>{const t=e.carbs??0,r=e.proteins??0,n=e.fats??0,s=t*4+r*4+n*9;return s>0?lt(s):void 0},P5=(e,t)=>{const r=_5(e);return{name:e.name||"Alimento sin nombre",weight:t,carbs:lt(r.carbs??0),proteins:lt(r.proteins??0),fats:lt(r.fats??0),glycemicIndex:Math.round(r.glycemic_index??0),kcal:T5(r),confidence:e.confidence,avgColor:E5(e),timestamp:new Date}},xS=(e,t)=>({id:`${Date.now()}-${Math.random().toString(36).slice(2)}`,name:e.name,weight:e.weight,carbs:e.carbs,proteins:e.proteins,fats:e.fats,glycemicIndex:e.glycemicIndex,kcal:e.kcal,confidence:e.confidence,source:t,capturedAt:e.timestamp.getTime(),avgColor:e.avgColor,photo:e.photo}),A5=(e,t,r)=>xS(P5(e,t),r),R5=vS({name:gS().min(2,"Ingresa al menos 2 caracteres"),carbsPer100g:gn({invalid_type_error:"Requerido"}).positive("Debe ser mayor a 0"),proteinsPer100g:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser >= 0"),fatsPer100g:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser >= 0"),kcalPer100g:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser >= 0"),glycemicIndex:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser >= 0").max(150,"Valor fuera de rango")}),Do=3,I5=10,O5=10,M5=5e3,D5=2e4,F5=vS({entryMode:S5(["per100g","perTotal"]),name:gS().min(2,"Ingresa al menos 2 caracteres"),carbs:gn({invalid_type_error:"Ingresa un número"}).positive("Debe ser mayor a 0"),proteins:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser ≥ 0"),fats:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser ≥ 0"),kcal:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser ≥ 0"),weight:N5([gn({invalid_type_error:"Ingresa un número"}).positive("Debe ser mayor a 0"),w5(),b5()]).transform(e=>typeof e=="number"&&!Number.isNaN(e)?e:void 0),glycemicIndex:gn({invalid_type_error:"Ingresa un número"}).min(0,"Debe ser ≥ 0").max(150,"Valor fuera de rango"),confirmEstimatedCarbs:ix().optional(),requiresConfirmation:ix().optional()}).superRefine((e,t)=>{e.entryMode==="perTotal"&&(!e.weight||e.weight<=0)&&t.addIssue({code:pe.custom,path:["weight"],message:"Ingresa un peso para convertir por total"}),e.requiresConfirmation&&!e.confirmEstimatedCarbs&&t.addIssue({code:pe.custom,path:["confirmEstimatedCarbs"],message:"Confirma carbs estimados"})});function L5({onKey:e,onDelete:t,onClear:r}){const n=["7","8","9","4","5","6","1","2","3","0",".","00"];return i.jsxs("div",{className:"grid grid-cols-3 gap-2",role:"group","aria-label":"Teclado numérico",children:[n.map(s=>i.jsx(z,{variant:"secondary",onClick:()=>e(s),children:s},s)),i.jsxs(z,{variant:"outline",onClick:t,children:[i.jsx(fh,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Borrar dígito"})]}),i.jsxs(z,{variant:"outline",onClick:r,children:[i.jsx(Uo,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Limpiar"})]})]})}function z5({open:e,onClose:t,prefilledBarcode:r,onFoodConfirmed:n,aiTimeoutSeconds:s,autoCaptureDelayMs:a}){const o=s??O5,l=a??M5,{toast:c}=Cn(),{weight:d}=Wl(),[f,m]=u.useState("mode-select"),[p,h]=u.useState("barcode"),[b,g]=u.useState(!1),[w,y]=u.useState(100),[v,x]=u.useState(0),[N,S]=u.useState("Selecciona un modo de escaneo para comenzar"),[C,j]=u.useState(null),A=u.useRef(null),[M,T]=u.useState(100),[F,R]=u.useState(0),[V,L]=u.useState(void 0),[le,re]=u.useState(""),[X,P]=u.useState("idle"),[E,K]=u.useState(null),O=qy({resolver:lx(F5),mode:"onChange",defaultValues:{entryMode:"per100g",name:"",carbs:0,proteins:0,fats:0,kcal:0,weight:100,glycemicIndex:50,confirmEstimatedCarbs:!1,requiresConfirmation:!1}}),de=u.useRef("per100g"),[G,Se]=u.useState({name:"",carbsPer100g:0,proteinsPer100g:0,fatsPer100g:0,kcalPer100g:0,glycemicIndex:50,confidence:0,source:"barcode"});u.useEffect(()=>{O.reset({entryMode:"per100g",name:G.name,carbs:G.carbsPer100g,proteins:G.proteinsPer100g??0,fats:G.fatsPer100g??0,kcal:G.kcalPer100g??0,weight:G.portionWeight??100,glycemicIndex:G.glycemicIndex,confirmEstimatedCarbs:!1,requiresConfirmation:G.source==="ai"}),de.current="per100g",O.trigger()},[O,G]),u.useEffect(()=>{O.register("entryMode"),O.register("requiresConfirmation"),O.register("confirmEstimatedCarbs")},[O]);const Ce=u.useRef(null),qe=u.useRef(null),ae=u.useRef(null),ye=u.useRef(null),$=u.useRef(null),W=u.useRef(null),oe=u.useRef(null),D=u.useRef(!1),H=u.useRef(null),te=u.useRef(null),Q=u.useRef(null),me=u.useRef(null),Mt=u.useRef(o),Je=typeof window<"u",ut=Je&&(window.SpeechRecognition||window.webkitSpeechRecognition)||null,k=!!ut,I=u.useCallback((B,ce)=>Je?window.setTimeout(B,ce):setTimeout(B,ce),[Je]),U=u.useCallback(B=>{B&&(Je?window.clearTimeout(B):clearTimeout(B))},[Je]),xe=u.useCallback((B,ce)=>Je?window.setInterval(B,ce):setInterval(B,ce),[Je]),ge=u.useCallback(B=>{B&&(Je?window.clearInterval(B):clearInterval(B))},[Je]),q=qy({resolver:lx(R5),defaultValues:{name:"",carbsPer100g:0,proteinsPer100g:0,fatsPer100g:0,kcalPer100g:0,glycemicIndex:50},mode:"onChange"});u.useEffect(()=>{q.reset({name:G.name,carbsPer100g:G.carbsPer100g,proteinsPer100g:G.proteinsPer100g,fatsPer100g:G.fatsPer100g,kcalPer100g:G.kcalPer100g,glycemicIndex:G.glycemicIndex})},[G,q]);const he=O.watch("entryMode"),Ve=O.watch("carbs"),Ye=O.watch("proteins"),bt=O.watch("fats"),Bt=O.watch("kcal"),Pt=O.watch("weight"),Wr=O.watch("confirmEstimatedCarbs"),vt=u.useMemo(()=>{const B=typeof Pt=="number"&&Number.isFinite(Pt)&&Pt>0?Pt:void 0,ce=typeof Ve=="number"&&Number.isFinite(Ve)?Ve:0,Re=typeof Ye=="number"&&Number.isFinite(Ye)?Ye:0,De=typeof bt=="number"&&Number.isFinite(bt)?bt:0,Fe=typeof Bt=="number"&&Number.isFinite(Bt)?Bt:0;return he==="perTotal"?{weight:B,perTotal:{carbs:lt(ce),proteins:lt(Re),fats:lt(De),kcal:Math.round(Fe)},per100g:B&&B>0?{carbs:lt(ce/B*100),proteins:lt(Re/B*100),fats:lt(De/B*100),kcal:Math.round(Fe/B*100)}:void 0}:{weight:B,per100g:{carbs:lt(ce),proteins:lt(Re),fats:lt(De),kcal:Math.round(Fe)},perTotal:B&&B>0?{carbs:lt(ce*B/100),proteins:lt(Re*B/100),fats:lt(De*B/100),kcal:Math.round(Fe*B/100)}:void 0}},[he,Ve,Ye,bt,Bt,Pt]);u.useEffect(()=>{const B=de.current;if(B===he)return;const ce=O.getValues("weight"),Re=typeof ce=="number"&&Number.isFinite(ce)&&ce>0?ce:void 0;if(!Re){de.current=he,me.current=null;return}const De=O.getValues("carbs"),Fe=O.getValues("proteins"),ne=O.getValues("fats"),Lt=O.getValues("kcal"),pt=kt=>typeof kt=="number"&&Number.isFinite(kt)?kt:0;if(B==="per100g"&&he==="perTotal"){const kt=Re/100;O.setValue("carbs",lt(pt(De)*kt),{shouldDirty:!0,shouldValidate:!0}),O.setValue("proteins",lt(pt(Fe)*kt),{shouldDirty:!0,shouldValidate:!0}),O.setValue("fats",lt(pt(ne)*kt),{shouldDirty:!0,shouldValidate:!0}),O.setValue("kcal",Math.round(pt(Lt)*kt),{shouldDirty:!0,shouldValidate:!0}),me.current=Re}else if(B==="perTotal"&&he==="per100g"){const kt=100/Re;O.setValue("carbs",lt(pt(De)*kt),{shouldDirty:!0,shouldValidate:!0}),O.setValue("proteins",lt(pt(Fe)*kt),{shouldDirty:!0,shouldValidate:!0}),O.setValue("fats",lt(pt(ne)*kt),{shouldDirty:!0,shouldValidate:!0}),O.setValue("kcal",Math.round(pt(Lt)*kt),{shouldDirty:!0,shouldValidate:!0}),me.current=Re}de.current=he},[he,O]),u.useEffect(()=>{const B=O.getValues("weight"),ce=typeof B=="number"&&Number.isFinite(B)&&B>0?B:void 0;if(he!=="perTotal"){me.current=ce??null;return}const Re=me.current;if(me.current=ce??null,!ce||!Re||!Number.isFinite(Re)||ce===Re)return;const De=ce/Re;if(!Number.isFinite(De)||De<=0)return;const Fe=ne=>typeof ne=="number"&&Number.isFinite(ne)?ne:0;O.setValue("carbs",lt(Fe(O.getValues("carbs"))*De),{shouldDirty:!0,shouldValidate:!0}),O.setValue("proteins",lt(Fe(O.getValues("proteins"))*De),{shouldDirty:!0,shouldValidate:!0}),O.setValue("fats",lt(Fe(O.getValues("fats"))*De),{shouldDirty:!0,shouldValidate:!0}),O.setValue("kcal",Math.round(Fe(O.getValues("kcal"))*De),{shouldDirty:!0,shouldValidate:!0})},[he,O,Pt]);const ft=u.useCallback(()=>{var B;if(ae.current){try{ae.current.clear()}catch{}ae.current=null}if($.current&&(ge($.current),$.current=null),W.current&&(U(W.current),W.current=null),oe.current&&(U(oe.current),oe.current=null),(B=Ce.current)!=null&&B.srcObject&&(Ce.current.srcObject.getTracks().forEach(Re=>Re.stop()),Ce.current.srcObject=null),ye.current){try{ye.current.stop()}catch{}ye.current=null}H.current=null,te.current=null},[ge,U]),Yt=u.useCallback(async B=>{g(!0),ft(),S("Buscando información nutricional");try{const ce=await Ke.scanBarcode(B),Re=Math.round(ce.nutrition.carbs*4+ce.nutrition.proteins*4+ce.nutrition.fats*9),De={name:ce.name,carbsPer100g:ce.nutrition.carbs,proteinsPer100g:ce.nutrition.proteins,fatsPer100g:ce.nutrition.fats,kcalPer100g:Re,glycemicIndex:Math.round(ce.nutrition.glycemic_index??0),confidence:ce.confidence??1,source:"barcode",photo:V,portionWeight:100};Se(De),m("preview"),S(`Producto encontrado: ${ce.name}`),fe.info("Barcode scanned successfully",{barcode:B,name:ce.name})}catch(ce){fe.error("Barcode lookup failed",{error:ce});const De=Pe.getScannerHistory().find(Fe=>Fe.barcode===B);De?(Se({name:De.name,carbsPer100g:De.carbsPer100g,proteinsPer100g:De.proteinsPer100g||0,fatsPer100g:De.fatsPer100g||0,kcalPer100g:De.kcalPer100g||0,glycemicIndex:De.glycemicIndex??50,confidence:De.confidence||0,source:"manual",photo:De.photo,portionWeight:100}),m("preview"),c({title:"Encontrado en historial",description:"Verifica los datos antes de confirmar"})):(c({title:"Producto no encontrado",description:"Usa la entrada manual o por voz para continuar"}),m("fallback"))}finally{g(!1)}},[V,ft,c]),Kt=u.useCallback(async()=>{if(navigator.onLine)for(;;){const B=Pe.dequeueScannerAction();if(!B)break;try{if(B.type==="exportBolus"){const ce=typeof B.timestamp=="string"?B.timestamp:B.timestamp.toISOString();await Ke.exportBolus(B.carbs,B.insulin??0,ce)}}catch(ce){fe.error("Failed to flush offline queue",{error:ce}),Pe.enqueueScannerAction(B);break}}},[]);u.useEffect(()=>{if(!e)return;const B=()=>{c({title:"Conexión restaurada",description:"Reintentando exportaciones pendientes"}),Kt()};return window.addEventListener("online",B),Kt(),()=>{window.removeEventListener("online",B)}},[e,Kt,c]),u.useEffect(()=>{if(!e){ft();return}m("mode-select"),x(0),y(100),R(0),T(100),S("Selecciona un modo de escaneo para comenzar"),Se({name:"",carbsPer100g:0,proteinsPer100g:0,fatsPer100g:0,kcalPer100g:0,glycemicIndex:50,confidence:0,source:"barcode",portionWeight:100}),L(void 0),re(""),P("idle")},[e,ft]),u.useEffect(()=>{!e||!r||Yt(r)},[e,r,Yt]),u.useEffect(()=>ft,[ft]);const Xt=u.useCallback(()=>{A.current=null,j(null)},[]),nr=u.useCallback(()=>{const B=Date.now(),ce=A.current;if(ce&&B<ce){const De=Math.ceil((ce-B)/1e3);return c({title:"Espera un momento",description:`Puedes volver a intentar en ${De}s`,variant:"destructive"}),!1}const Re=B+D5;return A.current=Re,j(Re),!0},[c]),Wt=u.useCallback((B,ce)=>{D.current=!0,oe.current&&(U(oe.current),oe.current=null),ft(),m("fallback"),S(B),c(ce)},[ft,c,U]),Hr=u.useCallback(()=>{D.current||(te.current=null,x(B=>B+1),Wt("Tiempo agotado en modo IA, usa voz o código de barras",{title:"Tiempo agotado",description:"Pasando a voz o código de barras"}))},[Wt]),Nt=u.useCallback(async()=>{if(v>=Do){Wt("Límite de intentos alcanzado, usa voz o código de barras",{title:"Límite de intentos",description:"Prueba la voz o el código de barras",variant:"destructive"});return}if(nr()){h("barcode"),m("scanning"),g(!0),y(100),S("Iniciando escáner de código de barras");try{const{Html5QrcodeScanner:B}=await CR(async()=>{const{Html5QrcodeScanner:Re}=await import("./index-BS2OgoAp.js");return{Html5QrcodeScanner:Re}},[]),ce=new B("barcode-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);ce.render(Re=>{S(`Código detectado: ${Re}`),Yt(Re),ce.clear(),ae.current=null},()=>{}),ae.current=ce,$.current&&clearInterval($.current),$.current=setInterval(()=>{y(Re=>Re<=0?($.current&&(clearInterval($.current),$.current=null),x(De=>De+1),Wt("Tiempo agotado, usa voz o código de barras",{title:"Tiempo agotado",description:"Intenta de nuevo o usa voz/código de barras"}),0):Re-100/I5)},1e3)}catch(B){fe.error("Barcode scanner error",{error:B}),Wt("Error al iniciar escáner, usa voz o código de barras",{title:"Error al iniciar escáner",description:"Usa la voz o el código de barras como respaldo",variant:"destructive"})}finally{g(!1)}}},[v,nr,Yt,Wt]),mr=u.useCallback(()=>{if(!Ce.current||!qe.current||D.current){!D.current&&!W.current&&(W.current=I(()=>{W.current=null,mr()},200));return}W.current&&(U(W.current),W.current=null);const B=qe.current,ce=Ce.current;B.width=ce.videoWidth,B.height=ce.videoHeight;const Re=B.getContext("2d");if(!Re)return;Re.drawImage(ce,0,0);const De=B.toDataURL("image/jpeg",.8);L(De),g(!0),S("Analizando imagen con IA"),Ke.analyzeFoodPhoto(De).then(Fe=>{if(D.current)return;if(!Fe||Fe.confidence<.7){let kt=0;if(x(Sr=>{const Ir=Sr+1;return kt=Ir,Ir}),kt>=Do){Wt("Detección IA incierta, usa voz o código de barras",{title:"Detección IA incierta",description:"Usa voz o código de barras para continuar",variant:"destructive"});return}c({title:"Detección IA incierta, probando barcode",description:"Intenta escanear el código de barras"}),D.current=!0,ft(),h("barcode"),Xt(),Nt();return}const ne=Fe.kcalPer100g??Math.round(Fe.carbsPer100g*4+(Fe.fatsPer100g||0)*9),Lt="glycemicIndex"in Fe&&typeof Fe.glycemicIndex=="number"?Fe.glycemicIndex:void 0,pt={name:Fe.name,carbsPer100g:Fe.carbsPer100g,proteinsPer100g:Fe.proteinsPer100g||0,fatsPer100g:Fe.fatsPer100g||0,kcalPer100g:ne,glycemicIndex:Math.round(Lt??50),confidence:Fe.confidence,source:"ai",photo:De,portionWeight:100};Se(pt),S(`Reconocido: ${Fe.name} (confianza ${(Fe.confidence*100).toFixed(0)}%)`),m("preview"),ft(),fe.info("AI analysis successful",{name:Fe.name,confidence:Fe.confidence})}).catch(Fe=>{fe.error("AI analysis failed",{error:Fe});let ne=0;x(Lt=>{const pt=Lt+1;return ne=pt,pt}),ne>=Do?Wt("Error en análisis IA, usa voz o código de barras",{title:"Error en análisis IA",description:"Usa voz o código de barras para continuar",variant:"destructive"}):(c({title:"Error en análisis IA",description:"Intenta de nuevo o usa código de barras",variant:"destructive"}),D.current=!0,ft(),m("fallback"))}).finally(()=>{g(!1)})},[c,ft,Nt,Xt,Wt,U,I]),sr=u.useCallback(()=>{mr()},[mr]),ee=u.useCallback(async()=>{if(v>=Do){Wt("Límite de intentos de IA, usa voz o código de barras",{title:"Límite de intentos alcanzado",description:"Usa voz o código de barras para continuar",variant:"destructive"});return}if(!nr())return;const B=Date.now();H.current=B,te.current=B+o*1e3,Mt.current=o,D.current=!1,h("ai"),m("scanning"),g(!0),S("Activando cámara para analizar el alimento"),y(100),$.current&&ge($.current),$.current=xe(()=>{const Lt=(te.current??Date.now())-Date.now(),pt=Math.max(0,Math.ceil(Lt/1e3));Mt.current=pt,y(Math.max(0,Math.round(pt/o*100))),pt<=0&&($.current&&(ge($.current),$.current=null),Hr())},1e3);const ce=Date.now()-(H.current??Date.now()),Re=Math.max(0,l-ce);W.current&&U(W.current),W.current=I(()=>{W.current=null,mr()},Re),oe.current&&U(oe.current);const Fe=(te.current??Date.now()+o*1e3)-Date.now();if(Fe<=0){Hr();return}oe.current=I(Hr,Fe);try{const ne=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});Ce.current&&(Ce.current.srcObject=ne,await Ce.current.play())}catch(ne){fe.error("Camera access error",{error:ne}),Wt("Error al acceder a la cámara, usa voz o código de barras",{title:"Error al acceder a la cámara",description:"Usa voz o código de barras para continuar",variant:"destructive"})}finally{g(!1)}},[v,nr,mr,Wt,Hr,xe,ge,I,U,o,l]),Z=O.handleSubmit(B=>{const ce=B.weight,Re=B.entryMode==="perTotal"&&ce?100/ce:1,De={...G,name:B.name,carbsPer100g:lt(B.carbs*Re),proteinsPer100g:lt(B.proteins*Re),fatsPer100g:lt(B.fats*Re),kcalPer100g:Math.round(B.kcal*Re),glycemicIndex:B.glycemicIndex,portionWeight:ce,photo:V??G.photo};if(!De.name||De.carbsPer100g<=0){c({title:"Datos incompletos",description:"Completa nombre y carbohidratos",variant:"destructive"});return}Se(De),m("weighing"),R(d),S("Coloca el alimento sobre la báscula y espera estabilización")}),we=u.useMemo(()=>lt(G.carbsPer100g*d/100),[G.carbsPer100g,d]),Me=u.useMemo(()=>lt(G.proteinsPer100g*d/100),[G.proteinsPer100g,d]),je=u.useMemo(()=>lt(G.fatsPer100g*d/100),[G.fatsPer100g,d]),$e=u.useMemo(()=>Math.round(G.kcalPer100g*d/100),[G.kcalPer100g,d]),Jt=u.useCallback(async()=>{if(d<=0){c({title:"Peso inválido",description:"Coloca el alimento en la báscula",variant:"destructive"});return}const B=new Date,ce=G.photo??V,Re={name:G.name,weight:d,carbs:we,proteins:Me,fats:je,glycemicIndex:G.glycemicIndex,kcal:$e>0?$e:void 0,confidence:G.confidence||void 0,timestamp:B,photo:ce};Pe.addScannerRecord({...Re,timestamp:B.toISOString(),carbsPer100g:G.carbsPer100g,proteinsPer100g:G.proteinsPer100g,fatsPer100g:G.fatsPer100g,kcalPer100g:G.kcalPer100g,glycemicIndex:G.glycemicIndex,source:G.source,confidence:G.confidence});const De=Pe.getSettings();if(De.nightscoutUrl&&De.nightscoutToken)try{navigator.onLine?(await Ke.exportBolus(we,0,B.toISOString()),c({title:"Exportado a Nightscout",description:"Revisa tu registro en Nightscout"})):(Pe.enqueueScannerAction({type:"exportBolus",carbs:we,insulin:0,timestamp:B.toISOString()}),c({title:"Sin conexión",description:"Se exportará automáticamente al volver la conexión"}))}catch(Fe){fe.error("Nightscout export failed",{error:Fe}),c({title:"Error al exportar",description:"Se reintentará más tarde",variant:"destructive"}),Pe.enqueueScannerAction({type:"exportBolus",carbs:we,insulin:0,timestamp:B.toISOString()})}n(Re),t(),c({title:"Alimento registrado",description:`${G.name}: ${we}g carbos`}),navigator.vibrate&&navigator.vibrate(200)},[d,G,we,Me,je,$e,n,t,c,V]),pr=u.useCallback(B=>{var kt;const ce=B.toLowerCase(),Re=Array.from(ce.matchAll(/(\d+[.,]?\d*)\s*(carbohidratos|carbos|calor[ií]as|kcal)?/g));let De,Fe;Re.forEach(Sr=>{const Ir=Number(Sr[1].replace(",",".")),ho=Sr[2];if(!ho){De===void 0?De=Ir:Fe===void 0&&(Fe=Ir);return}ho.includes("carb")&&(De=Ir),ho.includes("cal")&&(Fe=Ir)});const ne=(kt=Re[0])==null?void 0:kt[0],pt=(ne?ce.split(ne)[0]:ce).replace(/^(registrar|agregar|añadir)/,"").trim();return{name:pt?pt.replace(/(^|\s)\w/g,Sr=>Sr.toUpperCase()):void 0,carbsPer100g:De,kcalPer100g:Fe}},[]),ar=u.useCallback(()=>{if(!k||!ut){P("error"),c({title:"Reconocimiento de voz no disponible",description:"Verifica permisos o usa entrada manual",variant:"destructive"});return}ye.current&&ye.current.stop();const B=new ut;B.lang="es-ES",B.interimResults=!0,B.continuous=!1,B.onresult=ce=>{const Re=Array.from(ce.results);let De="";for(let ne=ce.resultIndex;ne<Re.length;ne++){const Lt=Re[ne],pt=Lt==null?void 0:Lt[0];pt&&(De+=pt.transcript)}re(De),S(`Escuchando: ${De}`);const Fe=Re[Re.length-1];if(Fe!=null&&Fe.isFinal){P("processing");const ne=pr(De);ne.name&&q.setValue("name",ne.name,{shouldDirty:!0,shouldTouch:!0}),ne.carbsPer100g!==void 0&&q.setValue("carbsPer100g",ne.carbsPer100g,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0}),ne.kcalPer100g!==void 0&&q.setValue("kcalPer100g",ne.kcalPer100g,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0}),c({title:"Transcripción completada",description:"Revisa y confirma los datos detectados"}),P("idle")}},B.onerror=ce=>{P("error"),c({title:"Error al reconocer voz",description:"Intenta nuevamente o usa entrada manual",variant:"destructive"})},B.onend=()=>{P("idle"),ye.current=null},ye.current=B,B.start(),P("listening"),S("Escuchando instrucciones...")},[q,pr,ut,k,c]),Nr=u.useCallback(()=>{ye.current&&(ye.current.stop(),ye.current=null),P("idle"),S("Reconocimiento de voz detenido")},[]),fo=q.handleSubmit(B=>{const ce={...G,name:B.name,carbsPer100g:B.carbsPer100g,proteinsPer100g:B.proteinsPer100g,fatsPer100g:B.fatsPer100g,kcalPer100g:B.kcalPer100g,glycemicIndex:B.glycemicIndex,source:"manual",photo:V,portionWeight:G.portionWeight??100};Se(ce),m("weighing"),R(d),S("Datos guardados manualmente, procede a pesar")}),mo=u.useCallback(B=>{if(!E)return;const ce=q.getValues(E),Re=ce?String(ce):"";if(B==="."&&Re.includes("."))return;const ne=`${Re==="0"&&B!=="."?"":Re}${B}`.replace(/^0+(?=\d)/,"").replace(",","."),Lt=Number(ne||"0");q.setValue(E,isNaN(Lt)?0:Lt,{shouldDirty:!0,shouldValidate:!0})},[E,q]),po=u.useCallback(()=>{if(!E)return;const B=q.getValues(E),Re=(B?String(B):"").slice(0,-1),De=Number(Re||"0");q.setValue(E,De,{shouldDirty:!0,shouldValidate:!0})},[E,q]),Kl=u.useCallback(()=>{E&&q.setValue(E,0,{shouldDirty:!0,shouldValidate:!0})},[E,q]);return i.jsx(na,{open:e,onOpenChange:t,children:i.jsxs(os,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",onOpenAutoFocus:B=>{var ce;B.preventDefault(),(ce=Q.current)==null||ce.focus()},onPointerDownOutside:B=>{f==="scanning"&&B.preventDefault()},children:[i.jsx(ls,{children:i.jsx(cs,{children:"Escanear Alimento"})}),i.jsx("p",{className:"sr-only","aria-live":"assertive",children:N}),i.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border p-3","aria-live":"polite",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Estado"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:N})]}),i.jsxs(ja,{variant:"outline",children:["Intentos: ",v,"/",Do]})]}),f==="mode-select"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"Elige cómo escanear el alimento:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(z,{ref:Q,size:"lg",variant:"default",className:"h-32 flex-col gap-2",onClick:Nt,children:[i.jsx(hb,{className:"h-12 w-12","aria-hidden":"true"}),i.jsx("span",{children:"Código de Barras"})]}),i.jsxs(z,{size:"lg",variant:"secondary",className:"h-32 flex-col gap-2",onClick:ee,children:[i.jsx(el,{className:"h-12 w-12","aria-hidden":"true"}),i.jsx("span",{children:"Foto IA"})]})]})]}),f==="scanning"&&i.jsxs("div",{className:"space-y-4",children:[p==="barcode"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-black/50 rounded-lg p-4 text-center text-white",children:[i.jsx("p",{className:"mb-2",children:"Apunta la cámara al código de barras"}),i.jsx(Yi,{value:w,className:"h-2","aria-label":"Progreso de escaneo"})]}),i.jsx("div",{id:"barcode-reader",className:"w-full","aria-live":"polite"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-black/50 rounded-lg p-4 text-center text-white",children:[i.jsx("p",{className:"mb-2",children:"Apunta al alimento y espera"}),i.jsx(Yi,{value:w,className:"h-2","aria-label":"Progreso de escaneo IA"}),b&&i.jsx(Rt,{className:"h-6 w-6 animate-spin mx-auto mt-2","aria-hidden":"true"})]}),i.jsx("video",{ref:Ce,className:"w-full rounded-lg",autoPlay:!0,playsInline:!0,muted:!0,"aria-label":"Vista previa de cámara"}),i.jsx("canvas",{ref:qe,className:"hidden"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{onClick:sr,disabled:b,className:"flex-1",children:[i.jsx(mE,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),b?"Analizando...":"Capturar Ahora"]}),i.jsx(z,{variant:"outline",onClick:()=>m("mode-select"),children:"Cancelar"})]})]}),i.jsx(z,{variant:"outline",onClick:()=>m("fallback"),className:"w-full",children:"Entrada Manual / Voz"})]}),f==="preview"&&i.jsx("div",{className:"space-y-4",children:i.jsx(Qe,{className:"p-4 space-y-4","aria-live":"polite",children:i.jsxs("form",{onSubmit:Z,className:"space-y-4","aria-label":"Revisión del alimento detectado",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(ze,{htmlFor:"preview-name",children:"Nombre del alimento"}),i.jsx(et,{id:"preview-name",placeholder:"Ej: Manzana",...O.register("name"),"aria-invalid":O.formState.errors.name?"true":"false"}),O.formState.errors.name&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.name.message})]}),i.jsxs("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:[i.jsx(ja,{variant:G.source==="ai"?"secondary":"default",children:G.source==="ai"?"IA":G.source==="barcode"?"Código de barras":"Manual"}),G.confidence>0&&i.jsxs(ja,{variant:"outline",children:["Confianza ",(G.confidence*100).toFixed(0),"%"]})]})]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium",children:"Modo de macros"}),i.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",role:"group","aria-label":"Modo de edición de macros",children:[i.jsx(z,{type:"button",variant:he==="per100g"?"default":"outline",onClick:()=>O.setValue("entryMode","per100g",{shouldDirty:!0,shouldValidate:!0}),children:"Por 100 g"}),i.jsx(z,{type:"button",variant:he==="perTotal"?"default":"outline",onClick:()=>O.setValue("entryMode","perTotal",{shouldDirty:!0,shouldValidate:!0}),children:"Por total"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"preview-carbs",children:["Carbohidratos ",he==="per100g"?"/ 100 g":"totales"]}),i.jsx(et,{id:"preview-carbs",type:"number",step:"0.1",...O.register("carbs",{valueAsNumber:!0}),"aria-invalid":O.formState.errors.carbs?"true":"false"}),O.formState.errors.carbs&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.carbs.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"preview-proteins",children:["Proteínas ",he==="per100g"?"/ 100 g":"totales"]}),i.jsx(et,{id:"preview-proteins",type:"number",step:"0.1",...O.register("proteins",{valueAsNumber:!0}),"aria-invalid":O.formState.errors.proteins?"true":"false"}),O.formState.errors.proteins&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.proteins.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"preview-fats",children:["Grasas ",he==="per100g"?"/ 100 g":"totales"]}),i.jsx(et,{id:"preview-fats",type:"number",step:"0.1",...O.register("fats",{valueAsNumber:!0}),"aria-invalid":O.formState.errors.fats?"true":"false"}),O.formState.errors.fats&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.fats.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(ze,{htmlFor:"preview-kcal",children:["Calorías ",he==="per100g"?"/ 100 g":"totales"]}),i.jsx(et,{id:"preview-kcal",type:"number",step:"1",...O.register("kcal",{valueAsNumber:!0}),"aria-invalid":O.formState.errors.kcal?"true":"false"}),O.formState.errors.kcal&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.kcal.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"preview-weight",children:"Peso de la porción (g, opcional)"}),i.jsx(et,{id:"preview-weight",type:"number",step:"1",...O.register("weight",{valueAsNumber:!0}),"aria-invalid":O.formState.errors.weight?"true":"false"}),O.formState.errors.weight&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.weight.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"preview-glycemic",children:"Índice glucémico"}),i.jsx(et,{id:"preview-glycemic",type:"number",step:"1",...O.register("glycemicIndex",{valueAsNumber:!0}),"aria-invalid":O.formState.errors.glycemicIndex?"true":"false"}),O.formState.errors.glycemicIndex&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.glycemicIndex.message})]})]}),G.source==="ai"&&i.jsxs("div",{className:"flex items-start gap-2 rounded-md border p-3",children:[i.jsx(sS,{id:"confirm-carbs",checked:!!Wr,onCheckedChange:B=>O.setValue("confirmEstimatedCarbs",B===!0,{shouldDirty:!0,shouldValidate:!0})}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx(ze,{htmlFor:"confirm-carbs",children:"Confirma carbs estimados"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifica manualmente los valores antes de continuar."}),O.formState.errors.confirmEstimatedCarbs&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:O.formState.errors.confirmEstimatedCarbs.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border p-4",children:[i.jsx("h4",{className:"mb-2 font-semibold",children:"Por 100 g"}),vt.per100g?i.jsxs("dl",{className:"space-y-1 text-sm sm:text-base",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Carbohidratos"}),i.jsxs("dd",{children:[vt.per100g.carbs.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Proteínas"}),i.jsxs("dd",{children:[vt.per100g.proteins.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Grasas"}),i.jsxs("dd",{children:[vt.per100g.fats.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Calorías"}),i.jsxs("dd",{children:[vt.per100g.kcal.toLocaleString("es-ES",{maximumFractionDigits:0})," ","kcal"]})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Agrega un peso para convertir a 100 g."})]}),i.jsxs("div",{className:"rounded-lg border p-4",children:[i.jsxs("h4",{className:"mb-2 font-semibold",children:["Porción total",vt.weight?` (${vt.weight} g)`:""]}),vt.perTotal?i.jsxs("dl",{className:"space-y-1 text-sm sm:text-base",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Carbohidratos"}),i.jsxs("dd",{children:[vt.perTotal.carbs.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Proteínas"}),i.jsxs("dd",{children:[vt.perTotal.proteins.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Grasas"}),i.jsxs("dd",{children:[vt.perTotal.fats.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Calorías"}),i.jsxs("dd",{children:[vt.perTotal.kcal.toLocaleString("es-ES",{maximumFractionDigits:0})," ","kcal"]})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresa un peso para ver los totales."})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(z,{type:"submit",className:"flex-1 min-w-[150px]",disabled:!O.formState.isValid,children:"Continuar a pesar"}),i.jsx(z,{type:"button",variant:"outline",onClick:()=>m("mode-select"),className:"min-w-[150px]",children:"Escanear de nuevo"}),i.jsx(z,{type:"button",variant:"outline",onClick:()=>m("fallback"),className:"min-w-[150px]",children:"Ajustar manualmente"})]})]})})}),f==="weighing"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(Qe,{className:"p-4","aria-live":"polite",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Peso actual"}),i.jsxs("div",{className:"text-3xl font-bold",children:[d," g"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Δ ",d-F>0?"+":"",d-F," g"]})]}),i.jsxs(Qe,{className:"p-4","aria-live":"polite",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Nutrición estimada"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-lg",children:[i.jsxs("span",{className:"font-bold",children:[we," g"]})," carbohidratos"]}),i.jsxs("p",{className:"text-lg",children:[i.jsx("span",{className:"font-bold",children:$e})," kcal"]})]})]})]}),i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"expected-portion",children:"Ajustar porción esperada (g)"}),i.jsx(Wh,{id:"expected-portion",value:[M],onValueChange:([B])=>T(B),min:1,max:1e3,step:1,className:"mt-2","aria-label":"Porción esperada"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[M," g"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{onClick:Jt,className:"flex-1",disabled:d<=0,children:[i.jsx(wi,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Confirmar"]}),i.jsx(z,{variant:"outline",onClick:()=>m("preview"),children:"Volver"})]})]}),f==="fallback"&&i.jsxs("div",{className:"space-y-4",children:[k&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dicta el alimento y sus datos o ajusta la información manualmente."}),i.jsxs(ZN,{defaultValue:k?"voice":"manual",className:"w-full",children:[i.jsxs(qh,{className:"grid w-full grid-cols-2",children:[i.jsx(Ms,{value:"voice",disabled:!k,children:"Voz"}),i.jsx(Ms,{value:"manual",children:"Manual"})]}),i.jsx(Ds,{value:"voice",className:"space-y-4",forceMount:!0,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"rounded-lg border p-4","aria-live":"polite",children:[i.jsx("p",{className:"font-medium mb-2",children:"Dicta el alimento y sus datos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ejemplo: “Manzana 12 carbohidratos 50 calorías”"}),i.jsxs("p",{className:"mt-2 text-sm","aria-live":"polite",children:["Transcripción: ",le||"Sin entrada todavía"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(z,{className:"flex-1",variant:X==="listening"?"destructive":"default",onClick:X==="listening"?Nr:ar,children:X==="listening"?i.jsxs(i.Fragment,{children:[i.jsx(Yc,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Detener"]}):i.jsxs(i.Fragment,{children:[i.jsx(Xc,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Escuchar"]})}),i.jsx(z,{variant:"outline",onClick:()=>re(""),children:"Limpiar"})]}),i.jsx(z,{className:"w-full",onClick:fo,children:"Usar datos transcritos"})]})}),i.jsx(Ds,{value:"manual",className:"space-y-4",forceMount:!0,children:i.jsxs("form",{onSubmit:fo,className:"space-y-4","aria-label":"Formulario manual",children:[i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"manual-name",children:"Nombre del alimento"}),i.jsx(et,{id:"manual-name",placeholder:"Ej: Manzana",...q.register("name"),"aria-invalid":q.formState.errors.name?"true":"false"}),q.formState.errors.name&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:q.formState.errors.name.message})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ze,{htmlFor:"carbs",children:"Carbos / 100g"}),i.jsxs(z,{type:"button",size:"icon",variant:E==="carbsPer100g"?"default":"ghost",onClick:()=>K(B=>B==="carbsPer100g"?null:"carbsPer100g"),"aria-pressed":E==="carbsPer100g",children:[i.jsx(Zc,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Mostrar teclado para carbohidratos"})]})]}),i.jsx(et,{id:"carbs",type:"number",step:"0.1",...q.register("carbsPer100g",{valueAsNumber:!0}),"aria-invalid":q.formState.errors.carbsPer100g?"true":"false"}),q.formState.errors.carbsPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:q.formState.errors.carbsPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ze,{htmlFor:"kcal",children:"Kcal / 100g"}),i.jsxs(z,{type:"button",size:"icon",variant:E==="kcalPer100g"?"default":"ghost",onClick:()=>K(B=>B==="kcalPer100g"?null:"kcalPer100g"),"aria-pressed":E==="kcalPer100g",children:[i.jsx(Zc,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Mostrar teclado para calorías"})]})]}),i.jsx(et,{id:"kcal",type:"number",step:"0.1",...q.register("kcalPer100g",{valueAsNumber:!0}),"aria-invalid":q.formState.errors.kcalPer100g?"true":"false"}),q.formState.errors.kcalPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:q.formState.errors.kcalPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ze,{htmlFor:"proteins",children:"Proteínas / 100g"}),i.jsx(et,{id:"proteins",type:"number",step:"0.1",...q.register("proteinsPer100g",{valueAsNumber:!0}),"aria-invalid":q.formState.errors.proteinsPer100g?"true":"false"}),q.formState.errors.proteinsPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:q.formState.errors.proteinsPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(ze,{htmlFor:"fats",children:"Grasas / 100g"}),i.jsx(et,{id:"fats",type:"number",step:"0.1",...q.register("fatsPer100g",{valueAsNumber:!0}),"aria-invalid":q.formState.errors.fatsPer100g?"true":"false"}),q.formState.errors.fatsPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:q.formState.errors.fatsPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(ze,{htmlFor:"glycemic-index",children:"Índice glucémico"}),i.jsxs(z,{type:"button",size:"icon",variant:E==="glycemicIndex"?"default":"ghost",onClick:()=>K(B=>B==="glycemicIndex"?null:"glycemicIndex"),"aria-pressed":E==="glycemicIndex",children:[i.jsx(Zc,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Mostrar teclado para índice glucémico"})]})]}),i.jsx(et,{id:"glycemic-index",type:"number",step:"1",...q.register("glycemicIndex",{valueAsNumber:!0}),"aria-invalid":q.formState.errors.glycemicIndex?"true":"false"}),q.formState.errors.glycemicIndex&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:q.formState.errors.glycemicIndex.message})]})]}),E&&i.jsx(L5,{onKey:mo,onDelete:po,onClear:Kl}),i.jsx(z,{type:"submit",className:"w-full",disabled:!q.formState.isValid,children:"Guardar y pesar"})]})})]})]}),i.jsx("div",{className:"text-xs text-muted-foreground",role:"note",children:"El modo seleccionado se bloquea unos segundos tras cada intento para evitar lecturas repetidas."})]})})}const V5=()=>{const{weight:e}=Wl(),[t,r]=u.useState(!1),[n,s]=u.useState([]),[a,o]=u.useState(null),[l,c]=u.useState(!1),[d,f]=u.useState(),[m,p]=u.useState(null),[h,b]=u.useState(null),[g,w]=u.useState(null),[y,v]=u.useState(!1),[x,N]=u.useState(!1),[S,C]=u.useState(void 0),j=u.useRef(null),A=u.useRef(null),M=u.useRef(null);u.useRef(null);const T=u.useRef(!1),F=u.useRef([]),{toast:R}=Cn(),V=Ga(),L=D=>{const H=Jr(D,V);return H==="–"?H:`${H} g`},re=Pe.getSettings().diabetesMode,X=u.useMemo(()=>n.reduce((D,H)=>({weight:D.weight+H.weight,carbs:D.carbs+H.carbs,proteins:D.proteins+H.proteins,fats:D.fats+H.fats}),{weight:0,carbs:0,proteins:0,fats:0}),[n]),P=u.useCallback(()=>{var te;const D=Pe.getScannerHistory();if(F.current=[],!Array.isArray(D)){T.current=!0;return}const H=D.map(Q=>{if(!Q||typeof Q!="object")return null;if(!(typeof Q.weight=="number"&&typeof Q.carbs=="number"&&typeof Q.proteins=="number"&&typeof Q.fats=="number"&&typeof Q.glycemicIndex=="number")||typeof Q.name!="string")return Q.name&&Q.weight&&typeof Q.timestamp=="string"&&F.current.push(Q),null;const Mt=Q.source==="ai"?"camera":"barcode",Je=typeof Q.capturedAt=="string"?Date.parse(Q.capturedAt)||Date.now():typeof Q.timestamp=="string"&&Date.parse(Q.timestamp)||Date.now();return{id:Q.id??`${Je}-${Q.name.toLowerCase().replace(/\s+/g,"-")}`,name:Q.name,weight:Q.weight,carbs:Q.carbs,proteins:Q.proteins,fats:Q.fats,glycemicIndex:Q.glycemicIndex,kcal:Q.kcal,confidence:Q.confidence,source:Mt,capturedAt:Je,photo:Q.photo}}).filter(Q=>!!(Q!=null&&Q.name&&(Q!=null&&Q.weight)));H.length>0&&(s(H),o(((te=H[H.length-1])==null?void 0:te.id)??null)),T.current=!0},[]);u.useEffect(()=>{P()},[P]),u.useEffect(()=>{if(T.current)try{const D=n.map(te=>({id:te.id,name:te.name,weight:te.weight,carbs:te.carbs,proteins:te.proteins,fats:te.fats,glycemicIndex:te.glycemicIndex,kcal:te.kcal,confidence:te.confidence,source:te.source,timestamp:new Date(te.capturedAt).toISOString(),capturedAt:new Date(te.capturedAt).toISOString(),photo:te.photo,carbsPer100g:te.weight>0?te.carbs/te.weight*100:0,proteinsPer100g:te.weight>0?te.proteins/te.weight*100:0,fatsPer100g:te.weight>0?te.fats/te.weight*100:0,kcalPer100g:te.kcal&&te.weight>0?te.kcal/te.weight*100:0,portionWeight:te.weight})),H=[...F.current,...D];Pe.saveScannerHistory(H)}catch(D){fe.error("Failed to persist scanner history",{error:D})}},[n]);const E=u.useCallback(()=>{M.current&&(M.current.getTracks().forEach(D=>D.stop()),M.current=null),v(!1)},[]);u.useEffect(()=>()=>E(),[E]);const K=u.useCallback(async()=>{var D;if(typeof navigator>"u"||!((D=navigator.mediaDevices)!=null&&D.getUserMedia)){w("Este dispositivo no permite acceso a la cámara desde el navegador");return}try{const H=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});j.current&&(j.current.srcObject=H),M.current=H,w(null),v(!0)}catch(H){fe.error("Failed to start camera",{error:H}),w("No se pudo iniciar la cámara. Revisa permisos o intenta con otro navegador.")}},[]),O=u.useCallback(async()=>{if(!j.current)return null;const D=j.current,H=A.current;if(!H)return null;const te=D.videoWidth,Q=D.videoHeight;if(!te||!Q)return null;H.width=te,H.height=Q;const me=H.getContext("2d");if(!me)return null;me.drawImage(D,0,0,te,Q);const Mt=H.toDataURL("image/jpeg",.92);return p(Mt),await new Promise(Je=>{H.toBlob(ut=>Je(ut),"image/jpeg",.92)})},[]);u.useEffect(()=>{if(!h)return;const D=URL.createObjectURL(h);return p(D),()=>URL.revokeObjectURL(D)},[h]);const de=async()=>{if(e>0)return e;const D=window.prompt("Introduce el peso en gramos. Si tienes la báscula conectada, actívala antes de continuar.");if(!D)return null;const H=Number(D.replace(",","."));return Number.isNaN(H)||H<=0?(R({title:"Peso inválido",description:"Introduce un valor numérico mayor que cero",variant:"destructive"}),null):H},G=D=>{s(H=>[...H,D]),o(D.id),fe.info("Food registered",{name:D.name,weight:D.weight,source:D.source}),R({title:"Alimento añadido",description:`${D.name} - ${L(D.weight)}`}),navigator.vibrate&&navigator.vibrate(25)},Se=u.useCallback(()=>{N(!1),C(void 0)},[]),Ce=u.useCallback(D=>{C((D==null?void 0:D.trim())||void 0),N(!0)},[]),qe=D=>{const H=xS(D,"barcode");G(H)},ae=async()=>{const D=await de();if(!D)return;let H=null;if(y&&(H=await O()),!H&&h&&(H=h),!H){R({title:"Sin imagen",description:"Activa la cámara o sube una foto del alimento para analizarlo",variant:"destructive"});return}r(!0);try{const te=await Ke.analyzeFood(H,D),Q=A5(te,D,"camera");G(Q),b(null)}catch(te){fe.error("Food analysis failed",{error:te}),te instanceof Et?R({title:"Error",description:te.message,variant:"destructive"}):R({title:"Error inesperado",description:"No se pudo analizar la imagen"})}finally{r(!1)}},ye=u.useCallback(()=>{Ce()},[Ce]),$=D=>{s(H=>H.filter(te=>te.id!==D)),a===D&&o(null),R({title:"Alimento eliminado"})},W=async()=>{fe.info("Food analysis completed",{totalWeight:X.weight,totalCarbs:X.carbs,totalProteins:X.proteins,totalFats:X.fats}),R({title:"Resumen guardado",description:`Peso total: ${L(X.weight)}`})},oe=u.useCallback(async()=>{if(!(typeof navigator<"u"&&!navigator.onLine))for(;;){const D=Pe.dequeueScannerAction();if(!D)break;try{if(D.type==="exportBolus"){const H=typeof D.timestamp=="string"?D.timestamp:D.timestamp.toISOString();await Ke.exportBolus(D.carbs,D.insulin??0,H)}fe.info("Scanner queue action processed",{action:D})}catch(H){fe.error("Failed to process scanner queue action",{action:D,error:H}),Pe.enqueueScannerAction(D);break}}},[]);return u.useEffect(()=>{oe();const D=()=>{R({title:"Conexión restaurada",description:"Procesando acciones pendientes"}),oe()};return window.addEventListener("online",D),()=>window.removeEventListener("online",D)},[oe,R]),i.jsxs("div",{className:"flex h-full flex-col gap-6 bg-background p-4",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-[1.4fr_1fr]",children:[i.jsx(Qe,{className:"relative overflow-hidden border-primary/30",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Captura con cámara"}),i.jsxs("p",{className:"text-sm text-muted-foreground",style:{fontFeatureSettings:'"tnum"'},children:["Peso detectado: ",L(e)]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{onClick:K,variant:"secondary",size:"sm",disabled:y,children:[i.jsx(el,{className:"mr-2 h-4 w-4"})," Activar cámara"]}),i.jsx(z,{onClick:E,variant:"outline",size:"sm",disabled:!y,children:"Detener"})]})]}),i.jsxs("div",{className:"relative mb-4 rounded-xl border border-dashed border-primary/30 bg-muted/30",children:[i.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,className:Ne("h-64 w-full rounded-xl object-cover",!y&&"opacity-30")}),!y&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx(el,{className:"mb-2 h-8 w-8"}),i.jsx("p",{children:"Activa la cámara o sube una imagen desde archivos."})]})]}),m&&i.jsxs("div",{className:"mb-4 rounded-lg border border-primary/20 bg-primary/5 p-3",children:[i.jsx("p",{className:"mb-2 text-sm font-medium text-primary",children:"Última captura"}),i.jsx("img",{src:m,alt:"Vista previa",className:"h-40 w-full rounded-md object-cover"})]}),g&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:g}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx(z,{onClick:ae,disabled:t,className:"min-w-[180px]",children:t?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"})," Analizando…"]}):i.jsxs(i.Fragment,{children:[i.jsx(el,{className:"mr-2 h-4 w-4"})," Analizar alimento"]})}),i.jsxs(z,{onClick:ye,variant:"secondary",disabled:t,children:[i.jsx(hb,{className:"mr-2 h-4 w-4"})," Código de barras"]})]}),i.jsx("canvas",{ref:A,className:"hidden"})]})}),i.jsx(Qe,{className:"border-primary/30",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Historial del escáner"}),i.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Selecciona un alimento para ver opciones adicionales."}),i.jsxs("div",{className:"space-y-3",children:[n.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aún no has añadido alimentos. Captura una imagen o usa el lector de códigos de barras."}),n.map(D=>i.jsxs("button",{className:Ne("w-full rounded-lg border p-4 text-left transition",a===D.id?"border-primary bg-primary/10":"border-border hover:border-primary/60"),onClick:()=>o(D.id),children:[i.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold",children:D.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.source==="camera"?"Imagen":"Código de barras",typeof D.confidence=="number"&&i.jsxs(i.Fragment,{children:[" ","· Confianza ",(D.confidence*100).toFixed(0),"%"]})]})]}),i.jsx("span",{className:"text-xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:L(D.weight)})]}),i.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"HC"}),i.jsxs("p",{className:"font-semibold",children:[D.carbs.toFixed(2)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Proteínas"}),i.jsxs("p",{className:"font-semibold",children:[D.proteins.toFixed(2)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Grasas"}),i.jsxs("p",{className:"font-semibold",children:[D.fats.toFixed(2)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"IG"}),i.jsx("p",{className:"font-semibold",children:D.glycemicIndex})]}),D.avgColor&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Color"}),i.jsx("span",{className:"h-4 w-4 rounded-full border",style:{backgroundColor:`rgb(${D.avgColor.r}, ${D.avgColor.g}, ${D.avgColor.b})`}})]})]}),a===D.id&&i.jsxs(z,{onClick:H=>{H.stopPropagation(),$(D.id)},variant:"destructive",size:"sm",className:"mt-3 w-full",children:[i.jsx(_E,{className:"mr-2 h-4 w-4"})," Eliminar"]})]},D.id))]})]})})]}),n.length>0&&i.jsx(Qe,{className:"border-primary/50 bg-primary/5",children:i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"mb-3 text-xl font-bold",children:"Totales"}),i.jsxs("div",{className:"mb-4 grid grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Peso"}),i.jsx("p",{className:"text-2xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:L(X.weight)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"HC"}),i.jsxs("p",{className:"text-2xl font-bold text-warning",children:[X.carbs.toFixed(1)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Proteínas"}),i.jsxs("p",{className:"text-2xl font-bold text-secondary",children:[X.proteins.toFixed(1)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Grasas"}),i.jsxs("p",{className:"text-2xl font-bold text-success",children:[X.fats.toFixed(1)," g"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(z,{onClick:()=>{s([]),o(null),R({title:"Lista limpiada"})},variant:"outline",size:"xl",className:"text-xl",children:[i.jsx(xn,{className:"mr-2 h-6 w-6"})," Limpiar"]}),i.jsxs(z,{onClick:W,variant:"success",size:"xl",className:"text-xl",children:[i.jsx(Sl,{className:"mr-2 h-6 w-6"})," Finalizar"]})]}),re&&X.carbs>0&&i.jsxs(z,{onClick:async()=>{try{const D=await Ke.getGlucose();f(D.glucose)}catch(D){fe.warn("Could not fetch glucose",{error:D})}c(!0)},variant:"glow",size:"xl",className:"mt-3 w-full text-xl",children:[i.jsx(wb,{className:"mr-2 h-6 w-6"})," Calcular bolo de insulina"]})]})}),l&&i.jsx(SR,{totalCarbs:X.carbs,currentGlucose:d,onClose:()=>{c(!1),s([])}}),i.jsx(z5,{open:x,onClose:Se,prefilledBarcode:S,onFoodConfirmed:qe})]})},$5=({context:e="page",onClose:t}={})=>{const r=jd(),s=Pe.getSettings().ui.flags.navSafeExit??!0,[a,o]=u.useState(!1),[l,c]=u.useState(0),[d,f]=u.useState(!1),[m,p]=u.useState(5),[h,b]=u.useState(!0),[g,w]=u.useState(!1),y=u.useRef(null),v=u.useRef(null),x=u.useRef(!1),N=u.useRef(null),S=u.useRef(null);u.useEffect(()=>{typeof window<"u"&&o("ontouchstart"in window)},[]),u.useEffect(()=>{if(typeof window>"u")return;const ae=new Audio("/sounds/beep.mp3");ae.preload="auto",v.current=ae},[]);const C=u.useCallback((ae=1)=>{if(typeof window>"u")return;const ye=Math.min(Math.max(ae,0),1);if(ye<=0)return;const $=window.AudioContext??window.webkitAudioContext;if(!$)return;(!y.current||y.current.state==="closed")&&(y.current=new $);const W=y.current;if(!W)return;W.state==="suspended"&&W.resume().catch(()=>{});const oe=W.createOscillator(),D=W.createGain();oe.type="sine",oe.frequency.setValueAtTime(880,W.currentTime),D.gain.setValueAtTime(1e-4,W.currentTime);const H=Math.max(1e-4,.25*ye);oe.connect(D),D.connect(W.destination),oe.start(),D.gain.exponentialRampToValueAtTime(H,W.currentTime+.05),D.gain.exponentialRampToValueAtTime(1e-4,W.currentTime+1.4),oe.stop(W.currentTime+1.5)},[]),j=u.useCallback((ae=1)=>{if(typeof window>"u")return;const ye=Math.min(Math.max(ae,0),1);if(ye<=0)return;const W=(v.current??(()=>{const D=new Audio("/sounds/beep.mp3");return D.preload="auto",v.current=D,D})()).cloneNode(!0);W.volume=ye;const oe=W.play();oe&&typeof oe.catch=="function"&&oe.catch(D=>{console.warn("Fallo al reproducir beep.mp3, usando fallback",D),C(ye)})},[C]),A=u.useCallback(()=>{N.current&&(clearInterval(N.current),N.current=null),S.current&&(clearTimeout(S.current),S.current=null),w(!1)},[]);u.useEffect(()=>()=>{if(A(),y.current)try{y.current.close()}catch(ae){console.error("Error closing audio context",ae)}},[A]);const M=u.useCallback(()=>{if(x.current)return;x.current=!0;const ae=Pe.getSettings(),ye=Math.min(Math.max(ae.uiVolume??1,0),1),$=!!ae.ui.flags.timerAlarms,W=!!ae.isVoiceActive;if(A(),$){if(ae.timerAlarmSoundEnabled&&ye>0&&(j(ye),N.current&&clearInterval(N.current),N.current=setInterval(()=>{j(ye),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{j(ye)},400)},3e3),w(!0)),W&&ae.timerVoiceAnnouncementsEnabled){const oe=new URLSearchParams({text:"Tiempo finalizado"});ae.voiceId&&oe.set("voice",ae.voiceId),rt.post(`/api/voice/tts/say?${oe.toString()}`).catch(D=>{console.error("Failed to send timer completion TTS",D),Ke.speak("Tiempo finalizado",ae.voiceId).catch(()=>{})})}(!ae.timerAlarmSoundEnabled||ye===0)&&w(!1)}else j(ye),W&&Ke.speak("Tiempo finalizado",ae.voiceId).catch(()=>{})},[j,A]);u.useEffect(()=>{let ae;return d&&l>0&&(ae=setInterval(()=>{c(ye=>ye<=1?(f(!1),M(),0):ye-1)},1e3)),()=>clearInterval(ae)},[d,l,M]);const T=ae=>{x.current=!1,A(),ae!==void 0?(c(ae*60),p(ae),b(!1)):l===0&&(c(m*60),b(!1)),f(!0)},F=()=>{f(!d)};u.useEffect(()=>{!d&&l===0&&(x.current=!1)},[d,l]);const R=()=>{A()},V=u.useCallback(()=>{x.current=!1,A(),c(0),f(!1),typeof window<"u"&&window.history.length>1?r(-1):r("/",{replace:!0})},[r,A]),L=u.useCallback(()=>{x.current=!1,A(),c(0),f(!1),b(!0)},[A]),le=u.useCallback(()=>{if(t){t();return}typeof window<"u"&&window.history.length>1?r(-1):r("/",{replace:!0})},[r,t]),re=ae=>{const ye=Math.floor(ae/60),$=ae%60;return`${ye.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},X=l>0&&m>0?l/(m*60)*100:0,[P,E]=u.useState(""),K=ae=>{P.length<4&&E(P+ae)},O=()=>{E(P.slice(0,-1))},de=()=>{E("")},G=()=>{const ae=parseInt(P)||0;ae>0&&(T(ae),E(""))},Se=[{label:"1 min",value:1},{label:"5 min",value:5},{label:"10 min",value:10},{label:"15 min",value:15},{label:"30 min",value:30},{label:"60 min",value:60}],Ce=i.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs(z,{variant:"outline",size:"lg",onClick:le,className:"gap-2 min-h-[44px] min-w-[44px]",children:[i.jsx(Nl,{className:"h-5 w-5"}),"Atrás"]}),i.jsx("h1",{className:"text-xl font-bold",children:"Configurar Temporizador"}),i.jsx("div",{className:"w-[100px]"})," "]}),i.jsx("div",{className:"flex flex-1 items-center justify-center",children:i.jsxs(Qe,{className:"w-full max-w-2xl max-h-[560px] overflow-y-auto p-5",children:[i.jsxs("div",{className:"mb-4 space-y-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"mb-2 text-base text-muted-foreground",children:"Minutos"}),i.jsx("div",{className:"mx-auto w-48 rounded-lg border-2 border-primary/30 bg-card p-3",children:i.jsx("p",{className:"text-4xl font-bold text-primary",children:P||"0"})})]}),i.jsxs("div",{className:"mx-auto max-w-sm",children:[i.jsx("div",{className:"grid gap-2",children:[["1","2","3"],["4","5","6"],["7","8","9"],["","0","⌫"]].map((ae,ye)=>i.jsx("div",{className:"grid grid-cols-3 gap-2",children:ae.map(($,W)=>$?$==="⌫"?i.jsx(z,{variant:"outline",size:"lg",onClick:O,className:"h-12 text-lg",children:"←"},W):i.jsx(z,{variant:"outline",size:"lg",onClick:()=>K($),className:"h-12 text-lg font-bold",children:$},W):i.jsx("div",{},W))},ye))}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[i.jsx(z,{variant:"destructive",size:"lg",onClick:de,className:"h-12 text-base",children:"Borrar"}),i.jsx(z,{variant:"glow",size:"lg",onClick:G,className:"h-12 text-base",disabled:!P||parseInt(P)===0,children:"Iniciar"})]})]})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsx("p",{className:"mb-3 text-center text-base text-muted-foreground",children:"O elige un preset:"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Se.map(ae=>i.jsx(z,{onClick:()=>T(ae.value),variant:"outline",className:"h-14 text-base",children:ae.label},ae.value))})]})]})})]}),qe=i.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs(z,{variant:"outline",size:"lg",onClick:le,className:"gap-2 min-h-[44px] min-w-[44px]",children:[i.jsx(Nl,{className:"h-5 w-5"}),"Atrás"]}),i.jsx("h1",{className:"text-xl font-bold",children:"Temporizador"}),i.jsx("div",{className:"w-[100px]"})," "]}),i.jsx("div",{className:"flex flex-1 items-center justify-center",children:i.jsxs(Qe,{className:"relative w-full max-w-xl max-h-[560px] overflow-hidden border-primary/30 p-6 glow-cyan",children:[i.jsx("div",{className:"gradient-holographic absolute inset-0 opacity-20"}),i.jsxs("div",{className:"relative text-center",children:[i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:Ne("mb-3 text-7xl font-bold tracking-tight transition-smooth",d?"text-primary text-glow-cyan":"text-muted-foreground"),children:re(l)})}),i.jsx("div",{className:"mx-auto mb-4 h-48 w-48",children:i.jsxs("svg",{className:"h-full w-full -rotate-90 transform",children:[i.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"12",fill:"none",className:"text-muted"}),i.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"12",fill:"none",strokeDasharray:`${2*Math.PI*88}`,strokeDashoffset:`${2*Math.PI*88*(1-X/100)}`,className:Ne("transition-all duration-1000",d?"text-primary":"text-warning"),strokeLinecap:"round"})]})}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(z,{onClick:F,size:"lg",variant:d?"warning":"glow",className:"h-14 min-w-[120px] text-base",children:d?i.jsxs(i.Fragment,{children:[i.jsx(xE,{className:"mr-2 h-5 w-5"}),"Pausar"]}):i.jsxs(i.Fragment,{children:[i.jsx(yb,{className:"mr-2 h-5 w-5"}),"Reanudar"]})}),i.jsxs(z,{onClick:L,size:"lg",variant:"outline",className:"h-14 min-w-[120px] text-base",children:[i.jsx(xb,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),i.jsxs(z,{onClick:V,size:"lg",variant:"destructive",className:"h-14 min-w-[120px] text-base",children:[i.jsx(xn,{className:"mr-2 h-5 w-5"}),"Detener"]}),g&&i.jsxs(z,{onClick:R,size:"lg",variant:"destructive",className:"h-14 min-w-[120px] text-base",children:[i.jsx(xn,{className:"mr-2 h-5 w-5"}),"Silenciar"]})]})]})]})})]});return i.jsxs("div",{className:"relative flex h-full flex-col",children:[h?Ce:qe,s&&a&&i.jsx(z,{variant:"glow",size:"lg",onClick:le,className:"fixed bottom-6 right-6 z-50 rounded-full min-h-[56px] min-w-[56px] shadow-lg","aria-label":"Salir",children:i.jsx(vE,{className:"h-6 w-6"})})]})},dp=u.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:Ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));dp.displayName="Textarea";const U5=[{key:"navSafeExit",title:"Navegación segura",description:"Muestra controles extra para salir de temporizador y recetas."},{key:"voiceSelector",title:"Selector de voz real",description:"Permite elegir voces reales y ejecutar pruebas de TTS."},{key:"timerAlarms",title:"Alarmas de temporizador",description:"Activa beeps y avisos por voz al finalizar el temporizador."},{key:"calibrationV2",title:"Calibración asistida v2",description:"Habilita la nueva experiencia de tara y asistente en dos pasos."},{key:"networkModal",title:"Modal de Wi-Fi",description:"Usa un modal interno para cambiar la red Wi-Fi."},{key:"miniEbStable",title:"MINI-EB estable",description:"Aplica reintentos y estados claros en el acceso MINI-EB."},{key:"otaCheck",title:"OTA check",description:"Habilita la comprobación de actualizaciones OTA desde ajustes."},{key:"otaApply",title:"OTA apply",description:"Permite lanzar la aplicación de actualizaciones OTA."},{key:"debugLogs",title:"Logs de depuración",description:"Muestra logs adicionales en consola para diagnósticos."},{key:"mascotMotion",title:"Animación de mascota",description:"Activa movimiento suave y reacciones animadas de Basculin."}],wS=e=>({navSafeExit:e.navSafeExit,voiceSelector:e.voiceSelector,timerAlarms:e.timerAlarms,calibrationV2:e.calibrationV2,networkModal:e.networkModal,miniEbStable:e.miniEbStable,otaCheck:e.otaCheck,otaApply:e.otaApply,debugLogs:e.debugLogs,mascotMotion:e.mascotMotion}),Qu=()=>{try{const e=Pe.getSettings();return wS(e.ui.flags)}catch(e){return console.error("Error loading feature flags",e),{...T1}}},bS=e=>!!Qu()[e],B5=(e,t)=>{const r=Qu(),n=wS(r);return n[e]=t,Pe.saveSettings({ui:{flags:n}}),n},W5=({context:e="page",onClose:t}={})=>{const r=jd(),[n,s]=u.useState(!1),a=u.useMemo(()=>bS("navSafeExit"),[]);u.useEffect(()=>{typeof window<"u"&&s("ontouchstart"in window)},[]);const o=u.useCallback(()=>{if(a){if(typeof window<"u"&&window.history.length>1){r(-1);return}r("/",{replace:!0})}},[a,r]),l=u.useCallback(()=>{if(t){t();return}o()},[o,t]);return{navEnabled:a,isTouchDevice:n,goBack:o,handleClose:l,isModal:e==="modal"}},H5=e=>e!=null&&e.ingredients?e.ingredients.map(t=>({name:t.name,quantity:t.quantity,unit:t.unit,needsScale:!!t.needs_scale})):[],q5=({context:e="page",onClose:t}={})=>{const r=jd(),{navEnabled:n,isModal:s}=W5({context:e,onClose:t}),a=Ga(),[o,l]=u.useState(null),[c,d]=u.useState(0),[f,m]=u.useState(!1),[p,h]=u.useState(!1),[b,g]=u.useState(!1),[w,y]=u.useState(""),[v,x]=u.useState({}),[N,S]=u.useState(null),[C,j]=u.useState(!1),A=u.useRef(null),[M,T]=u.useState(!1),{toast:F}=Cn(),R=u.useMemo(()=>H5(o),[o]),V=o==null?void 0:o.steps[c],L=v[c]??"",le=u.useCallback(()=>{if(A.current){try{A.current.stop()}catch($){console.warn("Speech recognition stop failed",$)}A.current=null}j(!1)},[]),re=u.useCallback(()=>{if(le(),!(typeof window>"u")){try{typeof window.speechSynthesis<"u"&&window.speechSynthesis.cancel()}catch($){console.warn("Failed to cancel speech synthesis",$)}try{Array.from(window.document.querySelectorAll("audio")).forEach(W=>{try{W.pause(),W.currentTime=0}catch(oe){console.warn("Failed to stop audio element",oe)}})}catch($){console.warn("Failed to reset audio elements",$)}}},[le]);u.useEffect(()=>()=>re(),[re]);const X=()=>{if(typeof window>"u")return null;const $=window,W=$.SpeechRecognition||$.webkitSpeechRecognition;if(!W)return null;const oe=new W;return oe.lang="es-ES",oe.interimResults=!1,oe.maxAlternatives=1,oe},P=()=>{if(C){le();return}const $=X();if(!$){F({title:"Micrófono no disponible",description:"Este navegador no soporta reconocimiento de voz",variant:"destructive"});return}A.current=$,$.onresult=W=>{const oe=Array.from(W.results).map(D=>D[0].transcript).join(" ").trim();oe&&(f?x(D=>({...D,[c]:oe})):y(oe))},$.onerror=W=>{console.error("Speech recognition error",W),F({title:"Error de micrófono",description:"Intenta nuevamente"}),j(!1)},$.onend=()=>{j(!1)};try{$.start(),j(!0)}catch(W){console.error("Speech recognition start failed",W),F({title:"No se pudo iniciar el micrófono"})}},E=u.useCallback(()=>{l(null),m(!1),T(!1),d(0),S(null),x({}),y(""),re()},[re]),K=async()=>{const $=w.trim();if(!$){F({title:"Describe la receta",description:"Indica qué quieres preparar o usa el micrófono",variant:"destructive"});return}h(!0);try{const W=await Ke.getRecipe($);l(W),m(!0),T(!1),d(0),S(null),x({})}catch(W){console.error("Failed to generate recipe",W),W instanceof Et?F({title:"No se pudo generar la receta",description:W.message,variant:"destructive"}):F({title:"Error inesperado",description:"Intenta de nuevo"})}finally{h(!1)}},O=()=>{!o||c===0||(d($=>Math.max($-1,0)),S(null),T(!1))},de=async()=>{if(!(!o||!V||M)){g(!0);try{const $=L.trim(),W=await Ke.nextRecipeStep(o.id,c,$||void 0);if(S(W.assistantMessage??null),W.isLast){T(!0),F({title:"Receta completada",description:"¡Buen provecho!"});return}c<o.steps.length-1&&d(oe=>oe+1)}catch($){console.error("Failed to advance recipe",$),$ instanceof Et?F({title:"No se pudo avanzar",description:$.message,variant:"destructive"}):F({title:"Error",description:"No se pudo avanzar al siguiente paso"})}finally{g(!1)}}},G=()=>{E()},Se=u.useCallback(()=>{if(typeof window<"u"&&window.history.length>1){r(-1);return}r("/",{replace:!0})},[r]),Ce=u.useCallback(()=>{if(E(),t){t();return}Se()},[Se,t,E]),qe=o?Math.min((c+1)/o.steps.length*100,100):0,ae=n?i.jsxs("div",{className:"flex items-center gap-2 p-4",children:[i.jsxs(z,{variant:"outline",onClick:Ce,className:"gap-2",children:[i.jsx(Nl,{className:"h-4 w-4"}),"Atrás"]}),s&&i.jsxs(z,{variant:"ghost",onClick:Ce,className:"gap-2",children:[i.jsx(xn,{className:"h-4 w-4"}),"Cerrar"]})]}):null;let ye;return f?!o||!V?ye=null:ye=i.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr_1fr]",children:[i.jsxs(Qe,{className:"border-primary/30 p-6",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:o.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Raciones sugeridas: ",o.servings]})]}),i.jsxs(z,{variant:"outline",onClick:G,children:[i.jsx(xn,{className:"mr-2 h-4 w-4"})," Cancelar"]})]}),R.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-muted-foreground",children:[i.jsx(pE,{className:"h-4 w-4"})," Ingredientes preparados"]}),i.jsx("ul",{className:"space-y-1 text-sm",children:R.map(($,W)=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:$.name}),i.jsxs("span",{className:"text-muted-foreground",children:[$.quantity!==null?`${Jr($.quantity,a)}${$.unit}`:$.unit,$.needsScale&&" · Usa la báscula"]})]},`${$.name}-${W}`))})]}),i.jsxs("div",{className:"mb-3 flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Paso ",c+1," de ",o.steps.length]}),i.jsxs("span",{children:[qe.toFixed(0),"%"]})]}),i.jsx("div",{className:"mb-6 h-2 w-full overflow-hidden rounded-full bg-muted",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${qe}%`}})}),i.jsxs(Qe,{className:"border-primary/40 bg-primary/5 p-6",children:[i.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[i.jsx(xf,{className:"h-6 w-6 text-primary"}),i.jsxs("h3",{className:"text-xl font-bold",children:["Paso ",V.index]})]}),i.jsx("p",{className:"text-2xl leading-relaxed",children:V.instruction}),V.needsScale&&V.expectedWeight&&i.jsxs("div",{className:"mt-4 rounded-lg bg-primary/10 p-4 text-center text-primary",children:[i.jsx("p",{className:"text-sm",children:"Peso objetivo"}),i.jsxs("p",{className:"text-4xl font-bold",children:[Jr(V.expectedWeight,a)," g"]})]})]})]}),i.jsxs(Qe,{className:"border-primary/20 p-6",children:[i.jsx("h3",{className:"mb-3 text-xl font-bold",children:"Tu respuesta"}),i.jsx(dp,{value:L,onChange:$=>x(W=>({...W,[c]:$.target.value})),placeholder:"Escribe observaciones, pesos medidos o dudas para el asistente",className:"min-h-32"}),i.jsxs("div",{className:"mt-3 flex gap-3",children:[i.jsx(z,{onClick:P,variant:C?"destructive":"outline",className:"flex-1",children:C?i.jsxs(i.Fragment,{children:[i.jsx(Yc,{className:"mr-2 h-4 w-4"})," Detener voz"]}):i.jsxs(i.Fragment,{children:[i.jsx(Xc,{className:"mr-2 h-4 w-4"})," Dictar"]})}),i.jsx(z,{onClick:()=>x($=>({...$,[c]:""})),variant:"outline",children:"Limpiar"})]}),N&&i.jsxs("div",{className:"mt-4 rounded-lg border border-primary/30 bg-primary/10 p-4 text-sm",children:[i.jsx("p",{className:"font-semibold",children:"Asistente:"}),i.jsx("p",{children:N})]})]})]}),i.jsxs("div",{className:"mt-auto grid grid-cols-4 gap-3",children:[i.jsxs(z,{onClick:G,variant:"outline",size:"xl",className:"h-16 text-xl",children:[i.jsx(xn,{className:"mr-2 h-5 w-5"})," Cancelar"]}),i.jsxs(z,{onClick:O,disabled:c===0,variant:"secondary",size:"xl",className:"h-16 text-xl",children:[i.jsx(Nl,{className:"mr-2 h-5 w-5"})," Anterior"]}),i.jsx(z,{onClick:P,variant:C?"destructive":"outline",size:"xl",className:"h-16 text-xl",children:C?i.jsx(Yc,{className:"h-5 w-5"}):i.jsx(Xc,{className:"h-5 w-5"})}),i.jsx(z,{onClick:de,disabled:b||M,variant:"glow",size:"xl",className:"h-16 text-xl",children:M?"Completado":i.jsxs(i.Fragment,{children:["Siguiente",i.jsx(iE,{className:"ml-2 h-5 w-5"})]})})]})]}):ye=i.jsx("div",{className:"flex flex-1 items-center justify-center p-8",children:i.jsxs(Qe,{className:"w-full max-w-2xl p-8",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(xf,{className:"h-16 w-16 text-primary"})})}),i.jsx("h2",{className:"mb-4 text-4xl font-bold",children:"Asistente de Recetas"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Describe qué quieres cocinar y te guiaremos paso a paso."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(dp,{placeholder:'Ejemplo: "Quiero preparar pasta con salsa de tomate"',value:w,onChange:$=>y($.target.value),className:"min-h-32 text-lg"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(z,{onClick:P,variant:C?"destructive":"secondary",size:"xl",className:"h-20 text-xl",children:C?i.jsxs(i.Fragment,{children:[i.jsx(Yc,{className:"mr-2 h-6 w-6"})," Detener voz"]}):i.jsxs(i.Fragment,{children:[i.jsx(Xc,{className:"mr-2 h-6 w-6"})," Hablar"]})}),i.jsx(z,{onClick:K,disabled:p,variant:"glow",size:"xl",className:"h-20 text-xl",children:p?"Generando...":i.jsxs(i.Fragment,{children:[i.jsx(xf,{className:"mr-2 h-6 w-6"})," Comenzar"]})})]})]})]})}),i.jsxs("div",{className:"relative flex h-full flex-col",children:[ae,i.jsx("div",{className:"absolute right-4 top-4 z-50 flex items-center",children:i.jsxs(z,{variant:"secondary",size:"lg",onClick:Ce,className:"shadow-md",children:[i.jsx(xn,{className:"mr-2 h-4 w-4"})," Salir"]})}),ye]})};var Rd="Switch",[K5,vM]=rn(Rd),[G5,Q5]=K5(Rd),NS=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:f,...m}=e,[p,h]=u.useState(null),b=mt(t,x=>h(x)),g=u.useRef(!1),w=p?f||!!p.closest("form"):!0,[y,v]=Ha({prop:s,defaultProp:a??!1,onChange:d,caller:Rd});return i.jsxs(G5,{scope:r,checked:y,disabled:l,children:[i.jsx(Ze.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":CS(y),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:b,onClick:He(e.onClick,x=>{v(N=>!N),w&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),w&&i.jsx(jS,{control:p,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});NS.displayName=Rd;var SS="SwitchThumb",kS=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Q5(SS,r);return i.jsx(Ze.span,{"data-state":CS(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});kS.displayName=SS;var Z5="SwitchBubbleInput",jS=u.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=u.useRef(null),l=mt(o,a),c=Uh(r),d=xd(t);return u.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"checked").set;if(c!==r&&h){const b=new Event("click",{bubbles:n});h.call(f,r),f.dispatchEvent(b)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jS.displayName=Z5;function CS(e){return e?"checked":"unchecked"}var ES=NS,Y5=kS;const In=u.forwardRef(({className:e,...t},r)=>i.jsx(ES,{className:Ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(Y5,{className:Ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));In.displayName=ES.displayName;var _S="AlertDialog",[X5,yM]=rn(_S,[B1]),ws=B1(),TS=e=>{const{__scopeAlertDialog:t,...r}=e,n=ws(t);return i.jsx(aN,{...n,...r,modal:!0})};TS.displayName=_S;var J5="AlertDialogTrigger",eO=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ws(r);return i.jsx(A4,{...s,...n,ref:t})});eO.displayName=J5;var tO="AlertDialogPortal",PS=e=>{const{__scopeAlertDialog:t,...r}=e,n=ws(t);return i.jsx(iN,{...n,...r})};PS.displayName=tO;var rO="AlertDialogOverlay",AS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ws(r);return i.jsx(Oh,{...s,...n,ref:t})});AS.displayName=rO;var Ri="AlertDialogContent",[nO,sO]=X5(Ri),aO=Uw("AlertDialogContent"),RS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=ws(r),o=u.useRef(null),l=mt(t,o),c=u.useRef(null);return i.jsx(E4,{contentName:Ri,titleName:IS,docsSlug:"alert-dialog",children:i.jsx(nO,{scope:r,cancelRef:c,children:i.jsxs(Mh,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:He(s.onOpenAutoFocus,d=>{var f;d.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[i.jsx(aO,{children:n}),i.jsx(oO,{contentRef:o})]})})})});RS.displayName=Ri;var IS="AlertDialogTitle",OS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ws(r);return i.jsx(Dh,{...s,...n,ref:t})});OS.displayName=IS;var MS="AlertDialogDescription",DS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ws(r);return i.jsx(Fh,{...s,...n,ref:t})});DS.displayName=MS;var iO="AlertDialogAction",FS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=ws(r);return i.jsx(Lh,{...s,...n,ref:t})});FS.displayName=iO;var LS="AlertDialogCancel",zS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=sO(LS,r),a=ws(r),o=mt(t,s);return i.jsx(Lh,{...a,...n,ref:o})});zS.displayName=LS;var oO=({contentRef:e})=>{const t=`\`${Ri}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ri}\` by passing a \`${MS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ri}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},lO=TS,cO=PS,VS=AS,$S=RS,US=FS,BS=zS,WS=OS,HS=DS;const uO=lO,dO=cO,qS=u.forwardRef(({className:e,...t},r)=>i.jsx(VS,{className:Ne("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));qS.displayName=VS.displayName;const KS=u.forwardRef(({className:e,...t},r)=>i.jsxs(dO,{children:[i.jsx(qS,{}),i.jsx($S,{ref:r,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));KS.displayName=$S.displayName;const GS=({className:e,...t})=>i.jsx("div",{className:Ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});GS.displayName="AlertDialogHeader";const QS=({className:e,...t})=>i.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});QS.displayName="AlertDialogFooter";const ZS=u.forwardRef(({className:e,...t},r)=>i.jsx(WS,{ref:r,className:Ne("text-lg font-semibold",e),...t}));ZS.displayName=WS.displayName;const YS=u.forwardRef(({className:e,...t},r)=>i.jsx(HS,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));YS.displayName=HS.displayName;const XS=u.forwardRef(({className:e,...t},r)=>i.jsx(US,{ref:r,className:Ne(_h(),e),...t}));XS.displayName=US.displayName;const JS=u.forwardRef(({className:e,...t},r)=>i.jsx(BS,{ref:r,className:Ne(_h({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));JS.displayName=BS.displayName;const fO=({onKeyPress:e,onBackspace:t,onClear:r,showDecimal:n=!1,className:s})=>{const a=[["1","2","3"],["4","5","6"],["7","8","9"],[n?".":"","0","⌫"]];return i.jsxs("div",{className:Ne("grid gap-3",s),children:[a.map((o,l)=>i.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.map((c,d)=>c?c==="⌫"?i.jsx(z,{variant:"outline",size:"xxl",onClick:t,className:"active:scale-95",children:i.jsx(fh,{className:"h-7 w-7"})},d):i.jsx(z,{variant:"outline",size:"xxl",onClick:()=>e(c),className:"font-bold active:scale-95",children:c},d):i.jsx("div",{},d))},l)),r&&i.jsx(z,{variant:"destructive",size:"xxl",onClick:r,className:"active:scale-95",children:"Borrar Todo"})]})},mO=({onKeyPress:e,onBackspace:t,onClear:r,className:n})=>{const[s,a]=u.useState(!1),[o,l]=u.useState(!1),f=o?[["1","2","3","4","5","6","7","8","9","0"],["@","#","$","_","&","-","+","(",")","/"],["*",'"',"'",":",";","!","?",".",","]]:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]];return i.jsxs("div",{className:Ne("space-y-3",n),children:[f.map((m,p)=>i.jsxs("div",{className:"flex gap-2 justify-center",children:[p===2&&i.jsx(z,{variant:"outline",size:"xl",onClick:()=>a(!s),className:Ne("px-4 font-bold active:scale-95",s&&"bg-primary/20"),children:s?"Aa":"aa"}),m.map((h,b)=>i.jsx(z,{variant:"outline",size:"xl",onClick:()=>e(s?h.toUpperCase():h),className:"min-w-[3rem] px-3 text-xl font-medium active:scale-95",children:s?h.toUpperCase():h},b)),p===2&&i.jsx(z,{variant:"outline",size:"xl",onClick:t,className:"px-4 active:scale-95",children:i.jsx(fh,{className:"h-6 w-6"})})]},p)),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsx(z,{variant:"outline",size:"xl",onClick:()=>l(!o),className:"px-5 active:scale-95",children:o?"ABC":"123"}),i.jsx(z,{variant:"outline",size:"xl",onClick:()=>e(" "),className:"flex-1 active:scale-95",children:"Espacio"}),i.jsx(z,{variant:"outline",size:"xl",onClick:()=>e("."),className:"px-5 active:scale-95",children:"."}),r&&i.jsx(z,{variant:"destructive",size:"xl",onClick:r,className:"px-5 active:scale-95",children:"Borrar"})]})]})},pO=(e,t={})=>{const r=e.trim();if(r==="")return t.allowEmpty?{isValid:!0}:{isValid:!1,error:t.emptyError??"URL requerida"};try{const n=new URL(r);return["http:","https:","ws:","wss:"].includes(n.protocol)?r.length>500?{isValid:!1,error:"URL demasiado larga (máx 500 caracteres)"}:{isValid:!0}:{isValid:!1,error:"URL debe usar http, https, ws o wss"}}catch{return{isValid:!1,error:"URL inválida"}}},hO=(e,t,r,n=!0)=>{if(!e||e.trim()==="")return{isValid:!1,error:"Valor requerido"};const s=parseFloat(e);return isNaN(s)?{isValid:!1,error:"Debe ser un número válido"}:!n&&!Number.isInteger(s)?{isValid:!1,error:"Debe ser un número entero"}:t!==void 0&&s<t?{isValid:!1,error:`Valor mínimo: ${t}`}:r!==void 0&&s>r?{isValid:!1,error:`Valor máximo: ${r}`}:{isValid:!0}},gO=(e,t,r)=>{const n=e.trim();return r!==void 0&&n.length>r?{isValid:!1,error:`Máximo ${r} caracteres`}:/<script|javascript:|onerror=|onclick=/i.test(n)?{isValid:!1,error:"Contiene caracteres no permitidos"}:{isValid:!0}},vO=(e,t={})=>{const r=e.trim();return r===""?t.allowEmpty?{isValid:!0}:{isValid:!1,error:t.emptyError??"API key requerida"}:r.length<10?{isValid:!1,error:"API key demasiado corta"}:r.length>500?{isValid:!1,error:"API key demasiado larga"}:/^[a-zA-Z0-9_-]+$/.test(r)?{isValid:!0}:{isValid:!1,error:"API key contiene caracteres inválidos"}},yO=({open:e,onClose:t,value:r,onChange:n,onConfirm:s,title:a,type:o="text",showDecimal:l=!1,min:c,max:d,maxLength:f=500,allowEmpty:m=!1})=>{const[p,h]=u.useState(null),b=o==="numeric",g=N=>{switch(o){case"numeric":return hO(N,c,d,l);case"url":return pO(N,{allowEmpty:m});case"apikey":return vO(N,{allowEmpty:m});case"text":case"password":return gO(N,void 0,f);default:return{isValid:!0}}},w=N=>{const S=r+N;if(!b&&S.length>f){h(`Máximo ${f} caracteres`),navigator.vibrate&&navigator.vibrate(50);return}n(S),h(null)},y=()=>{n(r.slice(0,-1)),h(null)},v=()=>{n(""),h(null)},x=()=>{const N=g(r);if(!N.isValid){h(N.error||"Valor inválido"),navigator.vibrate&&navigator.vibrate([50,100,50]);return}navigator.vibrate&&navigator.vibrate(30),s(),t()};return i.jsx(na,{open:e,onOpenChange:t,children:i.jsxs(os,{className:"max-w-4xl",children:[i.jsx(ls,{children:i.jsx(cs,{className:"text-3xl",children:a})}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(et,{type:o==="password"?"password":"text",value:r,readOnly:!0,className:`text-2xl h-16 border-2 ${p?"border-destructive":""}`}),p&&i.jsxs("div",{className:"flex items-center gap-2 text-destructive text-sm animate-fade-in",children:[i.jsx(ta,{className:"h-4 w-4"}),i.jsx("span",{children:p})]})]}),b?i.jsx(fO,{onKeyPress:w,onBackspace:y,onClear:v,showDecimal:l}):i.jsx(mO,{onKeyPress:w,onBackspace:y,onClear:v}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(z,{variant:"outline",size:"xxl",onClick:t,className:"active:scale-95",children:"Cancelar"}),i.jsx(z,{variant:"glow",size:"xxl",onClick:x,className:"active:scale-95",children:"Confirmar"})]})]})]})})},xO=({open:e,onClose:t,currentWeight:r})=>{const[n,s]=u.useState(1),[a,o]=u.useState("100"),[l,c]=u.useState(!1),{toast:d}=Cn(),f=Ga(),m=()=>{s(1),o("100"),c(!1)},h=(n-1)/(2-1)*100,b=parseFloat(a),g=Number.isFinite(b)&&b>0,w=Math.abs(r)>.05,y=async()=>{if(!g){d({title:"Peso inválido",description:"Introduce un peso de referencia mayor a 0 g.",variant:"destructive"});return}c(!0);try{const v=await Ke.applyCalibration(b);v.ok?(typeof v.calibration_factor=="number"&&Number.isFinite(v.calibration_factor)&&Pe.saveSettings({calibrationFactor:v.calibration_factor}),d({title:"Calibración aplicada",description:v.message??`Referencia registrada: ${Jr(b,f)} g`}),navigator.vibrate&&navigator.vibrate([40,60,40]),m(),t()):d({title:"Error",description:v.message??"No se pudo aplicar la calibración",variant:"destructive"})}catch{d({title:"Error",description:"No se pudo aplicar la calibración",variant:"destructive"})}finally{c(!1)}};return i.jsx(na,{open:e,onOpenChange:v=>{v||(m(),t())},children:i.jsxs(os,{className:"max-w-2xl",children:[i.jsx(ls,{children:i.jsxs(cs,{className:"flex items-center gap-2 text-2xl",children:[i.jsx(hs,{className:"h-6 w-6"}),"Asistente de Calibración"]})}),i.jsx(Yi,{value:Number.isFinite(h)?h:0,className:"mb-4"}),n===1?i.jsx(Qe,{className:"p-6",children:i.jsxs("div",{className:"space-y-6 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(Nb,{className:"h-16 w-16 text-primary"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-2xl font-bold",children:"Paso 1: Coloca el peso de referencia"}),i.jsx("p",{className:"text-muted-foreground",children:"Asegúrate de que la báscula marque el peso estable antes de continuar."}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usa el botón ",i.jsx("span",{className:"font-semibold text-foreground",children:"Cero"})," si necesitas ajustar la tara antes de colocar el peso."]})]}),i.jsxs("div",{className:Ne("text-6xl font-bold",w?"text-primary":"text-muted-foreground"),style:{fontFeatureSettings:'"tnum"'},children:[Jr(r,f)," g"]}),!w&&i.jsx("p",{className:"text-sm text-warning",children:"Espera a que la báscula detecte el peso de referencia."}),i.jsx(z,{onClick:()=>s(2),size:"xxl",variant:"glow",className:"w-full",children:"Continuar"})]})}):i.jsx(Qe,{className:"p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-secondary/20 p-6",children:i.jsx(hs,{className:"h-16 w-16 text-secondary"})})}),i.jsx("h3",{className:"text-2xl font-bold",children:"Paso 2: Introduce el peso exacto"}),i.jsx("p",{className:"text-muted-foreground",children:"Escribe el valor en gramos de tu peso de referencia para aplicar la calibración."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ze,{className:"text-lg",children:"Peso de referencia (g)"}),i.jsx(et,{type:"number",value:a,onChange:v=>o(v.target.value),className:"h-16 text-center text-2xl",placeholder:"100",min:"0"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Ejemplo: pesa calibrada de 100 g o cualquier referencia certificada."})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Lectura actual"}),i.jsxs("div",{className:"text-5xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:[Jr(r,f)," g"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(z,{onClick:()=>s(1),size:"lg",variant:"outline",disabled:l,children:"Atrás"}),i.jsx(z,{onClick:y,size:"lg",variant:"glow",className:"flex items-center justify-center",disabled:l||!g,children:l?"Aplicando...":"Aplicar"})]})]})})]})})},wO=({open:e,onClose:t,currentWeight:r})=>{const[n,s]=u.useState(1),[a,o]=u.useState("100"),[l,c]=u.useState(0),[d,f]=u.useState(0),{toast:m}=Cn(),p=Ga(),h=()=>{s(1),o("100"),c(0),f(0)},b=async()=>{try{await Ke.scaleZero(),navigator.vibrate&&navigator.vibrate([30,50,30]),s(2)}catch{m({title:"Error",description:"No se pudo realizar el zero",variant:"destructive"})}},g=()=>{c(r);const v=parseFloat(a);if(v>0&&r>0){const x=r/v;f(x),s(3)}else m({title:"Error",description:"Coloca el peso conocido en la báscula",variant:"destructive"})},w=async()=>{try{await Ke.setCalibrationFactor(d),Pe.saveSettings({calibrationFactor:d}),m({title:"¡Calibración completada!",description:`Factor de calibración: ${d.toFixed(4)}`}),navigator.vibrate&&navigator.vibrate([50,100,50,100,50]),h(),t()}catch{m({title:"Error",description:"No se pudo guardar la calibración",variant:"destructive"})}},y=n/3*100;return i.jsx(na,{open:e,onOpenChange:v=>{v||(h(),t())},children:i.jsxs(os,{className:"max-w-2xl",children:[i.jsx(ls,{children:i.jsxs(cs,{className:"text-2xl flex items-center gap-2",children:[i.jsx(hs,{className:"h-6 w-6"}),"Asistente de Calibración"]})}),i.jsx(Yi,{value:y,className:"mb-4"}),n===1&&i.jsx(Qe,{className:"p-6",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(hs,{className:"h-16 w-16 text-primary"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Paso 1: Zero"}),i.jsx("p",{className:"text-muted-foreground",children:'Retira todos los objetos de la báscula y presiona "Hacer Zero"'})]}),i.jsxs("div",{className:Ne("text-6xl font-bold",r===0?"text-success":"text-warning"),style:{fontFeatureSettings:'"tnum"'},children:[Jr(r,p)," g"]}),i.jsx(z,{onClick:b,size:"xxl",variant:"glow",disabled:r>5,className:"w-full",children:"Hacer Zero"}),r>5&&i.jsx("p",{className:"text-sm text-warning",children:"⚠️ Retira todos los objetos primero"})]})}),n===2&&i.jsx(Qe,{className:"p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"rounded-full bg-secondary/20 p-6",children:i.jsx(Nb,{className:"h-16 w-16 text-secondary"})})}),i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Paso 2: Peso Conocido"}),i.jsx("p",{className:"text-muted-foreground",children:"Coloca un peso conocido en la báscula"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(ze,{className:"text-lg",children:"Peso conocido (gramos)"}),i.jsx(et,{type:"number",value:a,onChange:v=>o(v.target.value),className:"text-2xl h-16 text-center",placeholder:"100"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Usa una moneda de 2€ (8.5g) o una pesa de cocina"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Lectura actual:"}),i.jsxs("div",{className:"text-5xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:[Jr(r,p)," g"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(z,{onClick:()=>s(1),size:"lg",variant:"outline",children:"Atrás"}),i.jsx(z,{onClick:g,size:"lg",variant:"glow",disabled:parseFloat(a)<=0||r<=0,children:"Medir"})]})]})}),n===3&&i.jsx(Qe,{className:"p-6",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-success/20 p-6",children:i.jsx(Sl,{className:"h-16 w-16 text-success"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"¡Calibración Lista!"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifica los resultados antes de guardar"})]}),i.jsxs("div",{className:"space-y-4 bg-muted p-4 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Peso conocido:"}),i.jsxs("p",{className:"text-2xl font-bold",children:[a," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor medido:"}),i.jsxs("p",{className:"text-2xl font-bold",style:{fontFeatureSettings:'"tnum"'},children:[Jr(l,p)," g"]})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Factor de calibración:"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:d.toFixed(4)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(z,{onClick:()=>s(2),size:"lg",variant:"outline",children:"Repetir"}),i.jsxs(z,{onClick:w,size:"lg",variant:"success",children:[i.jsx(Sl,{className:"mr-2"}),"Guardar"]})]})]})})]})})},bO=({open:e,onClose:t,currentWeight:r=0,isCalibrationV2:n=!1})=>n?i.jsx(xO,{open:e,onClose:t,currentWeight:r}):i.jsx(wO,{open:e,onClose:t,currentWeight:r}),NO=(()=>{var e;if(typeof window<"u"&&((e=window.location)!=null&&e.origin)){const t=window.location;return`${t.protocol==="https:"?"wss":"ws"}://${t.host}`}return"ws://127.0.0.1:8080"})(),cx=3e3,SO=3e4,kO=()=>{const e=u.useRef(null),t=u.useRef(null),r=u.useRef(null),n=u.useRef(!0),s=u.useCallback(()=>{t.current&&(window.clearTimeout(t.current),t.current=null),r.current&&(window.clearInterval(r.current),r.current=null),e.current&&(e.current.close(),e.current=null)},[]),a=u.useCallback(c=>{fe.debug("[SettingsSync] Settings changed",{fields:c.fields,version:c.version}),fetch("/api/settings",{cache:"no-store"}).then(d=>d.json()).then(d=>{var h;const f={};(c.fields.includes("network")||c.fields.includes("openai"))&&((h=d.network)!=null&&h.openai_api_key)&&(f.chatGptKey=d.network.openai_api_key==="__stored__"?"":d.network.openai_api_key),(c.fields.includes("diabetes")||c.fields.includes("nightscout"))&&d.diabetes&&(typeof d.diabetes.nightscout_url=="string"&&d.diabetes.nightscout_url!=="__stored__"&&(f.nightscoutUrl=d.diabetes.nightscout_url),d.diabetes.nightscout_token==="__stored__"||d.diabetes.nightscout_token&&(f.nightscoutToken=d.diabetes.nightscout_token)),c.fields.includes("ui")&&d.ui&&d.ui.flags&&(f.ui={flags:d.ui.flags}),Object.keys(f).length>0&&(Pe.saveSettings(f),window.dispatchEvent(new CustomEvent("settings-synced",{detail:{fields:c.fields,updates:f}})))}).catch(d=>{const f=d instanceof Error?d.message:"Unknown error";fe.error("[SettingsSync] Failed to reload settings",{error:f})})},[]),o=u.useCallback(c=>{try{const d=JSON.parse(c.data);d.type==="settings.initial"?fe.debug("[SettingsSync] Received initial settings"):d.type==="settings.changed"&&a(d)}catch(d){const f=d instanceof Error?d.message:"Unknown error";fe.debug("[SettingsSync] Failed to parse message",{error:f})}},[a]),l=u.useCallback(()=>{if(n.current){s();try{const c=new WebSocket(`${NO}/ws/updates`);e.current=c,c.onopen=()=>{fe.debug("[SettingsSync] Connected"),r.current=window.setInterval(()=>{c.readyState===WebSocket.OPEN&&c.send("ping")},SO)},c.onmessage=o,c.onerror=()=>{fe.debug("[SettingsSync] WebSocket error")},c.onclose=()=>{fe.debug("[SettingsSync] Disconnected"),r.current&&(window.clearInterval(r.current),r.current=null),n.current&&(t.current=window.setTimeout(()=>{l()},cx))}}catch(c){const d=c instanceof Error?c.message:"Unknown error";fe.error("[SettingsSync] Failed to create WebSocket",{error:d}),n.current&&(t.current=window.setTimeout(()=>{l()},cx))}}},[s,o]);u.useEffect(()=>(n.current=!0,l(),()=>{n.current=!1,s()}),[l,s])},ek=400,jO="0.0.1".trim()?"0.0.1".trim():"0.0.0",ux=(e,t=ek)=>{if(!e)return"";const r=e.replace(/\r\n/g,`
`),n=r.split(`
`);return n.length<=t?r.trimEnd():n.slice(-t).join(`
`).trimEnd()},CO=()=>{const{toast:e}=Cn(),{weight:t}=Wl();kO();const r=Ph(),[n,s]=u.useState(!1),[a,o]=u.useState(()=>Qu()),[l,c]=u.useState(!0),[d,f]=u.useState(void 0),m=u.useRef(void 0),[p,h]=u.useState(!1),[b,g]=u.useState(null),[w,y]=u.useState(!1),v=u.useRef(!1),[x,N]=u.useState([]),[S,C]=u.useState(!1),[j,A]=u.useState(null),[M,T]=u.useState(!1),[F,R]=u.useState(!1),[V,L]=u.useState(!1),[le,re]=u.useState(!1),[X,P]=u.useState(!0),[E,K]=u.useState(!1),[O,de]=u.useState(1),[G,Se]=u.useState(!1),[Ce,qe]=u.useState({title:"",type:"text",field:""}),[ae,ye]=u.useState("420.5"),[$,W]=u.useState("1"),[oe,D]=u.useState("http://127.0.0.1:8080"),[H,te]=u.useState("ws://127.0.0.1:8080"),[Q,me]=u.useState(""),[Mt,Je]=u.useState(""),[ut,k]=u.useState(""),[I,U]=u.useState(!1),[xe,ge]=u.useState(!1),[q,he]=u.useState("30"),[Ve,Ye]=u.useState("10"),[bt,Bt]=u.useState("100"),[Pt,Wr]=u.useState("70"),[vt,ft]=u.useState("180"),[Yt,Kt]=u.useState(null),[Xt,nr]=u.useState({status:"loading"}),[Wt,Hr]=u.useState(!1),[Nt,mr]=u.useState(""),[sr,ee]=u.useState(!1),[Z,we]=u.useState(!1),[Me,je]=u.useState(!1),[$e,Jt]=u.useState(!1),[pr,ar]=u.useState(!1),[Nr,fo]=u.useState(!1),[mo,po]=u.useState(null),[Kl,B]=u.useState(!1),[ce,Re]=u.useState(null),[De,Fe]=u.useState(!1),[ne,Lt]=u.useState(null),[pt,kt]=u.useState(""),[Sr,Ir]=u.useState(!1),[ho,go]=u.useState(!1),[tg,Id]=u.useState(!1),[Gl,rg]=u.useState(""),[vo,ng]=u.useState("—"),[Ql,sg]=u.useState("—"),[ir,lk]=u.useState(r),[Od,Zl]=u.useState(!1),[ck,Yl]=u.useState(!1),[Md,Xl]=u.useState(""),[Dd,Jl]=u.useState(""),[Gn,sn]=u.useState(null),[ag,yo]=u.useState(!1),[ec,tc]=u.useState(null),[uk,rc]=u.useState("idle"),[xo,dk]=u.useState(""),[kr,bs]=u.useState(r),[ig,og]=u.useState(!1),[lg,Or]=u.useState(null),cg=Ql&&Ql!=="—"?Ql:Yt,fk=cg?`http://${cg}/config`:"http://<IP_de_la_báscula>/config",an=!r&&!kr,Fd=ir&&r,Qa=ir&&r,Ns=u.useRef(null),nc=u.useRef(null),sc=u.useRef(null),Ld=u.useRef(null),ug=u.useRef(null),Za=u.useCallback(_=>{try{return new URL(_,oe).toString()}catch(J){return console.error("Invalid API URL",J),_}},[oe]),wo=u.useCallback(_=>{if(r)return{allowed:!0};const J=xo.trim();if(!J){const ie=`Ingresa el PIN mostrado en la báscula para ${_}.`;return Or(ie),e({title:"PIN requerido",description:ie,variant:"destructive"}),{allowed:!1}}if(!kr){const ie=`Verifica el PIN antes de ${_}.`;return Or(ie),e({title:"PIN no verificado",description:ie,variant:"destructive"}),{allowed:!1}}return{allowed:!0,pin:J}},[r,kr,xo,e]),zd=_=>{if(!_)return"—";const J=_.trim();return!J||J.toLowerCase()==="unknown"?"—":J.startsWith("v")?J:`v${J}`},bo=u.useCallback(async({silent:_=!1}={})=>{const J=a.debugLogs,ie=(...ve)=>{J&&console.debug("[SettingsView][MINI-EB]",...ve)};_||nr({status:"loading"});const be=async()=>{if(!a.miniEbStable){const Le=await fetch("/api/miniweb/status",{cache:"no-store"});if(!Le.ok)throw new Error(`HTTP ${Le.status}`);return await Le.json()}const ve=[0,1e3,2e3,4e3];let Ie;for(let Le=0;Le<ve.length;Le++){const ct=ve[Le];ct>0&&(ie(`Esperando ${ct}ms antes del intento ${Le+1}`),await new Promise(nt=>{window.setTimeout(nt,ct)}));try{ie(`Intento MINI-EB ${Le+1}`);const nt=new AbortController,Ss=window.setTimeout(()=>nt.abort(),5e3);try{const Zn=await fetch("/api/miniweb/status",{cache:"no-store",signal:nt.signal});if(Zn.ok){const jt=await Zn.json();return ie("Respuesta MINI-EB OK",jt),jt}const va=await Zn.text().catch(()=>"");Ie=new Error(`HTTP ${Zn.status}: ${va}`),ie("Respuesta MINI-EB no OK",Zn.status,va)}finally{window.clearTimeout(Ss)}}catch(nt){Ie=nt,nt instanceof DOMException&&nt.name==="AbortError"?ie("Intento MINI-EB expirado (timeout)"):ie("Error al consultar MINI-EB",nt)}}throw Ie??new Error("No se pudo obtener el estado MINI-EB")};try{ie("Consultando estado MINI-EB",{silent:_});const ve=await be(),Ie=typeof(ve==null?void 0:ve.connectivity)=="string"?ve.connectivity.toLowerCase():void 0,Le=!!(ve!=null&&ve.ap_active);Hr(Le||(Ie?Ie!=="full":!1));const ct=typeof(ve==null?void 0:ve.ip)=="string"&&ve.ip.trim().length>0?ve.ip.trim():typeof(ve==null?void 0:ve.ip_address)=="string"&&ve.ip_address.trim().length>0?ve.ip_address.trim():null,nt=typeof(ve==null?void 0:ve.ssid)=="string"&&ve.ssid.trim().length>0?ve.ssid.trim():"—";if(!ct)throw new Error("Respuesta MINI-EB sin IP");Kt(ct),ng(nt),sg(ct),nr({status:"ready",ip:ct,ssid:nt}),v.current=!1,ie("MINI-EB listo",{ip:ct,ssid:nt})}catch(ve){Kt(null),ng("—"),sg("—"),Hr(!1),nr({status:"error",error:"No se pudo obtener el acceso MINI-EB. Inténtalo de nuevo."}),a.miniEbStable&&!v.current&&(e({title:"Error MINI-EB",description:"No se pudo obtener el acceso MINI-EB.",variant:"destructive"}),v.current=!0),ie("Fallo al consultar MINI-EB",ve)}},[a.debugLogs,a.miniEbStable,e]),Vd=u.useCallback(async(_=!1)=>{try{const J=await Ke.getWakeStatus();g(J),h(J.enabled),Pe.getSettings().wakeWordEnabled!==J.enabled&&Pe.saveSettings({wakeWordEnabled:J.enabled})}catch(J){fe.error("Error fetching wake status",J),_||e({title:"No se pudo consultar 'Hey Basculin'",description:"Verifica la conexión con el backend.",variant:"destructive"})}},[e]);u.useEffect(()=>{var ie,be;const _=Pe.getSettings();c(_.isVoiceActive),f(_.voiceId),m.current=_.voiceId,h(_.wakeWordEnabled??!1),L(_.diabetesMode),ye(_.calibrationFactor.toString()),W(((be=(ie=_.scale)==null?void 0:ie.decimals)==null?void 0:be.toString())??"1"),D(_.apiUrl),te(_.wsUrl),me(_.chatGptKey),Je(_.nightscoutUrl),k(_.nightscoutToken),he(_.correctionFactor.toString()),Ye(_.carbRatio.toString()),Bt(_.targetGlucose.toString()),Wr(_.hypoAlarm.toString()),ft(_.hyperAlarm.toString()),P(_.timerAlarmSoundEnabled),K(_.timerVoiceAnnouncementsEnabled),de(_.uiVolume??1),o(Qu()),bo(),Vd(!0);const J=setInterval(()=>{bo({silent:!0})},1e4);return()=>clearInterval(J)},[bo,Vd]),u.useEffect(()=>{let _=!1;return(async()=>{var ie;try{const be=await Ke.fetchBackendSettings();if(_)return;const ve=typeof((ie=be.network)==null?void 0:ie.openai_api_key)=="string"?be.network.openai_api_key.trim():"",Ie=ve==="__stored__";if(fo(Ie||!!ve),ve&&!Ie&&(me(ve),Pe.saveSettings({chatGptKey:ve})),be.diabetes){const Le=typeof be.diabetes.nightscout_url=="string"?be.diabetes.nightscout_url.trim():"",nt=Le==="__stored__"?"":Le;po(nt||null),nt&&(Je(nt),Pe.saveSettings({nightscoutUrl:nt}));const Ss=typeof be.diabetes.nightscout_token=="string"?be.diabetes.nightscout_token.trim():"";B(Ss==="__stored__"||!!Ss)}else po(null),B(!1)}catch(be){fe.debug("No se pudo cargar ajustes agregados del backend",{error:be})}})(),()=>{_=!0}},[]),u.useEffect(()=>{if(Od){sn(null),yo(!1),Jl(""),Xl(_=>_||(vo&&vo!=="—"?vo:""));return}Jl(""),sn(null),yo(!1),Xl("")},[Od,vo]),u.useEffect(()=>{if(!r){tc(null),rc("idle"),bs(!1),Or("Ingresa el PIN mostrado en la pantalla de la báscula para realizar cambios remotos.");return}let _=!1;return rc("loading"),bs(!0),Or(null),(async()=>{try{const ie=await fetch("/api/miniweb/pin",{cache:"no-store"});if(!ie.ok)throw new Error(`HTTP ${ie.status}`);const be=await ie.json();if(_)return;typeof(be==null?void 0:be.pin)=="string"&&be.pin.trim().length>0?(tc(be.pin.trim()),Or("Este PIN también aparece en la pantalla principal de la báscula.")):(tc(null),Or("No se pudo obtener el PIN automáticamente. Revisa la pantalla de la báscula.")),rc("idle")}catch(ie){if(_)return;fe.debug("No se pudo obtener el PIN de la mini-web",{error:ie}),tc(null),rc("error"),Or("No se pudo obtener el PIN automáticamente. Verifica la conexión de la báscula.")}})(),()=>{_=!0}},[r]),u.useEffect(()=>{if(typeof window>"u")return;const _=()=>s(!0);return window.addEventListener("open-calibration-wizard",_),()=>{window.removeEventListener("open-calibration-wizard",_)}},[]);const mk=()=>{Zl(!0)},pk=async()=>{const _=Md.trim();if(!_){sn({type:"error",message:"Ingresa el nombre de la red Wi-Fi."});return}const{allowed:J,pin:ie}=wo("cambiar la red Wi-Fi");if(!J){yo(!1),sn({type:"error",message:"Verifica el PIN de seguridad antes de modificar la red Wi-Fi."});return}const be=Dd.trim(),ve=be.length===0,Ie={ssid:_,secured:!ve,open:ve};ve||(Ie.password=be),ie&&(Ie.pin=ie),yo(!0),sn({type:"info",message:"Enviando datos a la báscula…"});try{const Le=new AbortController,ct=window.setTimeout(()=>Le.abort(),15e3),nt=await fetch("/api/miniweb/connect-wifi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie),signal:Le.signal}).finally(()=>{window.clearTimeout(ct)});if(!nt.ok){const jt=await nt.json().catch(()=>null),Kr=typeof(jt==null?void 0:jt.detail)=="string"?jt.detail:typeof(jt==null?void 0:jt.detail)=="object"&&jt.detail!==null?(()=>{const pg=jt.detail.message;return typeof pg=="string"?pg:void 0})():void 0,Ik=(typeof(jt==null?void 0:jt.message)=="string"?jt.message:void 0)||Kr||"No se pudo iniciar la conexión.";sn({type:"error",message:Ik});return}sn({type:"info",message:"Conectando… verificando el estado de la red."});const Ss=Date.now(),Zn=3e4,va=jt=>new Promise(Kr=>{window.setTimeout(Kr,jt)});for(;Date.now()-Ss<Zn;){try{const jt=await fetch("/api/miniweb/status",{cache:"no-store"});if(!jt.ok){await va(2e3);continue}const Kr=await jt.json();if((Kr==null?void 0:Kr.ap_active)===!1&&typeof(Kr==null?void 0:Kr.connectivity)=="string"&&Kr.connectivity.toLowerCase()==="full"){await bo(),sn({type:"success",message:`Conectado a ${Kr.ssid||_}.`});return}}catch(jt){console.error("Failed to fetch status during Wi-Fi connect",jt)}await va(2e3)}sn({type:"info",message:"Conectando… Si pierdes esta página es normal: cambia tu Wi-Fi al punto de acceso/red seleccionada y vuelve a abrir la app."})}catch(Le){Le instanceof DOMException&&Le.name==="AbortError"?sn({type:"info",message:"Conectando… Si pierdes esta página es normal: cambia tu Wi-Fi al punto de acceso/red seleccionada y vuelve a abrir la app."}):(console.error("Failed to connect Wi-Fi",Le),sn({type:"error",message:"Error al conectar. Inténtalo de nuevo."}))}finally{yo(!1)}},hk=()=>{Yl(!0)},gk=(_,J,ie)=>{const be=B5(_,J);o(be),e({title:J?"Función activada":"Función desactivada",description:ie})},dg=u.useCallback(async()=>{if(a.voiceSelector){C(!0),A(null);try{const _=await fetch(Za("/api/voice/tts/voices"));if(!_.ok)throw new Error(`HTTP ${_.status}`);const J=await _.json(),ie=Array.isArray(J.piper_models)?J.piper_models:[];let be=[];ie.length>0?be=ie.map(Ie=>{if(!Ie)return null;const Le=typeof Ie.id=="string"?Ie.id:typeof Ie.path=="string"?Ie.path:void 0;if(!Le)return null;const ct=typeof Ie.name=="string"&&Ie.name.trim().length>0?Ie.name:Le,nt=typeof Ie.path=="string"?Ie.path:void 0;return{id:Le,label:ct,backend:"piper",description:nt&&nt!==ct?nt:void 0}}).filter(Ie=>Ie!==null):J.espeak_available&&(be=[{id:"espeak",label:"eSpeak NG",backend:"espeak",description:"Motor eSpeak NG"}]);const ve=m.current;if(ve&&!be.some(Ie=>Ie.id===ve)&&(be=[{id:ve,label:ve,backend:"custom",description:"Configuración personalizada"},...be]),N(be),!ve&&be.length>0){const Ie=be[0];f(Ie.id),m.current=Ie.id,Pe.saveSettings({voiceId:Ie.id})}be.length===0&&A("No hay voces disponibles en el servidor")}catch(_){console.error("Failed to load voices",_),A("No se pudieron cargar las voces disponibles"),N([])}finally{C(!1)}}},[Za,a.voiceSelector]);u.useEffect(()=>{Pe.saveSettings({isVoiceActive:l})},[l]),u.useEffect(()=>{Pe.saveSettings({timerAlarmSoundEnabled:X})},[X]),u.useEffect(()=>{Pe.saveSettings({timerVoiceAnnouncementsEnabled:E})},[E]),u.useEffect(()=>{Pe.saveSettings({uiVolume:O})},[O]),u.useEffect(()=>{m.current=d},[d]),u.useEffect(()=>{Pe.saveSettings({diabetesMode:V})},[V]),u.useEffect(()=>{a.voiceSelector&&dg()},[a.voiceSelector,dg]);const qr=(_,J,ie,be=!1,ve,Ie,Le=!1,ct)=>{qe({title:_,type:J,field:ie,showDecimal:be,min:ve,max:Ie,allowEmpty:Le,maxLength:ct});const nt=vk(ie);mr(nt),Se(!0)},vk=_=>({calibrationFactor:ae,decimals:$,apiUrl:oe,wsUrl:H,chatGptKey:Q,nightscoutUrl:Mt,nightscoutToken:ut,correctionFactor:q,carbRatio:Ve,targetGlucose:bt,hypoAlarm:Pt,hyperAlarm:vt,networkModalSSID:Md,networkModalPassword:Dd,otaTargetOverride:Gl})[_]||"",yk=()=>{const J={calibrationFactor:ye,decimals:ie=>W(Lf(ie).toString()),chatGptKey:me,nightscoutUrl:Je,nightscoutToken:k,correctionFactor:he,carbRatio:Ye,targetGlucose:Bt,hypoAlarm:Wr,hyperAlarm:ft,apiUrl:D,wsUrl:te,networkModalSSID:Xl,networkModalPassword:Jl,otaTargetOverride:rg}[Ce.field];if(J){J(Nt);const ie=Ce.field;if(ie==="otaTargetOverride"){e({title:"Objetivo actualizado",description:"Se usará en la próxima actualización OTA"});return}ie==="calibrationFactor"?Pe.saveSettings({calibrationFactor:parseFloat(Nt)||1}):ie==="decimals"?Pe.saveSettings({scale:{decimals:Lf(Nt)}}):ie==="chatGptKey"?Pe.saveSettings({chatGptKey:Nt}):ie==="nightscoutUrl"?Pe.saveSettings({nightscoutUrl:Nt}):ie==="nightscoutToken"?Pe.saveSettings({nightscoutToken:Nt}):ie==="correctionFactor"?Pe.saveSettings({correctionFactor:parseFloat(Nt)||50}):ie==="carbRatio"?Pe.saveSettings({carbRatio:parseFloat(Nt)||10}):ie==="targetGlucose"?Pe.saveSettings({targetGlucose:parseFloat(Nt)||100}):ie==="hypoAlarm"?Pe.saveSettings({hypoAlarm:parseFloat(Nt)||70}):ie==="hyperAlarm"?Pe.saveSettings({hyperAlarm:parseFloat(Nt)||180}):ie==="apiUrl"?(Pe.saveSettings({apiUrl:Nt}),P1(Nt)):ie==="wsUrl"&&Pe.saveSettings({wsUrl:Nt}),navigator.vibrate&&navigator.vibrate(30),e({title:"Guardado",description:"Configuración actualizada correctamente"})}},$d=async _=>{const J=()=>{e({title:"No hay permisos de portapapeles",description:"Concede acceso al portapapeles desde el navegador.",variant:"destructive"})},ie=async()=>{try{return!navigator.clipboard||!navigator.clipboard.readText?null:await navigator.clipboard.readText()}catch(Le){return fe.debug("No se pudo leer desde navigator.clipboard",{error:Le}),null}},be=()=>{if(typeof document>"u")return null;const Le=document.createElement("textarea");Le.setAttribute("aria-hidden","true"),Le.style.position="fixed",Le.style.opacity="0",Le.style.pointerEvents="none",document.body.appendChild(Le);let ct=null;try{Le.focus(),document.execCommand("paste")&&(ct=Le.value)}catch(nt){fe.debug("document.execCommand('paste') no disponible",{error:nt})}finally{Le.remove()}return ct},ve=await ie();if(ve!==null){_(ve);return}const Ie=be();if(Ie!==null){_(Ie);return}J()},xk=async()=>{if(ec)try{if(!navigator.clipboard||!navigator.clipboard.writeText)throw new Error("clipboard_unavailable");await navigator.clipboard.writeText(ec),e({title:"PIN copiado",description:"El PIN se copió al portapapeles."})}catch{e({title:"No se pudo copiar",description:"Autoriza el acceso al portapapeles para copiar el PIN.",variant:"destructive"})}},wk=async()=>{if(r){bs(!0),Or(null);return}const _=xo.trim();if(!/^[0-9]{4}$/.test(_)){const J="Ingresa los 4 dígitos del PIN de la báscula.";Or(J),e({title:"PIN inválido",description:J,variant:"destructive"});return}og(!0);try{const J=await fetch("/api/miniweb/verify-pin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:_})});if(J.ok){bs(!0),Or("PIN verificado correctamente."),e({title:"PIN verificado",description:"Ahora puedes realizar cambios remotos."});return}if(J.status===429){const ie="Demasiados intentos fallidos. Espera un momento antes de reintentar.";Or(ie),e({title:"PIN bloqueado temporalmente",description:ie,variant:"destructive"}),bs(!1);return}Or("PIN incorrecto. Verifica el código mostrado en la báscula."),bs(!1),e({title:"PIN incorrecto",description:"Verifica el código mostrado en la báscula.",variant:"destructive"})}catch(J){fe.error("No se pudo verificar el PIN de la mini-web",{error:J}),Or("No se pudo verificar el PIN. Revisa la conexión."),e({title:"Error de conexión",description:"No se pudo verificar el PIN.",variant:"destructive"}),bs(!1)}finally{og(!1)}},bk=async()=>{ee(!0);try{await Ke.speak("Hola, este es un test del sistema de audio"),e({title:"Test de Audio",description:"Audio funcionando correctamente"})}catch{e({title:"Error",description:"No se pudo reproducir el audio",variant:"destructive"})}finally{ee(!1)}},Nk=async _=>{const J=p;h(_),y(!0);try{_?await Ke.enableWake():await Ke.disableWake(),Pe.saveSettings({wakeWordEnabled:_}),await Vd(!0)}catch(ie){fe.error("Failed to toggle wake word",ie),h(J),e({title:"No se pudo actualizar 'Hey Basculin'",description:"Inténtalo de nuevo en unos segundos.",variant:"destructive"})}finally{y(!1)}},Sk=async()=>{if(l){T(!0);try{const _=new URLSearchParams({text:"Esta es una prueba"}),J=m.current;J&&_.set("voice",J);const ie=await fetch(Za(`/api/voice/tts/say?${_.toString()}`),{method:"POST"});if(!ie.ok)throw new Error(`HTTP ${ie.status}`);e({title:"Prueba de voz",description:"Se envió la prueba al dispositivo"})}catch(_){console.error("Device voice test failed",_),e({title:"Error",description:"No se pudo reproducir la voz en el dispositivo",variant:"destructive"})}finally{T(!1)}}},kk=async()=>{if(l){R(!0);try{const _=new URLSearchParams({text:"Esta es una prueba"}),J=m.current;J&&_.set("voice",J);const ie=await fetch(Za(`/api/voice/tts/synthesize?${_.toString()}`),{method:"POST"});if(!ie.ok)throw new Error(`HTTP ${ie.status}`);const be=await ie.blob(),ve=URL.createObjectURL(be),Ie=new Audio(ve),Le=()=>{URL.revokeObjectURL(ve),Ie.onended=null,Ie.onerror=null};Ie.onended=Le,Ie.onerror=Le;try{await Ie.play()}catch(ct){throw Le(),ct}e({title:"Prueba en navegador",description:"Reproduciendo voz sintetizada"})}catch(_){console.error("Browser voice test failed",_),e({title:"Error",description:"No se pudo reproducir la voz en el navegador",variant:"destructive"})}finally{R(!1)}}},jk=()=>{if(!l||typeof window>"u")return;const _=window;try{if(typeof _.playSound=="function"){_.playSound("beep");return}const J=window.AudioContext??_.webkitAudioContext;if(!J){console.warn("AudioContext no disponible");return}const ie=new J;ie.state==="suspended"&&ie.resume().catch(()=>{});const be=ie.createOscillator(),ve=ie.createGain();be.type="sine",be.frequency.setValueAtTime(880,ie.currentTime),ve.gain.setValueAtTime(1e-4,ie.currentTime),be.connect(ve),ve.connect(ie.destination),be.start(),ve.gain.exponentialRampToValueAtTime(.2,ie.currentTime+.05),ve.gain.exponentialRampToValueAtTime(1e-4,ie.currentTime+.4),be.stop(ie.currentTime+.5),be.onended=()=>{ie.close().catch(()=>{})}}catch(J){console.error("No se pudo reproducir el beep",J)}},Ck=async()=>{const _=Q.trim(),{allowed:J,pin:ie}=wo("probar la conexión con OpenAI");if(J){we(!0);try{const be=await Ke.testOpenAI(_||void 0,ie);if(be.ok)e({title:"OpenAI listo",description:be.message??"Conexión con OpenAI verificada"});else{const ve=[];be.message&&ve.push(be.message),e({title:"OpenAI no disponible",description:ve.join(" · ")||"El backend no pudo validar la API key.",variant:"destructive"})}}catch(be){let ve="No se pudo conectar con OpenAI. Verifica tu API key.";be instanceof Et&&be.message&&(ve=be.message),e({title:"Error",description:ve,variant:"destructive"})}finally{we(!1)}}},Ek=async()=>{const _=Mt.trim(),J=ut.trim(),{allowed:ie,pin:be}=wo("probar la conexión con Nightscout");if(ie){je(!0);try{const ve=await Ke.testNightscout(_||void 0,J||void 0,be);if(ve.ok)e({title:"Nightscout listo",description:ve.message??"Conexión con Nightscout verificada"});else{const Ie=[];ve.message&&Ie.push(ve.message),e({title:"Nightscout no respondió",description:Ie.join(" · ")||"Verifica la URL y el token.",variant:"destructive"})}}catch(ve){let Ie="No se pudo conectar con Nightscout. Verifica la URL y token.";ve instanceof Et&&ve.message&&(Ie=ve.message),e({title:"Error",description:Ie,variant:"destructive"})}finally{je(!1)}}},_k=async()=>{var be;const _=Q.trim(),{allowed:J,pin:ie}=wo("guardar la clave de OpenAI");if(J){ar(!0);try{const ve={network:{openai_api_key:_||null}};ie&&(ve.pin=ie);const Ie=await Ke.updateBackendSettings(ve),Le=!!(typeof((be=Ie.network)==null?void 0:be.openai_api_key)=="string"&&Ie.network.openai_api_key==="__stored__"||_);fo(Le),me(_),Pe.saveSettings({chatGptKey:_}),e({title:"OpenAI guardado",description:"La clave se sincronizó con el backend."})}catch(ve){let Ie="No se pudo guardar la clave de OpenAI.";ve instanceof Et&&ve.message&&(Ie=ve.message),e({title:"Error",description:Ie,variant:"destructive"})}finally{ar(!1)}}},Tk=async()=>{var ve,Ie;const _=Mt.trim(),J=ut.trim(),{allowed:ie,pin:be}=wo("guardar la configuración de Nightscout");if(ie){Jt(!0);try{const Le={diabetes:{nightscout_url:_||null,nightscout_token:J||null}};be&&(Le.pin=be);const ct=await Ke.updateBackendSettings(Le),nt=typeof((ve=ct.diabetes)==null?void 0:ve.nightscout_url)=="string"?ct.diabetes.nightscout_url.trim():"";po((nt==="__stored__"?_:nt||_)||null);const va=(typeof((Ie=ct.diabetes)==null?void 0:Ie.nightscout_token)=="string"?ct.diabetes.nightscout_token.trim():"")==="__stored__"||!!J;B(va),Je(_),k(J),Pe.saveSettings({nightscoutUrl:_,nightscoutToken:J}),e({title:"Nightscout guardado",description:"Los cambios se sincronizaron con el backend."})}catch(Le){let ct="No se pudo guardar la configuración de Nightscout.";Le instanceof Et&&Le.message&&(ct=Le.message),e({title:"Error",description:ct,variant:"destructive"})}finally{Jt(!1)}}},Pk=async()=>{Fe(!0);try{const _=await Ke.getOtaStatus();Re(_),_.hasUpdate?e({title:"Actualización disponible",description:`Versión ${_.latest} lista para instalar`}):e({title:"Sistema actualizado",description:`La versión actual es ${_.current}`})}catch{e({title:"Error",description:"No se pudo verificar actualizaciones",variant:"destructive"})}finally{Fe(!1)}},ga=u.useCallback(async()=>{if(a.otaApply)try{const _=await Ke.getOtaJobStatus();fe.debug("OTA status actualizado",{status:_}),Lt(_)}catch(_){_ instanceof Et?fe.warn("No se pudo obtener estado OTA",{status:_.status,message:_.message}):console.warn("No se pudo obtener estado OTA",_)}},[a.otaApply]),Qn=u.useCallback(async(_=ek)=>{if(a.otaApply)try{const J=await Ke.getOtaLogs(_);fe.debug("OTA logs actualizados",{lines:_}),kt(ux(J,_))}catch(J){J instanceof Et?fe.warn("No se pudieron obtener logs OTA",{status:J.status,message:J.message}):console.warn("No se pudieron obtener logs OTA",J)}},[a.otaApply]),_n=u.useCallback(()=>{Ns.current&&(Ns.current.close(),Ns.current=null)},[]),Tn=u.useCallback(()=>{nc.current&&(window.clearInterval(nc.current),nc.current=null),sc.current&&(window.clearTimeout(sc.current),sc.current=null)},[]),No=u.useCallback((_,J)=>{_n(),Tn(),ga(),Qn(),nc.current=window.setInterval(()=>{ga(),Qn()},_),J&&(sc.current=window.setTimeout(()=>{Tn()},J))},[Qn,ga,_n,Tn]),ac=u.useCallback(()=>{Tn();try{const _=Za("/api/ota/events"),J=new EventSource(_);return Ns.current=J,J.onopen=()=>{fe.debug("SSE OTA conectado"),Qn()},J.addEventListener("state",ie=>{try{const be=JSON.parse(ie.data);fe.debug("Estado OTA (SSE)",{status:be.status,progress:be.progress}),Lt(be)}catch(be){fe.warn("No se pudo parsear estado OTA SSE",{error:be})}}),J.addEventListener("log",ie=>{try{const be=JSON.parse(ie.data);be.line&&kt(ve=>{const Ie=ve?`${ve}
${be.line}`:be.line;return ux(Ie)})}catch(be){fe.warn("No se pudo parsear log OTA SSE",{error:be})}}),J.onerror=()=>{fe.warn("SSE OTA con error, cambiando a polling"),_n(),No(1e3,6e4)},!0}catch(_){return fe.warn("No se pudo iniciar SSE OTA",{error:_}),_n(),No(1e3,6e4),!1}},[Za,Qn,No,_n,Tn]),Ak=u.useCallback(async()=>{if(!a.otaApply)return;const _=Gl.trim();Id(!0),Ir(!0);try{fe.debug("Solicitando OTA apply",{target:_||"latest"}),await Ke.applyOtaUpdate(_||void 0),e({title:"Actualización iniciada",description:"El proceso continúa en segundo plano"}),await ga(),await Qn(),Ns.current||ac()}catch(J){J instanceof Et&&J.status===409?e({title:"Actualización en curso",description:"Ya hay una actualización en curso",variant:"destructive"}):e({title:"Error",description:"No se pudo iniciar la actualización",variant:"destructive"}),fe.error("Fallo al solicitar OTA",{error:J})}finally{Id(!1)}},[Ke,Ns,a.otaApply,Gl,Qn,ga,ac,e]);u.useEffect(()=>{a.otaApply&&((ne==null?void 0:ne.status)==="running"?Ir(!0):ne&&Id(!1),ne&&(Ld.current!==ne.status&&(ne.status==="success"?e({title:"Actualización aplicada",description:"Puedes volver al inicio cuando quieras"}):ne.status==="error"&&e({title:"Actualización fallida",description:ne.message||"Revisa los registros para más detalles",variant:"destructive"})),Ld.current=ne.status))},[a.otaApply,ne,e]),u.useEffect(()=>{if(!a.otaApply){_n(),Tn();return}Sr||(ne==null?void 0:ne.status)==="running"?Ns.current||ac()||No(1e3,6e4):(_n(),Tn())},[Ns,a.otaApply,ne==null?void 0:ne.status,Sr,ac,No,_n,Tn]),u.useEffect(()=>{if(!a.otaApply){Lt(null),kt(""),Ir(!1),go(!1),Ld.current=null;return}ga()},[a.otaApply,ga]),u.useEffect(()=>{a.otaApply&&(Sr||(ne==null?void 0:ne.status)==="running")&&Qn()},[a.otaApply,ne==null?void 0:ne.status,Sr,Qn]),u.useEffect(()=>{if(!Sr)return;const _=ug.current;_&&(_.scrollTop=_.scrollHeight)},[pt,Sr]),u.useEffect(()=>()=>{_n(),Tn()},[_n,Tn]);const Rk=b?p?b.running?"Escuchando":"En espera":"Desactivado":"Consultando…",fg=b!=null&&b.last_wake_ts?new Date(b.last_wake_ts).toLocaleTimeString():null,mg=b!=null&&b.errors&&b.errors.length>0?b.errors[b.errors.length-1]:null;return i.jsxs("div",{className:"h-full overflow-y-auto p-4",children:[i.jsxs(ZN,{defaultValue:"general",className:"w-full",children:[i.jsxs(qh,{className:"mb-4 grid w-full grid-cols-5 h-16",children:[i.jsxs(Ms,{value:"general",className:"flex flex-col gap-1 text-xs",children:[i.jsx(mh,{className:"h-5 w-5"}),"General"]}),i.jsxs(Ms,{value:"scale",className:"flex flex-col gap-1 text-xs",children:[i.jsx(hs,{className:"h-5 w-5"}),"Báscula"]}),i.jsxs(Ms,{value:"network",className:"flex flex-col gap-1 text-xs",children:[i.jsx(Gi,{className:"h-5 w-5"}),"Red"]}),i.jsxs(Ms,{value:"diabetes",className:"flex flex-col gap-1 text-xs",children:[i.jsx(fE,{className:"h-5 w-5"}),"Diabetes"]}),i.jsxs(Ms,{value:"updates",className:"flex flex-col gap-1 text-xs",children:[i.jsx(Gc,{className:"h-5 w-5"}),"OTA"]})]}),i.jsxs(Ds,{value:"general",className:"space-y-4",children:[i.jsxs(Qe,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuración General"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:"Modo Voz"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Activar narración de texto y respuestas por voz"})]}),i.jsx(In,{checked:l,onCheckedChange:c,className:"scale-150"})]}),a.voiceSelector?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-lg font-medium",children:"Seleccionar Voz"}),i.jsxs("select",{className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-lg",value:d??"",onChange:_=>{const J=_.target.value||void 0;f(J),m.current=J,Pe.saveSettings({voiceId:J})},disabled:S||!l||x.length===0,children:[i.jsx("option",{value:"",disabled:!0,children:S?"Cargando voces...":"Selecciona una voz"}),x.map(_=>i.jsxs("option",{value:_.id,children:[_.label,_.description?` • ${_.description}`:""]},_.id))]}),j?i.jsx("p",{className:"text-sm text-destructive",children:j}):S?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buscando voces disponibles…"}):null]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[i.jsxs(z,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:Sk,disabled:M||!l||S,children:[i.jsx(yE,{className:"mr-2 h-5 w-5"}),M?"Enviando...":"Probar en dispositivo"]}),i.jsxs(z,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:kk,disabled:F||!l||S,children:[i.jsx(Qc,{className:"mr-2 h-5 w-5"}),F?"Sintetizando...":"Probar en navegador"]}),i.jsxs(z,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:jk,disabled:!l,children:[i.jsx(oE,{className:"mr-2 h-5 w-5"}),"Beep"]})]})]}):i.jsxs(z,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:bk,disabled:sr||!l,children:[i.jsx(bb,{className:"mr-2 h-5 w-5"}),sr?"Probando...":"Probar Audio"]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-border/60 bg-muted/20 p-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:"Activar 'Hey Basculin'"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Escucha continua sin conexión para activar comandos de voz automáticamente."})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",Rk,fg?` • Último: ${fg}`:"",b!=null&&b.backend?` • Fuente: ${b.backend}`:""]}),mg?i.jsxs("p",{className:"text-xs text-destructive",children:["Error reciente: ",mg]}):null]}),i.jsx(In,{checked:p,onCheckedChange:_=>{Nk(_)},disabled:w,className:"scale-150 self-start md:self-center"})]}),a.timerAlarms?i.jsxs("div",{className:"space-y-6 border-t border-border pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:"Alarmas sonoras"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduce beeps cuando el temporizador finaliza."})]}),i.jsx(In,{checked:X,onCheckedChange:P,className:"scale-150"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:"Anunciar por voz"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Envía un mensaje hablado al terminar el temporizador."})]}),i.jsx(In,{checked:E,onCheckedChange:K,className:"scale-150"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-lg font-medium",children:"Volumen de interfaz"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajusta el volumen de los sonidos (0 = silencio, 1 = máximo)."}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Wh,{min:0,max:1,step:.05,value:[O],onValueChange:_=>{const[J]=_,ie=Math.min(Math.max(J??0,0),1);de(Number(ie.toFixed(2)))},className:"max-w-[240px]"}),i.jsx(et,{type:"number",step:"0.05",min:"0",max:"1",value:O,onChange:_=>{const J=Number(_.target.value);if(Number.isNaN(J))return;const ie=Math.min(Math.max(J,0),1);de(Number(ie.toFixed(2)))},className:"w-24"})]})]})]}):null]})]}),i.jsxs(Qe,{className:"p-6",children:[i.jsx("h3",{className:"text-2xl font-bold",children:"Funciones experimentales"}),i.jsx("p",{className:"mb-6 mt-2 text-sm text-muted-foreground",children:"Activa solo las funciones que necesites probar. Todas se pueden desactivar en cualquier momento si generan problemas."}),i.jsx("div",{className:"space-y-5",children:U5.map(_=>i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:_.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]}),i.jsx(In,{checked:a[_.key],onCheckedChange:J=>gk(_.key,J,_.title),className:"mt-1 scale-125"})]},_.key))})]})]}),i.jsx(Ds,{value:"scale",className:"space-y-4",children:i.jsxs(Qe,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuración de Báscula"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-lg font-medium",children:"Decimales"}),i.jsxs("select",{className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-lg",value:$,onChange:_=>{const J=Lf(_.target.value);W(J.toString()),Pe.saveSettings({scale:{decimals:J}}),e({title:"Guardado",description:"Preferencia de decimales actualizada"})},children:[i.jsx("option",{value:"0",children:"Sin decimales (0)"}),i.jsx("option",{value:"1",children:"Un decimal (0.0)"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-lg font-medium",children:"Calibración"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Factor de calibración actual: ",ae]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(et,{type:"text",value:ae,readOnly:!0,onClick:()=>qr("Factor de Calibración","numeric","calibrationFactor",!0,.1,1e4),placeholder:"Nuevo factor",className:"flex-1 cursor-pointer text-lg"}),!a.calibrationV2&&i.jsx(z,{size:"lg",variant:"secondary",onClick:()=>s(!0),children:"Calibrar"})]})]}),i.jsxs(z,{variant:"glow",size:"lg",className:"w-full",onClick:()=>s(!0),children:[i.jsx(hs,{className:"mr-2 h-5 w-5"}),a.calibrationV2?"Asistente de calibración":"Ejecutar Asistente de Calibración"]})]})]})}),i.jsxs(Ds,{value:"network",className:"space-y-4",children:[i.jsxs(Qe,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuración de Red"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/70 bg-muted/10 p-4",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(ze,{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(vb,{className:"h-5 w-5 text-primary"})," PIN de seguridad"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Usa este PIN cuando cambies ajustes sensibles desde otro dispositivo."})]}),r?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"min-h-[3rem] min-w-[6rem] rounded-md border border-border bg-background px-4 py-2 text-3xl font-mono tracking-widest",children:uk==="loading"?i.jsx(Rt,{className:"mx-auto h-6 w-6 animate-spin text-muted-foreground"}):i.jsx("span",{children:ec??"—"})}),i.jsxs(z,{type:"button",variant:"outline",size:"lg",onClick:()=>void xk(),disabled:!ec,children:[i.jsx(cE,{className:"mr-2 h-4 w-4"})," Copiar PIN"]})]}):i.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-64",children:[i.jsx(et,{type:"password",value:xo,onChange:_=>{const J=_.target.value.replace(/[^0-9]/g,"");dk(J),r||bs(!1)},placeholder:"PIN de la báscula",inputMode:"numeric",maxLength:4,pattern:"[0-9]*",autoComplete:"one-time-code"}),i.jsx(z,{type:"button",variant:"glow",onClick:()=>void wk(),disabled:ig||xo.trim().length!==4,children:ig?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando…"]}):i.jsxs(i.Fragment,{children:[i.jsx(Dm,{className:"mr-2 h-4 w-4"})," Verificar PIN"]})})]})]}),lg?i.jsx("p",{className:"text-sm text-muted-foreground",children:lg}):null,!r&&kr?i.jsxs("p",{className:"flex items-center gap-2 text-sm font-medium text-success",children:[i.jsx(Dm,{className:"h-4 w-4"})," PIN verificado para esta sesión."]}):null]}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium mb-2 block",children:"WiFi Conectado"}),i.jsxs("div",{className:"rounded-lg bg-success/10 p-4",children:[i.jsx("p",{className:"text-lg font-medium",children:vo}),i.jsx("p",{className:"text-sm text-muted-foreground",children:Ql})]})]}),i.jsx("div",{className:"rounded-lg border border-primary/40 bg-primary/5 p-4",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["También puedes configurar Wi-Fi y claves desde otro dispositivo navegando a"," ",i.jsx("span",{className:"font-mono font-semibold text-primary",children:fk}),"."]})}),Wt&&i.jsxs("div",{className:"space-y-3 rounded-lg border border-warning/40 bg-warning/10 p-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ta,{className:"mt-1 h-5 w-5 text-warning"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-warning-foreground",children:"Modo recuperación activo"}),i.jsx("p",{className:"text-sm text-warning-foreground/80",children:'La báscula está emitiendo la Wi-Fi "Bascula-AP". Usa la mini-web para conectarla a tu red habitual.'})]})]}),i.jsxs(z,{type:"button",variant:"glow",size:"lg",className:"w-full justify-center sm:w-auto",onClick:()=>window.open("http://192.168.4.1:8080/config","_blank","noopener,noreferrer"),children:[i.jsx(dE,{className:"mr-2 h-5 w-5"}),"Abrir Mini-Web (http://192.168.4.1:8080/config)"]})]}),i.jsx(z,{variant:"outline",size:"lg",className:"w-full",onClick:()=>{a.networkModal?mk():hk()},disabled:!r&&!kr,title:!r&&!kr?"Verifica el PIN antes de cambiar la Wi-Fi":void 0,children:"Cambiar Red WiFi"}),i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium mb-2 block",children:"Acceso Mini-Web"}),i.jsx("div",{className:"rounded-lg border border-border p-4 space-y-3",children:a.miniEbStable?i.jsxs(i.Fragment,{children:[Xt.status==="loading"&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(Rt,{className:"h-5 w-5 animate-spin"}),i.jsx("span",{children:"Cargando acceso MINI-EB…"})]}),Xt.status==="error"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[i.jsx(ta,{className:"h-5 w-5"}),i.jsx("span",{children:Xt.error??"No se pudo obtener el acceso MINI-EB."})]}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>void bo(),children:"Reintentar"})]}),Xt.status==="ready"&&Xt.ip&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-success",children:[i.jsx(wi,{className:"h-5 w-5"}),i.jsx("span",{children:"Listo"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"URL:"}),i.jsx("p",{className:"text-lg font-mono break-all",children:`http://${Xt.ip}:8080`})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Red conectada:"}),i.jsx("p",{className:"text-lg font-medium",children:Xt.ssid??"—"})]}),i.jsx("div",{className:"flex justify-center rounded bg-white py-3",children:i.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=http://${Xt.ip}:8080`,alt:"Código QR MINI-EB",className:"h-48 w-48"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"URL:"}),i.jsx("p",{className:"text-lg font-mono break-all",children:Yt?`http://${Yt}:8080`:"Obteniendo..."})]}),Yt&&i.jsx("div",{className:"flex justify-center py-3 bg-white rounded",children:i.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=http://${Yt}:8080`,alt:"QR Code",className:"w-48 h-48"})})]})})]})]})]}),i.jsxs(Qe,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:"OpenAI API Key"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configura la clave usada por el asistente inteligente y los servicios de IA."})]}),i.jsx(z,{type:"button",variant:"glow",size:"lg",className:"w-full justify-center sm:w-auto",onClick:()=>void _k(),disabled:pr||!r&&!kr,title:!r&&!kr?"Verifica el PIN antes de guardar":void 0,children:pr?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-5 w-5 animate-spin"})," Guardando…"]}):i.jsxs(i.Fragment,{children:[i.jsx(Lv,{className:"mr-2 h-5 w-5"})," Guardar clave"]})})]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/70 bg-muted/20 p-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-lg font-medium",children:"OpenAI API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{type:I?"text":"password",value:Q,autoComplete:"off",readOnly:Fd,disabled:an,onClick:()=>{Fd&&qr("OpenAI API Key","apikey","chatGptKey",!1,void 0,void 0,!0)},onChange:_=>me(_.target.value),placeholder:Nr?"••••••••••":"sk-...",className:Ne("text-lg pr-24",Fd&&"cursor-pointer",an&&"cursor-not-allowed opacity-70")}),i.jsxs("div",{className:"absolute inset-y-0 right-1 my-auto flex items-center gap-1",children:[i.jsxs(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>U(_=>!_),disabled:an,children:[I?i.jsx(Iv,{className:"h-4 w-4"}):i.jsx(Ov,{className:"h-4 w-4"}),i.jsxs("span",{className:"sr-only",children:[I?"Ocultar":"Mostrar"," API Key"]})]}),i.jsxs(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>void $d(me),disabled:an,children:[i.jsx(wf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Pegar API Key"})]})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Estado:"," ",Nr?i.jsx("span",{className:"font-medium text-success",children:"Clave almacenada en el backend"}):i.jsx("span",{className:"font-medium text-warning",children:"Sin configurar"})]})]}),i.jsx(z,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:Ck,disabled:Z||!Q.trim()&&!Nr||!r&&!kr,title:!r&&!kr?"Verifica el PIN antes de probar":void 0,children:Z?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-5 w-5 animate-spin"})," Probando…"]}):i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"mr-2 h-5 w-5"})," Probar conexión OpenAI"]})})]})]})]}),i.jsxs(Ds,{value:"diabetes",className:"space-y-4",children:[i.jsxs(Qe,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuración Diabetes"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:"Modo Diabetes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilitar funciones de diabetes"})]}),i.jsx(In,{checked:V,onCheckedChange:L,className:"scale-150"})]}),V&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:"Asistente de Bolos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Calcular dosis de insulina"})]}),i.jsx(In,{checked:le,onCheckedChange:re,className:"scale-150"})]}),i.jsxs("div",{className:"space-y-4",children:[le&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Factor de Corrección"}),i.jsx(et,{type:"text",value:q,readOnly:!0,onClick:()=>qr("Factor de Corrección","numeric","correctionFactor",!1,1,200),placeholder:"30",className:"cursor-pointer"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Ratio Carbohidratos"}),i.jsx(et,{type:"text",value:Ve,readOnly:!0,onClick:()=>qr("Ratio Carbohidratos","numeric","carbRatio",!1,1,100),placeholder:"10",className:"cursor-pointer"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Objetivo Glucosa (mg/dl)"}),i.jsx(et,{type:"text",value:bt,readOnly:!0,onClick:()=>qr("Objetivo Glucosa","numeric","targetGlucose",!1,70,180),placeholder:"100",className:"cursor-pointer"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Alarma Hipoglucemia (mg/dl)"}),i.jsx(et,{type:"text",value:Pt,readOnly:!0,onClick:()=>qr("Alarma Hipoglucemia","numeric","hypoAlarm",!1,40,90),placeholder:"70",className:"cursor-pointer"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Alarma Hiperglucemia (mg/dl)"}),i.jsx(et,{type:"text",value:vt,readOnly:!0,onClick:()=>qr("Alarma Hiperglucemia","numeric","hyperAlarm",!1,150,300),placeholder:"180",className:"cursor-pointer"})]})]})]})]})]}),i.jsxs(Qe,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:"Nightscout"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configura la URL y el token de tu instancia Nightscout."})]}),i.jsx(z,{type:"button",variant:"glow",size:"lg",className:"w-full justify-center sm:w-auto",onClick:()=>void Tk(),disabled:$e||!r&&!kr,title:!r&&!kr?"Verifica el PIN antes de guardar":void 0,children:$e?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-5 w-5 animate-spin"})," Guardando…"]}):i.jsxs(i.Fragment,{children:[i.jsx(Lv,{className:"mr-2 h-5 w-5"})," Guardar Nightscout"]})})]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-border/70 bg-muted/20 p-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-lg font-medium",children:"Teclado interno"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:ir?"Usar teclado táctil integrado para introducir datos sensibles.":"Usar teclado del sistema y pegado nativo."})]}),i.jsx(In,{checked:ir,onCheckedChange:lk,className:"scale-125"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-lg font-medium",children:"Nightscout URL"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{type:"url",value:Mt,autoComplete:"url",readOnly:Qa,disabled:an,onClick:()=>{Qa&&qr("Nightscout URL","url","nightscoutUrl",!1,void 0,void 0,!1,200)},onChange:_=>Je(_.target.value),placeholder:"https://mi-nightscout.com",className:Ne("text-lg pr-24",Qa&&"cursor-pointer",an&&"cursor-not-allowed opacity-70")}),i.jsx("div",{className:"absolute inset-y-0 right-1 my-auto flex items-center gap-1",children:i.jsxs(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>void $d(Je),disabled:an,children:[i.jsx(wf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Pegar URL Nightscout"})]})})]}),i.jsx(ze,{className:"text-lg font-medium",children:"Nightscout Token"}),i.jsxs("div",{className:"relative",children:[i.jsx(et,{type:xe?"text":"password",value:ut,autoComplete:"new-password",readOnly:Qa,disabled:an,onClick:()=>{Qa&&qr("Nightscout Token","apikey","nightscoutToken",!1,void 0,void 0,!0)},onChange:_=>k(_.target.value),placeholder:Kl?"••••••••":"token",className:Ne("text-lg pr-24",Qa&&"cursor-pointer",an&&"cursor-not-allowed opacity-70")}),i.jsxs("div",{className:"absolute inset-y-0 right-1 my-auto flex items-center gap-1",children:[i.jsxs(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ge(_=>!_),disabled:an,children:[xe?i.jsx(Iv,{className:"h-4 w-4"}):i.jsx(Ov,{className:"h-4 w-4"}),i.jsxs("span",{className:"sr-only",children:[xe?"Ocultar":"Mostrar"," token Nightscout"]})]}),i.jsxs(z,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>void $d(k),disabled:an,children:[i.jsx(wf,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Pegar token Nightscout"})]})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Estado: ",mo?i.jsxs("span",{className:"font-medium text-success",children:[mo," ",Kl?"· Token almacenado":""]}):i.jsx("span",{className:"font-medium text-warning",children:"Sin configurar"})]})]}),i.jsx(z,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:Ek,disabled:Me||!Mt.trim()&&!mo||!r&&!kr,title:!r&&!kr?"Verifica el PIN antes de probar":void 0,children:Me?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-5 w-5 animate-spin"})," Probando…"]}):i.jsxs(i.Fragment,{children:[i.jsx(wi,{className:"mr-2 h-5 w-5"})," Probar conexión Nightscout"]})})]})]})]}),i.jsx(Ds,{value:"updates",className:"space-y-4",children:i.jsxs(Qe,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Actualizaciones OTA"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg bg-muted p-6 text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Versión Actual"}),i.jsx("p",{className:"text-4xl font-bold text-primary",children:zd(ce==null?void 0:ce.current)})]}),i.jsxs("div",{className:"rounded-lg bg-muted p-6 text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Última disponible"}),i.jsx("p",{className:"text-3xl font-semibold",children:zd(ce==null?void 0:ce.latest)}),ce&&i.jsx("p",{className:`mt-2 text-sm ${ce.hasUpdate?"text-warning":"text-success"}`,children:ce.hasUpdate?"Actualización pendiente":"Sistema al día"})]})]}),i.jsxs(z,{variant:"glow",size:"xl",className:"w-full text-xl",onClick:Pk,disabled:De,children:[i.jsx(Gc,{className:"mr-2 h-6 w-6 animate-bounce"}),De?"Verificando...":"Buscar Actualizaciones"]}),ce&&i.jsx("div",{className:`rounded-lg border p-4 animate-fade-in ${ce.hasUpdate?"border-primary bg-primary/5":"border-success bg-success/5"}`,children:ce.hasUpdate?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"font-medium text-primary",children:["📦 Nueva versión disponible: ",zd(ce.latest)]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Usa la sección inferior para aplicar la actualización cuando estés listo."})]}):i.jsx("p",{className:"font-medium text-success",children:"✓ El sistema está actualizado"})}),a.otaApply&&i.jsxs("div",{className:"space-y-4 rounded-lg border border-primary/40 bg-primary/5 p-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-[2fr,1fr] md:items-end",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-sm font-medium",children:"Objetivo de actualización (opcional)"}),i.jsx(et,{value:Gl,placeholder:"tag o commit",readOnly:ir,onClick:()=>{ir&&qr("Objetivo OTA","text","otaTargetOverride",!1,void 0,void 0,!1,80)},onChange:_=>{ir||rg(_.target.value)},className:Ne("text-lg",ir&&"cursor-pointer")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Déjalo vacío para aplicar la última versión disponible."})]}),i.jsx(z,{variant:"glow",size:"lg",className:"w-full",onClick:()=>go(!0),disabled:tg||(ne==null?void 0:ne.status)==="running",children:tg||(ne==null?void 0:ne.status)==="running"?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-5 w-5 animate-spin"}),"Aplicando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gc,{className:"mr-2 h-5 w-5"}),"Aplicar actualización"]})})]}),(ne==null?void 0:ne.status)==="running"&&i.jsxs("div",{className:"flex items-center gap-2 text-warning",children:[i.jsx(Rt,{className:"h-4 w-4 animate-spin"}),i.jsxs("span",{children:["Actualización en progreso (",ne.progress,"%)",ne.message?` — ${ne.message}`:""]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"La interfaz puede parpadear durante el proceso. Si pierdes la conexión, vuelve a abrir Ajustes > OTA para reanudar el seguimiento."})]}),i.jsx("div",{className:"rounded-lg border-warning/50 border bg-warning/5 p-4",children:i.jsx("p",{className:"text-sm font-medium text-warning",children:"⚠️ Después de actualizar, el sistema se reiniciará automáticamente"})})]})]})})]}),i.jsx(uO,{open:ho,onOpenChange:go,children:i.jsxs(KS,{className:"max-w-xl",children:[i.jsxs(GS,{children:[i.jsx(ZS,{children:"Aplicar actualización OTA"}),i.jsx(YS,{children:"El sistema seguirá funcionando mientras se instala la actualización, pero la interfaz puede parpadear o recargar la página."})]}),i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("p",{children:"La instalación reiniciará servicios críticos y puede tardar varios minutos. Asegúrate de no desconectar la báscula."}),i.jsx("p",{children:"Puedes seguir el progreso y revisar los registros en la ventana de actualización."})]}),i.jsxs(QS,{children:[i.jsx(JS,{children:"Cancelar"}),i.jsx(XS,{onClick:()=>{go(!1),Ak()},children:"Confirmar"})]})]})}),i.jsx(na,{open:Sr,onOpenChange:_=>{(ne==null?void 0:ne.status)==="running"&&!_||Ir(_)},children:i.jsxs(os,{className:"max-w-3xl",children:[i.jsxs(ls,{children:[i.jsx(cs,{className:"text-3xl",children:"Progreso de actualización OTA"}),i.jsx(nu,{children:"Seguimiento en tiempo real del proceso de actualización."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Estado:"})," ",i.jsx("span",{className:Ne((ne==null?void 0:ne.status)==="success"&&"text-success",(ne==null?void 0:ne.status)==="error"&&"text-destructive",(ne==null?void 0:ne.status)==="running"&&"text-warning"),children:(ne==null?void 0:ne.status)??"idle"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Actual:"})," ",i.jsx("span",{className:"font-mono",children:(ne==null?void 0:ne.current)||"—"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Objetivo:"})," ",i.jsx("span",{className:"font-mono",children:(ne==null?void 0:ne.target)||"—"})]})]}),i.jsx(Yi,{value:(ne==null?void 0:ne.progress)??0,className:"h-3","aria-label":"Progreso de actualización"}),(ne==null?void 0:ne.message)&&i.jsx("div",{className:Ne("rounded border p-3 text-sm",ne.status==="error"?"border-destructive/40 bg-destructive/10 text-destructive":"border-muted bg-muted/30 text-muted-foreground"),children:ne.message}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-sm font-medium",children:"Registros recientes"}),i.jsx("div",{ref:ug,className:"max-h-64 overflow-y-auto rounded border border-border/60 bg-black/80 p-3 font-mono text-[11px] leading-5 text-emerald-200",children:pt?pt.split(`
`).map((_,J)=>i.jsx("div",{className:"whitespace-pre-wrap",children:_||" "},J)):i.jsx("p",{className:"text-muted-foreground",children:"Sin registros disponibles todavía."})})]}),i.jsxs("div",{className:"rounded-lg border border-dashed border-muted-foreground/40 bg-muted/20 p-3 text-xs text-muted-foreground",children:[i.jsx("p",{className:"font-semibold text-foreground",children:"Rollback manual"}),i.jsx("p",{children:"En caso de necesitar volver a la versión anterior, ejecuta:"}),i.jsx("pre",{className:"mt-2 whitespace-pre-wrap font-mono text-[11px] leading-5 text-foreground",children:`sudo ln -sfn /opt/bascula/releases/<anterior> /opt/bascula/current
sudo systemctl daemon-reload
sudo systemctl restart bascula-miniweb bascula-ui`})]})]}),i.jsxs(ru,{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[i.jsx(z,{type:"button",variant:"outline",onClick:()=>Ir(!1),disabled:(ne==null?void 0:ne.status)==="running",children:"Cerrar"}),(ne==null?void 0:ne.status)==="error"&&i.jsx(z,{type:"button",variant:"glow",onClick:()=>go(!0),children:"Reintentar"})]})]})}),i.jsx(na,{open:Od,onOpenChange:_=>{Zl(_)},children:i.jsxs(os,{className:"max-w-2xl",children:[i.jsxs(ls,{children:[i.jsx(cs,{className:"text-3xl",children:"Cambiar red Wi-Fi"}),i.jsx(nu,{children:"Ingresa el nombre y la contraseña de la red. Si el teclado interno está activo podrás usarlo tocando los campos."})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-sm font-medium",children:"Nombre de la red (SSID)"}),i.jsx(et,{value:Md,placeholder:"MiRed",readOnly:ir,onClick:()=>{ir&&qr("Nombre de la red Wi-Fi","text","networkModalSSID",!1,void 0,void 0,!1,32)},onChange:_=>{ir||Xl(_.target.value)},className:Ne("text-lg",ir&&"cursor-pointer")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-sm font-medium",children:"Contraseña"}),i.jsx(et,{type:"password",value:Dd,placeholder:"••••••••",readOnly:ir,onClick:()=>{ir&&qr("Contraseña Wi-Fi","password","networkModalPassword",!1,void 0,void 0,!0,63)},onChange:_=>{ir||Jl(_.target.value)},className:Ne("text-lg",ir&&"cursor-pointer")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Deja el campo vacío si la red es abierta."})]}),Gn!=null&&Gn.message?i.jsxs("div",{className:Ne("flex items-start gap-3 rounded-lg border px-4 py-3 text-sm",Gn.type==="error"&&"border-destructive/40 bg-destructive/10 text-destructive",Gn.type==="success"&&"border-emerald-500/30 bg-emerald-500/10 text-emerald-600",Gn.type==="info"&&"border-primary/40 bg-primary/10 text-primary"),children:[Gn.type==="success"?i.jsx(wi,{className:"mt-0.5 h-5 w-5"}):Gn.type==="error"?i.jsx(ta,{className:"mt-0.5 h-5 w-5"}):i.jsx(gb,{className:"mt-0.5 h-5 w-5"}),i.jsx("p",{children:Gn.message})]}):null]}),i.jsxs(ru,{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[i.jsx(z,{type:"button",variant:"outline",size:"lg",className:"w-full sm:w-auto",onClick:()=>{Zl(!1)},children:"Cancelar"}),i.jsx(z,{type:"button",variant:"glow",size:"lg",className:"w-full sm:w-auto",onClick:pk,disabled:ag,children:ag?"Conectando…":"Conectar"})]}),i.jsx(z,{type:"button",variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-foreground",onClick:()=>{Zl(!1),Yl(!0)},children:"¿Necesitas el asistente AP? Ábrelo en una nueva pestaña."})]})]})}),i.jsx(na,{open:ck,onOpenChange:_=>{Yl(_)},children:i.jsxs(os,{className:"max-w-lg",children:[i.jsxs(ls,{children:[i.jsx(cs,{className:"text-2xl",children:"Asistente Wi-Fi clásico"}),i.jsx(nu,{children:"Abriremos el asistente en una nueva pestaña para que nunca pierdas esta pantalla."})]}),i.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsx("p",{children:"1. Pulsa «Abrir asistente» para lanzar la configuración en modo AP."}),i.jsx("p",{children:"2. Sigue las instrucciones y, al terminar, vuelve aquí y toca «Cerrar»."})]}),i.jsxs(ru,{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[i.jsx(z,{type:"button",variant:"outline",size:"lg",className:"w-full sm:w-auto",onClick:()=>{Yl(!1)},children:"Cerrar"}),i.jsx(z,{type:"button",variant:"glow",size:"lg",className:"w-full sm:w-auto",onClick:()=>{window.open("/config","_blank","noopener,noreferrer")},children:"Abrir asistente"})]})]})}),i.jsxs("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:["Versión de la interfaz ",jO]}),i.jsx(yO,{open:G,onClose:()=>Se(!1),value:Nt,onChange:mr,onConfirm:yk,title:Ce.title,type:Ce.type,showDecimal:Ce.showDecimal,min:Ce.min,max:Ce.max,allowEmpty:Ce.allowEmpty,maxLength:Ce.maxLength}),i.jsx(bO,{open:n,onClose:()=>s(!1),currentWeight:t,isCalibrationV2:a.calibrationV2})]})},Lf=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)||t>=1?1:0},EO=({isVoiceActive:e=!1,isWifiConnected:t=!0,glucose:r,glucoseTrend:n,timerSeconds:s,onSettingsClick:a,onTimerClick:o,onVoiceToggle:l,onBackClick:c,showBackButton:d=!1,showTimerButton:f=!1})=>{const m=p=>{const h=Math.floor(p/60),b=p%60;return`${h}:${b.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"flex items-center justify-between border-b-2 border-border bg-card/90 px-5 py-3 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{size:"icon",variant:"ghost",onClick:l,children:e?i.jsx(bb,{className:"h-7 w-7 text-primary"}):i.jsx(PE,{className:"h-7 w-7 text-muted-foreground"})}),t?i.jsx(Gi,{className:"h-7 w-7 text-success"}):i.jsx(Pu,{className:"h-7 w-7 text-destructive"}),d&&i.jsx(z,{size:"icon",variant:"outline",onClick:c,className:"h-10 w-10",children:i.jsx(Nl,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[r!==void 0&&i.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-primary/10 px-5 py-3",children:[i.jsx("span",{className:"text-3xl font-bold text-primary",children:r}),i.jsx("span",{className:"text-base text-muted-foreground",children:"mg/dl"}),n&&i.jsx("span",{className:Ne("text-2xl",n==="up"&&"text-warning",n==="down"&&"text-destructive",n==="stable"&&"text-success"),children:n==="up"?"↑":n==="down"?"↓":"→"})]}),s!==void 0&&i.jsxs(z,{onClick:o,variant:"ghost",className:"gap-2 text-2xl font-mono h-14",children:[i.jsx(Tu,{className:"h-6 w-6"}),m(s)]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[f&&i.jsx(z,{size:"icon",variant:"glow",onClick:o,className:"h-10 w-10 glow-cyan",children:i.jsx(Tu,{className:"h-6 w-6"})}),i.jsx(z,{size:"icon",variant:"ghost",onClick:a,children:i.jsx(mh,{className:"h-7 w-7"})})]})]})},dx=({message:e,type:t="info",onClose:r})=>{if(!e)return null;const s={info:gb,warning:ta,success:wi,error:Rv}[t],a={info:"bg-primary/10 text-primary border-primary/30",warning:"bg-warning/10 text-warning border-warning/30",success:"bg-success/10 text-success border-success/30",error:"bg-destructive/10 text-destructive border-destructive/30"};return i.jsxs("div",{className:Ne("flex items-center gap-3 border-b px-4 py-3 text-sm font-medium transition-smooth",a[t]),children:[i.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("p",{className:"flex-1",children:e}),r&&i.jsx("button",{onClick:r,className:"flex-shrink-0 rounded p-1 hover:bg-background/20",children:i.jsx(Rv,{className:"h-4 w-4"})})]})},_O=({open:e,onClose:t,onStart:r})=>{const[n,s]=u.useState(5),[a,o]=u.useState(0),l=[{label:"1 min",value:60},{label:"5 min",value:300},{label:"10 min",value:600},{label:"15 min",value:900}],c=()=>{const d=n*60+a;d>0&&(r(d),t())};return i.jsx(na,{open:e,onOpenChange:t,children:i.jsxs(os,{className:"max-w-md",children:[i.jsx(ls,{children:i.jsx(cs,{className:"text-2xl",children:"Configurar Temporizador"})}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(z,{size:"icon",variant:"outline",onClick:()=>s(Math.max(0,n-1)),className:"mb-2 h-12 w-12",children:i.jsx(Mv,{className:"h-5 w-5"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-5xl font-bold text-primary",children:n}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"min"})]}),i.jsx(z,{size:"icon",variant:"outline",onClick:()=>s(Math.min(120,n+1)),className:"mt-2 h-12 w-12",children:i.jsx(Dv,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"text-4xl font-bold text-muted-foreground",children:":"}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(z,{size:"icon",variant:"outline",onClick:()=>o(Math.max(0,a-15)),className:"mb-2 h-12 w-12",children:i.jsx(Mv,{className:"h-5 w-5"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-5xl font-bold text-primary",children:a.toString().padStart(2,"0")}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"seg"})]}),i.jsx(z,{size:"icon",variant:"outline",onClick:()=>o(Math.min(59,a+15)),className:"mt-2 h-12 w-12",children:i.jsx(Dv,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.map(d=>i.jsx(z,{variant:"outline",size:"lg",onClick:()=>{s(Math.floor(d.value/60)),o(d.value%60)},children:d.label},d.value))}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(z,{onClick:t,variant:"outline",size:"xl",className:"flex-1",children:[i.jsx(xn,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),i.jsxs(z,{onClick:c,variant:"glow",size:"xl",className:"flex-1",disabled:n===0&&a===0,children:[i.jsx(yb,{className:"mr-2 h-5 w-5"}),"Iniciar"]})]})]})]})})},tk=e=>{const[t,r]=u.useState(!1),[n,s]=u.useState(null);return{speak:u.useCallback(async o=>{if(e)try{r(!0),s(null);const l=Pe.getSettings().voiceId;await Ke.speak(o,l??void 0)}catch(l){console.error("Failed to speak:",l),s("Error al reproducir voz")}finally{r(!1)}},[e]),isSpeaking:t,error:n}},TO=({glucose:e,onClose:t})=>{const[r,n]=u.useState(900),[s,a]=u.useState(!1),{speak:o}=tk(!0);u.useEffect(()=>{o(`Atención: Hipoglucemia detectada. Tu glucosa está en ${e} miligramos por decilitro. Sigue el protocolo 15/15.`)},[o,e]),u.useEffect(()=>{let f;return s&&r>0&&(f=setInterval(()=>{n(m=>m<=1?(a(!1),o("Han pasado 15 minutos. Por favor, mide tu glucosa nuevamente."),0):m-1)},1e3)),()=>clearInterval(f)},[s,r,o]);const l=f=>{const m=Math.floor(f/60),p=f%60;return`${m}:${p.toString().padStart(2,"0")}`},c=()=>{a(!0),o("Temporizador de 15 minutos iniciado")},d=["Consume 15g de carbohidratos rápidos","Ejemplos: 3-4 tabletas de glucosa, 150ml de zumo, o 1 cucharada de miel","Espera 15 minutos","Vuelve a medir tu glucosa","Si sigue baja, repite el proceso"];return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 p-4 backdrop-blur-sm",children:i.jsxs(Qe,{className:"w-full max-w-2xl border-destructive/50 bg-destructive/5 p-8",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"animate-pulse rounded-full bg-destructive/20 p-4",children:i.jsx(TE,{className:"h-16 w-16 text-destructive"})})}),i.jsx("h2",{className:"mb-2 text-4xl font-bold text-destructive",children:"⚠️ HIPOGLUCEMIA"}),i.jsxs("p",{className:"text-2xl font-semibold",children:["Glucosa: ",e," mg/dl"]})]}),i.jsxs("div",{className:"mb-6 space-y-3",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Protocolo 15/15:"}),d.map((f,m)=>i.jsxs("div",{className:"flex items-start gap-3 rounded-lg bg-muted/30 p-4",children:[i.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-destructive/20 text-lg font-bold text-destructive",children:m+1}),i.jsx("p",{className:"text-lg",children:f})]},m))]}),s&&i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Tiempo restante:"}),i.jsx("p",{className:"text-6xl font-bold text-destructive",children:l(r)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(z,{onClick:t,variant:"outline",size:"xl",className:"text-xl",children:[i.jsx(xn,{className:"mr-2 h-6 w-6"}),"Cancelar"]}),s?i.jsx(z,{onClick:()=>a(!1),variant:"warning",size:"xl",className:"text-xl",children:"Pausar"}):i.jsxs(z,{onClick:c,variant:"destructive",size:"xl",className:"text-xl",children:[i.jsx(Sl,{className:"mr-2 h-6 w-6"}),"Iniciar Temporizador"]})]})]})})},rk=()=>{const[e,t]=u.useState(!1),{toast:r}=Cn(),n=async()=>{t(!0);try{await Ke.applyOtaUpdate(),r({title:"Actualización iniciada",description:"La reinstalación se está ejecutando en segundo plano"}),setTimeout(()=>{window.location.reload()},15e3)}catch(o){o instanceof Et&&o.status===409?r({title:"Actualización en curso",description:"Ya hay un proceso de reinstalación activo"}):r({title:"Error",description:"No se pudo iniciar la actualización",variant:"destructive"}),t(!1)}},s=()=>{r({title:"Reiniciando sistema",description:"Por favor espera..."}),setTimeout(()=>{window.location.reload()},3e3)},a=()=>{localStorage.removeItem("recovery_mode"),localStorage.removeItem("last_error"),localStorage.removeItem("update_error"),"caches"in window&&caches.open("recovery-cache").then(o=>{o.delete(new Request("/recovery-flag"))}),r({title:"Reiniciando aplicación",description:"Intentando cargar normalmente..."}),setTimeout(()=>{window.location.reload()},1e3)};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-8",children:i.jsxs(Qe,{className:"w-full max-w-2xl border-warning/50 bg-warning/5 p-8",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-warning/20 p-6",children:i.jsx(ta,{className:"h-20 w-20 text-warning"})})}),i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"Modo Recovery"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Se ha detectado un problema al iniciar la aplicación"})]}),i.jsxs("div",{className:"mb-8 space-y-4 rounded-lg border border-border p-6",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Posibles causas:"}),i.jsxs("ul",{className:"list-inside list-disc space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Actualización OTA incompleta o corrupta"}),i.jsx("li",{children:"Error de configuración del sistema"}),i.jsx("li",{children:"Problema de conexión con hardware"}),i.jsx("li",{children:"Archivos del sistema dañados"})]}),localStorage.getItem("last_error")&&i.jsx("div",{className:"mt-4 rounded-lg bg-destructive/10 p-4",children:i.jsx("p",{className:"text-sm font-mono text-destructive",children:JSON.parse(localStorage.getItem("last_error")||"{}").message})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(z,{onClick:a,variant:"glow",size:"xl",className:"w-full text-xl",children:[i.jsx(xb,{className:"mr-2 h-6 w-6"}),"Reintentar Cargar App"]}),i.jsxs(z,{onClick:n,disabled:e,variant:"secondary",size:"xl",className:"w-full text-xl",children:[i.jsx(Gc,{className:"mr-2 h-6 w-6"}),e?"Actualizando...":"Reinstalar Última Versión"]}),i.jsxs(z,{onClick:s,variant:"outline",size:"xl",className:"w-full text-xl",children:[i.jsx(wE,{className:"mr-2 h-6 w-6"}),"Reiniciar Sistema"]})]}),i.jsx("div",{className:"mt-8 rounded-lg border-warning/50 bg-warning/5 p-4",children:i.jsxs("p",{className:"text-center text-sm",children:[i.jsx("strong",{children:"¿Problemas persistentes?"}),i.jsx("br",{}),"Accede a la mini-web desde otro dispositivo para reconfigurar el sistema."]})})]})})},Jn={ssid:"Bascula-AP",ip:"192.168.4.1",httpPort:8080,configPath:"/config"},nk=()=>{const e="Bascula1234",[t,r]=u.useState(null),[n,s]=u.useState(!0),[a,o]=u.useState(null),[l,c]=u.useState(null),[d,f]=u.useState(null),[m,p]=u.useState(!1),h=u.useRef(!1),b=u.useCallback(()=>{var T;return typeof window>"u"||!((T=window.location)!=null&&T.origin)?"/":`${window.location.origin.replace(/\/+$/,"")}/`},[]);u.useEffect(()=>{let T=!1;return(async()=>{s(!0);try{const R=await fetch("/api/ap/info",{cache:"no-store"});if(!R.ok)throw new Error(`Failed to load AP info: ${R.status}`);const V=await R.json();if(T)return;const L=typeof V.ssid=="string"&&V.ssid.trim()?V.ssid.trim():Jn.ssid;let le;if(typeof V.httpPort=="number")le=V.httpPort;else if(typeof V.httpPort=="string"){const E=Number.parseInt(V.httpPort,10);Number.isFinite(E)&&(le=E)}const re=typeof le=="number"&&Number.isFinite(le)&&le>0?le:Jn.httpPort,X=typeof V.ip=="string"&&V.ip.trim()?V.ip.trim():Jn.ip,P=typeof V.configPath=="string"&&V.configPath.trim()?V.configPath.trim():Jn.configPath;r({ssid:L,ip:X,httpPort:re,configPath:P})}catch{if(T)return;r({...Jn})}finally{T||s(!1)}})(),()=>{T=!0}},[]),u.useEffect(()=>{let T=!0;const F=async()=>{try{const V=await fetch("/api/miniweb/pin");if(V.ok){const L=await V.json();if(!T)return;L!=null&&L.pin?(o(L.pin),c(null)):(o(null),c("PIN no disponible en este momento"))}else if(V.status===403){if(!T)return;o(null),c("El PIN se muestra directamente en la pantalla del dispositivo")}else{if(!T)return;o(null),c("No se pudo obtener el PIN. Verifica la conexión.")}}catch{if(!T)return;o(null),c("No se pudo obtener el PIN. Verifica la conexión.")}};F();const R=window.setInterval(F,1e4);return()=>{T=!1,window.clearInterval(R)}},[]),u.useEffect(()=>{if(typeof window>"u")return;const T=rt.getBaseUrl(),F=window.location.origin;let R=null,V;try{const E=T&&T.trim()||F||"";if(!E)return;const K=new URL("/api/net/events",E).toString();R=new EventSource(K)}catch(E){fe.debug("No se pudo iniciar el stream SSE de red",{error:E});return}const L=()=>{if(h.current)return;h.current=!0;const E=b();V=window.setTimeout(()=>{try{window.location.replace(E)}catch(K){fe.warn("No se pudo redirigir tras wifi_connected",{error:K})}},1500)},le=E=>{let K="Conectado. Reiniciando…";try{const O=E.data;if(typeof O=="string"&&O.trim()){const de=JSON.parse(O),G=typeof de.ssid=="string"?de.ssid:void 0;G&&(K=`Conectado a ${G}. Reiniciando…`)}}catch(O){fe.debug("No se pudo parsear evento wifi_connected",{error:O})}f({type:"success",msg:K}),L()},re=E=>{let K="No se pudo conectar";try{const O=E.data;if(typeof O=="string"&&O.trim()){const de=JSON.parse(O),G=typeof de.message=="string"?de.message:void 0,Se=typeof de.code=="string"?de.code:void 0;G?K=G:Se&&(K=`No se pudo conectar (${Se})`)}}catch(O){fe.debug("No se pudo parsear evento wifi_failed",{error:O})}f({type:"error",msg:K})},X=E=>{le(E)},P=E=>{re(E)};return R.addEventListener("wifi_connected",X),R.addEventListener("wifi_failed",P),R.onerror=E=>{fe.debug("SSE de red reportó un error",{event:E})},()=>{V!==void 0&&window.clearTimeout(V),R==null||R.removeEventListener("wifi_connected",X),R==null||R.removeEventListener("wifi_failed",P),R==null||R.close()}},[h,b]),u.useEffect(()=>{if(typeof window>"u")return;let T=!1;const F=async()=>{const V=()=>{if(!h.current){h.current=!0;try{window.location.replace(b())}catch(L){fe.warn("No se pudo redirigir tras detectar modo kiosk",{error:L})}}};try{const L=await Ke.miniwebStatus(),le=typeof(L==null?void 0:L.effective_mode)=="string"?L.effective_mode.trim().toLowerCase():typeof(L==null?void 0:L.mode)=="string"?L.mode.trim().toLowerCase():null;if(!T&&!h.current){if(le==="kiosk"){V();return}if(le==="offline"){h.current=!0;const X=`${b().replace(/\/+$/,"")}/offline`;window.location.replace(X);return}}}catch(L){fe.debug("Fallo al consultar miniweb status durante polling",{error:L})}},R=window.setInterval(()=>{F()},4e3);return F(),()=>{T=!0,window.clearInterval(R)}},[h,b]);const g=t??Jn,w=typeof g.configPath=="string"&&g.configPath.trim()?g.configPath.trim():Jn.configPath??"/config",y=w.startsWith("/")?w:`/${w}`,x=`${`http://${g.ip}:${g.httpPort}`}${y}`,N=n?"Cargando…":g.ssid,S=`http://${Jn.ip}:${Jn.httpPort}`,C=n?`${S}${y}`:x,j=async T=>{try{const F=await T.json();if(typeof(F==null?void 0:F.detail)=="string"&&F.detail.trim())return F.detail.trim();if(typeof(F==null?void 0:F.message)=="string"&&F.message.trim())return F.message.trim()}catch(F){fe.debug("No se pudo interpretar la respuesta del backend",{error:F})}return`Error ${T.status}`},A=async()=>{if(!m){p(!0),f(null);try{const T=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui:{offline_mode:!0}})});if(!T.ok){const R=await j(T);throw new Error(R)}f({type:"success",msg:"Modo offline activado. Abriendo la app sin conexión…"}),h.current=!0;const F=b().replace(/\/+$/,"");window.location.replace(`${F}/offline`)}catch(T){const F=T instanceof Error&&T.message?T.message:"No se pudo activar el modo offline.";fe.error("No se pudo activar el modo offline desde la pantalla AP",{error:T}),f({type:"error",msg:F})}finally{p(!1)}}},M=()=>{if(!(typeof window>"u"))try{window.location.assign("/config")}catch(T){fe.warn("No se pudo abrir /config desde la pantalla AP",{error:T})}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-8",children:i.jsxs(Qe,{className:"w-full max-w-2xl border-primary/30 p-8 glow-cyan",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(Gi,{className:"h-20 w-20 text-primary"})})}),i.jsxs("h1",{className:"mb-4 text-4xl font-bold",children:["Conéctate a «",N,"»"]}),i.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[i.jsx("p",{className:"text-lg",children:"Usa tu móvil, tablet o PC para conectarte a la red Wi-Fi creada por la báscula."}),i.jsxs("p",{className:"text-lg",children:["También puedes configurar desde ",i.jsx("span",{className:"font-mono text-primary",children:"http://IP/config"})," si tienes cable Ethernet conectado."]})]})]}),d&&i.jsxs("div",{className:`mb-8 rounded-lg border p-4 text-left text-sm ${d.type==="success"?"border-emerald-400/40 bg-emerald-500/10 text-emerald-50":"border-destructive/40 bg-destructive/10 text-destructive"}`,children:[i.jsx("p",{className:"font-semibold",children:d.type==="success"?"Conexión exitosa":"Error de conexión"}),i.jsx("p",{className:"mt-1 text-muted-foreground/80 dark:text-foreground/70",children:d.msg})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-6",children:[i.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Datos del punto de acceso"}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nombre de la red (SSID)"}),i.jsx("p",{className:"text-2xl font-bold text-primary",children:N})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Contraseña"}),i.jsx("p",{className:"text-2xl font-bold",children:e})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"IP local de la báscula"}),i.jsx("p",{className:"text-lg font-mono",children:g.ip})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Miniweb de ajustes"}),i.jsx("a",{href:C,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-mono text-primary underline-offset-4 hover:underline",children:C})]})]}),i.jsxs("div",{className:"mt-4 flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/10 p-2",children:i.jsx(vb,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"PIN de acceso"}),i.jsx("p",{className:`text-2xl font-bold ${a?"text-primary":l?"text-destructive":""}`,children:a??(l?"PIN no disponible":"Cargando...")}),l&&!a&&i.jsx("p",{className:"text-sm text-destructive",children:l})]})]})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs(z,{onClick:M,variant:"glow",size:"xl",className:"w-full text-lg",children:[i.jsx(Gi,{className:"mr-2 h-6 w-6"}),"Configurar Wi-Fi"]}),i.jsx(z,{onClick:A,disabled:m,variant:"secondary",size:"xl",className:"w-full text-lg",children:m?i.jsxs(i.Fragment,{children:[i.jsx(Rt,{className:"mr-2 h-6 w-6 animate-spin"}),"Activando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pu,{className:"mr-2 h-6 w-6"}),"Modo Offline"]})})]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/60 bg-muted/20 p-6",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Pasos para configurar"}),i.jsxs("ol",{className:"space-y-3",children:[i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"1"}),i.jsxs("p",{children:["Conéctate a ",i.jsx("strong",{children:N})," desde tu dispositivo."]})]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"2"}),i.jsxs("p",{children:["Usa la contraseña: ",i.jsx("strong",{children:e})]})]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"3"}),i.jsxs("p",{children:["Abre ",i.jsx("strong",{children:C})]})]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"4"}),i.jsx("p",{children:"Introduce el PIN mostrado arriba y guarda tu red doméstica. La báscula volverá al modo normal automáticamente."})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"También puedes abrir la misma dirección desde otro dispositivo conectado a Bascula-AP para completar la configuración."})]}),i.jsx("div",{className:"rounded-lg border border-primary/40 bg-primary/5 p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Pu,{className:"mt-1 h-5 w-5 text-primary"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"font-semibold text-primary",children:"¿Sin conexión a Internet?"}),i.jsx("p",{className:"text-muted-foreground",children:"Activa el modo offline para usar la báscula sin red. Cuando tengas Internet, el sistema volverá automáticamente al modo normal."})]})]})})]})]})})},PO=()=>{const[e,t]=u.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return u.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)"),n=s=>{t(s.matches)};return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e},sk=u.forwardRef(({isActive:e=!1,message:t,position:r="corner",mood:n="normal",enableVoice:s=!1},a)=>{const[o,l]=u.useState(!1),[c,d]=u.useState(t),[f,m]=u.useState(n),[p,h]=u.useState(!1),[b,g]=u.useState(!1),{speak:w,isSpeaking:y}=tk(s),v=PO(),x=bS("mascotMotion")&&!v,N=u.useRef(),S=u.useRef(),C=u.useRef();if(u.useImperativeHandle(a,()=>({react:(T,F=1e3)=>{m(T),C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{m("normal")},F)},speakStart:()=>h(!0),speakEnd:()=>h(!1),setMessage:T=>{d(T),T&&(l(!0),setTimeout(()=>l(!1),4e3))}}),[]),u.useEffect(()=>{if(t){d(t),l(!0),s&&w(t);const T=setTimeout(()=>l(!1),4e3);return()=>clearTimeout(T)}},[t,s,w]),u.useEffect(()=>{h(y)},[y]),u.useEffect(()=>{m(n)},[n]),u.useEffect(()=>{if(!x||f==="sleeping")return;const T=()=>{const F=5e3+Math.random()*3e3;N.current=setTimeout(()=>{g(!0),setTimeout(()=>g(!1),300),T()},F)};return T(),()=>{N.current&&clearTimeout(N.current)}},[x,f]),u.useEffect(()=>()=>{N.current&&clearTimeout(N.current),S.current&&clearTimeout(S.current),C.current&&clearTimeout(C.current)},[]),!e)return null;const j=()=>{const F=(()=>{switch(f){case"happy":return{body:"fill-success",accent:"fill-success-foreground"};case"worried":return{body:"fill-warning",accent:"fill-warning-foreground"};case"alert":return{body:"fill-destructive",accent:"fill-destructive-foreground"};case"sleeping":return{body:"fill-muted",accent:"fill-muted-foreground"};default:return{body:"fill-primary",accent:"fill-secondary"}}})();return i.jsxs("svg",{viewBox:"0 0 100 100",className:"h-full w-full",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("ellipse",{cx:"50",cy:"50",rx:"35",ry:"25",className:F.body}),i.jsx("path",{d:"M 15 50 Q 5 40, 8 35 Q 10 45, 10 50 Q 10 55, 8 65 Q 5 60, 15 50 Z",className:F.accent}),i.jsx("path",{d:"M 45 25 Q 42 15, 50 18 Q 58 15, 55 25 Z",className:F.accent}),i.jsx("path",{d:"M 45 75 Q 42 85, 50 82 Q 58 85, 55 75 Z",className:F.accent}),i.jsx("path",{d:"M 30 45 Q 35 40, 40 45 Q 35 50, 30 45 Z",className:F.accent,opacity:"0.6"}),i.jsx("path",{d:"M 30 55 Q 35 50, 40 55 Q 35 60, 30 55 Z",className:F.accent,opacity:"0.6"}),i.jsxs("g",{id:"mascot-eyes",children:[i.jsx("ellipse",{cx:"60",cy:"45",rx:"6",ry:b?"1":"7",fill:"white",className:Ne("transition-all duration-100",f==="sleeping"&&"opacity-30")}),f!=="sleeping"&&i.jsx("ellipse",{cx:"62",cy:"45",rx:"3",ry:b?"1":"4",fill:"black",className:"transition-all duration-100",children:p&&x&&i.jsx("animate",{attributeName:"ry",values:"4;2;4",dur:"0.3s",repeatCount:"indefinite"})})]}),i.jsx("g",{id:"mascot-mouth",className:Ne(p&&x&&"mascot-talk origin-center"),style:{transformOrigin:"75px 54px"},children:i.jsx("path",{d:f==="happy"?"M 70 52 Q 75 57, 80 52":f==="worried"?"M 70 57 Q 75 52, 80 57":"M 70 54 L 80 54",stroke:"black",strokeWidth:"2",fill:"none"})}),o&&x&&i.jsxs(i.Fragment,{children:[i.jsx("circle",{cx:"85",cy:"35",r:"3",fill:"white",opacity:"0.7",children:i.jsx("animate",{attributeName:"cy",values:"35;25;35",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"90",cy:"40",r:"2",fill:"white",opacity:"0.5",children:i.jsx("animate",{attributeName:"cy",values:"40;30;40",dur:"2.5s",repeatCount:"indefinite"})})]})]})},A=()=>c?i.jsx("div",{className:Ne("mb-3 max-w-xs rounded-2xl bg-card/95 border border-primary/30 backdrop-blur-sm p-4 text-sm text-card-foreground shadow-xl transition-all duration-500",o?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-95"),"aria-hidden":"true",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-primary text-lg",children:"💬"}),i.jsx("p",{className:"flex-1",children:c})]})}):null,M=()=>{if(!x)return"";switch(f){case"happy":return"mascot-bounce";case"worried":return"mascot-sway";case"alert":return"mascot-shake";case"sleeping":return"";default:return""}};return i.jsxs("div",{className:Ne("fixed z-50 transition-all duration-500",r==="corner"?"top-32 right-20":"bottom-1/2 left-1/2 -translate-x-1/2 translate-y-1/2"),style:{pointerEvents:"none"},"aria-hidden":"true",children:[i.jsx(A,{}),i.jsxs("div",{className:Ne("relative flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 backdrop-blur-sm border-2 border-primary/30 shadow-2xl transition-all duration-500",x&&"glow-cyan mascot-float",o&&"scale-110",f==="sleeping"&&"opacity-60",M()),children:[i.jsx("div",{className:Ne("h-20 w-20 transition-transform duration-300",o&&"scale-110"),style:{animation:f==="sleeping"&&x?"pulse 3s ease-in-out infinite":void 0},children:i.jsx(j,{})}),o&&f!=="sleeping"&&x&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-primary/20"}),i.jsx("div",{className:"absolute inset-0 animate-pulse rounded-full bg-secondary/10"})]}),i.jsx("div",{className:Ne("absolute -top-1 -right-1 h-4 w-4 rounded-full border-2 border-background",f==="happy"&&"bg-success animate-pulse",f==="worried"&&"bg-warning animate-pulse",f==="alert"&&"bg-destructive animate-ping",f==="normal"&&"bg-primary",f==="sleeping"&&"bg-muted")})]})]})});sk.displayName="BasculinMascot";const AO=(e,t=70,r=180)=>{const[n,s]=u.useState(null),[a,o]=u.useState(!1),[l,c]=u.useState(null),{toast:d}=Cn();return u.useEffect(()=>{const m=!!Pe.getSettings().nightscoutUrl;if(!e||!m){fe.debug("Glucose monitor disabled",{enabled:e,isConfigured:m});return}const p=async()=>{try{o(!0);const b=await Ke.getGlucose();s(b),c(null),fe.info("Glucose data fetched",{glucose:b.glucose}),b.glucose<t?d({title:"⚠️ Hipoglucemia Detectada",description:`Glucosa: ${b.glucose} mg/dl`,variant:"destructive",duration:1e4}):b.glucose>r&&d({title:"⚠️ Hiperglucemia Detectada",description:`Glucosa: ${b.glucose} mg/dl`,variant:"destructive",duration:1e4})}catch(b){if(b instanceof Et&&b.code==="NOT_CONFIGURED"){fe.debug("Nightscout not configured");return}fe.error("Failed to fetch glucose",{error:b}),c("Error al obtener datos de glucosa")}finally{o(!1)}};p();const h=setInterval(p,5*60*1e3);return()=>clearInterval(h)},[e,t,r,d]),!e||!n?null:{...n,isLoading:a,error:l}};class RO{constructor(){jr(this,"checkInterval",null);jr(this,"listeners",[]);jr(this,"currentStatus",{isOnline:navigator.onLine,isWifiConnected:!1,ethernetConnected:!1,apActive:!1,connectivity:"unknown",savedWifiProfiles:!1,showAPScreen:!1,offlineModeEnabled:!1,effectiveMode:"unknown",hasInternet:!1});jr(this,"eventSource",null);this.setupListeners()}setupListeners(){window.addEventListener("online",()=>{fe.info("Browser detected online"),this.checkNetworkStatus()}),window.addEventListener("offline",()=>{fe.warn("Browser detected offline"),this.checkNetworkStatus()})}setupEventStream(){if(!(this.eventSource||typeof window>"u"))try{const t=new EventSource("/api/net/events");t.addEventListener("status",()=>{this.checkNetworkStatus()}),t.addEventListener("wifi_connected",()=>{this.checkNetworkStatus()}),t.addEventListener("wifi_failed",()=>{this.checkNetworkStatus()}),t.onerror=r=>{fe.debug("NetworkDetector SSE reported an error",{event:r}),t.close(),this.eventSource=null,setTimeout(()=>this.setupEventStream(),5e3)},this.eventSource=t}catch(t){fe.warn("Unable to open network status stream",{error:t})}}async checkNetworkStatus(){const t=navigator.onLine;let r=this.currentStatus.isWifiConnected,n=this.currentStatus.ssid,s=this.currentStatus.ip,a=this.currentStatus.apActive,o=this.currentStatus.connectivity,l=this.currentStatus.savedWifiProfiles,c=this.currentStatus.showAPScreen,d=this.currentStatus.ethernetConnected,f=this.currentStatus.offlineModeEnabled,m=this.currentStatus.effectiveMode,p=this.currentStatus.hasInternet;if(t)try{const b=await fetch("/api/miniweb/status",{method:"GET",signal:AbortSignal.timeout(5e3)});if(b.ok){const g=await b.json();n=typeof g.ssid=="string"&&g.ssid?g.ssid:void 0,typeof g.ip=="string"&&g.ip?s=g.ip:typeof g.ip_address=="string"&&g.ip_address&&(s=g.ip_address);const w=typeof g.connectivity=="string"?g.connectivity.toLowerCase():"unknown";if((w==="full"||w==="limited"||w==="portal"||w==="none")&&(o=w),a=g.ap_active===!0,l=g.saved_wifi_profiles===!0,r=(typeof g.connected=="boolean"?g.connected:void 0)??o==="full",g.wifi&&typeof g.wifi=="object"){const x=g.wifi;typeof x.connected=="boolean"&&(r=x.connected),!s&&typeof x.ip=="string"&&x.ip.trim()&&(s=x.ip.trim())}f=g.offline_mode===!0,d=g.ethernet_connected===!0;const v=typeof g.effective_mode=="string"?g.effective_mode.trim().toLowerCase():"";v==="ap"||v==="kiosk"||v==="offline"?m=v:m="unknown",p=g.internet===!0||o==="full",c=m==="ap",fe.info("Network status fetched",{connectivity:o,apActive:a,savedWifiProfiles:l,isWifiConnected:r,ssid:n,ip:s,ethernetConnected:d,offlineModeEnabled:f,effectiveMode:m})}}catch(b){fe.warn("Cannot reach backend, assuming disconnected",{error:b})}else c=a,p=!1;const h={isOnline:t,isWifiConnected:r,ethernetConnected:d,apActive:a,connectivity:o,savedWifiProfiles:l,showAPScreen:c,offlineModeEnabled:f,effectiveMode:m,hasInternet:p,ssid:n,ip:s};return JSON.stringify(h)!==JSON.stringify(this.currentStatus)&&(this.currentStatus=h,this.notifyListeners(h),c?fe.warn("BasculaAP active; showing AP provisioning screen"):fe.info("AP provisioning screen not required")),h}notifyListeners(t){this.listeners.forEach(r=>r(t))}startMonitoring(t=3e3){this.checkInterval&&this.stopMonitoring(),fe.info("Starting network monitoring",{intervalMs:t}),this.setupEventStream(),this.checkNetworkStatus(),this.checkInterval=setInterval(()=>{this.checkNetworkStatus()},t)}stopMonitoring(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null,fe.info("Network monitoring stopped")),this.eventSource&&(this.eventSource.close(),this.eventSource=null)}subscribe(t){this.listeners.push(t),t(this.currentStatus)}unsubscribe(t){this.listeners=this.listeners.filter(r=>r!==t)}getCurrentStatus(){return{...this.currentStatus}}}const Ic=new RO,IO=()=>{const[e,t]=u.useState("menu"),[r,n]=u.useState(!1),[s,a]=u.useState(void 0),[o,l]=u.useState(""),[c,d]=u.useState(!1),[f,m]=u.useState(!0),[p,h]=u.useState(!1),[b,g]=u.useState(!1),[w,y]=u.useState(!1),[v,x]=u.useState(null),[N,S]=u.useState(null),[C,j]=u.useState(),[A,M]=u.useState("normal"),[T,F]=u.useState(()=>Pe.getSettings().wakeWordEnabled??!1),[R,V]=u.useState(null),[L,le]=u.useState(!1),re=u.useRef(null),X=u.useRef(null),P=u.useRef(null),E=u.useRef(null),K=Ga(),O=AO(f);u.useEffect(()=>{O&&O.glucose<70&&f?(h(!0),M("alert"),j("¡Alerta! Glucosa baja detectada")):O&&O.glucose>=70&&O.glucose<=180?M("happy"):O&&O.glucose>180&&M("worried")},[O,f]),u.useEffect(()=>{if(!(localStorage.getItem("recovery_mode")==="true"))return;let W=!1;return(async()=>{try{if(!(await fetch("/api/miniweb/status",{cache:"no-store"})).ok)return}catch(D){console.error("Backend unreachable, enabling recovery mode",D),W||g(!0);return}})(),()=>{W=!0}},[]),u.useEffect(()=>{const $=W=>{x(W),y(W.showAPScreen);const oe=re.current;if(W.effectiveMode==="offline")S({message:"Modo offline: sin conexión a Internet",type:"warning"}),M("worried"),j("Modo offline activo");else if(W.showAPScreen)S({message:"Modo punto de acceso activo para provisión de Wi-Fi",type:"info"}),M("alert"),j("Configura la Wi-Fi desde el modo AP");else if(W.connectivity==="full")if(!oe||oe.connectivity!=="full"||oe.showAPScreen){const D=W.ssid?`Conectado a ${W.ssid}`:"Conectado a Internet";S({message:D,type:"success"}),M("happy"),j("¡WiFi conectado!")}else S(null);else!W.showAPScreen&&W.savedWifiProfiles?(!oe||oe.connectivity==="full"||oe.showAPScreen)&&(S({message:"Sin conexión (reintentando)",type:"warning"}),M("worried"),j("Reintentando conexión Wi-Fi…")):S(null);re.current=W};return Ic.subscribe($),Ic.startMonitoring(2500),()=>{Ic.unsubscribe($),Ic.stopMonitoring()}},[]);const de=u.useCallback(async $=>{a($),n(!1),j("Temporizador iniciado"),M("happy");try{await Ke.startTimer($)}catch(W){console.error("Failed to start timer:",W),M("worried"),j("Error al iniciar temporizador")}},[]),G=()=>{t("menu"),a(void 0),M("sleeping"),j(void 0)},Se=$=>{console.log("Index: Changing view from",e,"to",$),t($)},Ce=u.useCallback(async $=>{var D;if($.type==="wake"){const H=new Date($.ts*1e3).toISOString();V(te=>({enabled:!0,running:!0,last_wake_ts:H,wake_count:((te==null?void 0:te.wake_count)??0)+1,intent_count:(te==null?void 0:te.intent_count)??0,errors:te==null?void 0:te.errors,backend:(te==null?void 0:te.backend)??null})),le(!0),M("alert"),X.current&&window.clearTimeout(X.current),X.current=window.setTimeout(()=>{le(!1),M(te=>te==="alert"?"normal":te),X.current=null},3500);return}if($.type!=="intent"||!$.intent)return;const W=new Date($.ts*1e3).toISOString();V(H=>({enabled:(H==null?void 0:H.enabled)??!0,running:(H==null?void 0:H.running)??!0,last_wake_ts:W,wake_count:(H==null?void 0:H.wake_count)??0,intent_count:((H==null?void 0:H.intent_count)??0)+1,errors:H==null?void 0:H.errors,backend:(H==null?void 0:H.backend)??null}));const oe=$.intent;switch(le(!1),X.current&&(window.clearTimeout(X.current),X.current=null),oe.kind){case"timer":{const H=oe.seconds??0;if(H<=0){j("No entendí el temporizador."),M("worried");return}await de(H);const te=Math.floor(H/60),Q=H%60;let me;te>0&&Q>0?me=`Temporizador de ${te} minuto${te===1?"":"s"} y ${Q} segundo${Q===1?"":"s"}.`:te>0?me=`Temporizador de ${te} minuto${te===1?"":"s"}.`:me=`Temporizador de ${H} segundo${H===1?"":"s"}.`,j(me),M("happy");return}case"weight_status":{try{const H=await Ke.getScaleWeight(),te=typeof H.value=="number"?H.value:null;if(te!==null){const Q=Jr(te,K),me=Q==="–"?Q:`${Q} gramos`;j(`Peso estable: ${me}.`),M("happy")}else j("No detecto peso estable ahora mismo."),M("worried")}catch(H){console.error("Failed to read weight",H),j("No pude consultar la báscula."),M("worried")}return}case"tare":{try{await Ke.scaleTare(),j("Báscula a cero."),M("happy")}catch(H){console.error("Failed to tare scale",H),j("No se pudo poner a cero la báscula."),M("worried")}return}case"recipe_start":{const H=(D=oe.name)==null?void 0:D.trim();t("recipes"),j(H&&H.length>0?`Buscando receta ${H}.`:"Abriendo recetario."),M("happy");return}case"calibrate":{t("settings"),j("Iniciando asistente de calibración."),M("happy"),typeof window<"u"&&window.dispatchEvent(new Event("open-calibration-wizard"));return}case"smalltalk":{const H=["Aquí estoy, ¿qué necesitas?","Te escucho.","Hola, ¿en qué te ayudo?"],te=H[Math.floor(Math.random()*H.length)];j(te),M("happy");return}default:return}},[de,K]);u.useEffect(()=>{let $=!1;return(async()=>{try{const oe=await Ke.getWakeStatus();$||(V(oe),typeof oe.enabled=="boolean"&&F(oe.enabled))}catch(oe){console.warn("Wake status unavailable",oe)}})(),()=>{$=!0}},[]),u.useEffect(()=>{if(typeof window>"u")return;const $=W=>{const oe=W.detail;oe!=null&&oe.settings&&typeof oe.settings.wakeWordEnabled=="boolean"&&F(oe.settings.wakeWordEnabled)};return window.addEventListener("app-settings-updated",$),()=>{window.removeEventListener("app-settings-updated",$)}},[]),u.useEffect(()=>{T||le(!1)},[T]),u.useEffect(()=>()=>{X.current&&(window.clearTimeout(X.current),X.current=null),E.current&&(window.clearTimeout(E.current),E.current=null),P.current&&(P.current.close(),P.current=null)},[]),u.useEffect(()=>{if(!T){E.current&&(window.clearTimeout(E.current),E.current=null),P.current&&(P.current.close(),P.current=null),V(oe=>oe&&{...oe,running:!1});return}let $=!1;const W=()=>{if($)return;const oe=rt.getBaseUrl()||Pe.getSettings().apiUrl;let D;try{D=new URL("/api/voice/wake/events",oe).toString()}catch{D=`${oe.replace(/\/$/,"")}/api/voice/wake/events`}const H=new EventSource(D);P.current=H,H.onopen=()=>{V(Q=>({enabled:!0,running:!0,last_wake_ts:(Q==null?void 0:Q.last_wake_ts)??null,wake_count:(Q==null?void 0:Q.wake_count)??0,intent_count:(Q==null?void 0:Q.intent_count)??0,errors:Q==null?void 0:Q.errors,backend:(Q==null?void 0:Q.backend)??null}))};const te=Q=>{try{const me=JSON.parse(Q.data);Ce(me)}catch(me){console.error("Failed to parse wake event payload",me)}};H.addEventListener("wake",Q=>{te(Q)}),H.addEventListener("intent",Q=>{te(Q)}),H.onmessage=Q=>{te(Q)},H.onerror=()=>{H.close(),P.current===H&&(P.current=null),V(Q=>Q&&{...Q,running:!1}),$||(E.current=window.setTimeout(W,5e3))}};return W(),()=>{$=!0,E.current&&(window.clearTimeout(E.current),E.current=null),P.current&&(P.current.close(),P.current=null)}},[T,Ce]);const qe=()=>{switch(console.log("Index: Rendering view:",e),e){case"menu":return i.jsx(gy,{onNavigate:Se});case"scale":return i.jsx(NR,{onNavigate:Se});case"scanner":return i.jsx(V5,{});case"timer":return i.jsx($5,{onClose:G});case"recipes":return i.jsx(q5,{onClose:G});case"settings":return i.jsx(CO,{});default:return i.jsx(gy,{onNavigate:Se})}},ae=e!=="menu"&&e!=="timer"&&e!=="recipes",ye=!b&&!w;return b?i.jsx(rk,{}):w?i.jsx(nk,{}):i.jsxs("div",{className:"h-screen overflow-hidden bg-background",children:[p&&O&&i.jsx(TO,{glucose:O.glucose,onClose:()=>h(!1)}),i.jsx(sk,{isActive:ye,message:C,position:"corner",mood:A,enableVoice:c}),L&&i.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-24 z-40 flex justify-center",children:i.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-primary/40 bg-background/95 px-5 py-2 text-sm font-medium text-primary shadow-lg",children:[i.jsx("span",{className:"animate-pulse",children:"🎤"}),i.jsx("span",{children:"Te escucho…"})]})}),(v==null?void 0:v.effectiveMode)==="offline"&&i.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-40",children:i.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-amber-400/70 bg-amber-500/10 px-4 py-2 text-sm font-semibold text-amber-200 shadow-lg backdrop-blur",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-400 animate-pulse"}),"Offline"]})}),ae&&i.jsxs(i.Fragment,{children:[i.jsx(EO,{isVoiceActive:c,isWifiConnected:(v==null?void 0:v.connectivity)==="full"?!0:(v==null?void 0:v.isWifiConnected)??!1,glucose:O==null?void 0:O.glucose,glucoseTrend:O==null?void 0:O.trend,timerSeconds:s,onSettingsClick:()=>t("settings"),onTimerClick:()=>n(!0),onVoiceToggle:()=>d(!c),onBackClick:G,showBackButton:!0,showTimerButton:e==="scale"||e==="scanner"}),N&&i.jsx(dx,{message:N.message,type:N.type,onClose:()=>S(null)}),o&&i.jsx(dx,{message:o,type:"info",onClose:()=>l("")})]}),i.jsx("div",{className:ae?"h-[calc(100vh-60px)] overflow-y-auto":"h-screen",children:qe()}),i.jsx(_O,{open:r,onClose:()=>n(!1),onStart:de})]})},OO=e=>{const t=Math.max(0,Math.floor(e)),r=Math.floor(t/60).toString().padStart(2,"0"),n=(t%60).toString().padStart(2,"0");return`${r}:${n}`},MO=()=>{var t;return typeof window>"u"||!((t=window.location)!=null&&t.origin)?"http://192.168.4.1/config":`${window.location.origin.replace(/\/+$/,"")}/config`},DO=()=>{const{weight:e,isStable:t,unit:r,isConnected:n}=Wl(),s=Ga(),[a,o]=u.useState("g"),[l,c]=u.useState(5),[d,f]=u.useState(!1),[m,p]=u.useState(0),[h,b]=u.useState(!1),g=u.useMemo(()=>e,[a,r,e]);u.useEffect(()=>{let S=!1;const C=async()=>{try{const A=await Ke.getTimerStatus();if(S)return;f(A.running),p(A.remaining??0)}catch{S||(f(!1),p(0))}};C();const j=window.setInterval(()=>{C()},1e3);return()=>{S=!0,window.clearInterval(j)}},[]);const w=()=>{o(S=>S==="g"?"ml":"g"),navigator.vibrate&&navigator.vibrate(30)},y=async()=>{try{await Ke.scaleTare()}catch(S){console.warn("No se pudo aplicar la tara en modo offline",S)}},v=async S=>{const C=Number.isFinite(S)?Math.max(.1,S):1,j=Math.round(C*60);b(!0);try{await Ke.startTimer(j),f(!0),p(j),c(C)}catch(A){console.warn("No se pudo iniciar el temporizador en modo offline",A)}finally{b(!1)}},x=async()=>{b(!0);try{await Ke.stopTimer(),f(!1),p(0)}catch(S){console.warn("No se pudo detener el temporizador en modo offline",S)}finally{b(!1)}},N=MO();return i.jsx("div",{className:"min-h-screen bg-background px-4 py-8",children:i.jsxs("div",{className:"mx-auto flex max-w-4xl flex-col gap-6",children:[i.jsx(Qe,{className:"border-amber-300/30 bg-amber-500/5 p-6 text-amber-100",children:i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"rounded-full bg-amber-500/20 p-2",children:i.jsx(Pu,{className:"h-6 w-6"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Modo offline activado"}),i.jsx("p",{className:"text-sm text-amber-100/80",children:"Sin conexión a Internet. Puedes pesar y usar el temporizador; las funciones de IA y Nightscout están desactivadas."}),i.jsxs("p",{className:"text-sm text-amber-100/70",children:["Configura la red desde otro dispositivo entrando en ",i.jsx("span",{className:"font-semibold",children:N}),"."]})]})]}),i.jsx(z,{variant:"outline",className:"border-amber-300 text-amber-100 hover:bg-amber-500/20",asChild:!0,children:i.jsxs(tR,{to:"/config",children:[i.jsx(SE,{className:"mr-2 h-4 w-4"})," Abrir configuración"]})})]})}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsxs(Qe,{className:"border-primary/30 bg-background/60 p-6 shadow-lg",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(hs,{className:"h-5 w-5 text-primary"})," Peso actual"]}),i.jsx("span",{className:"rounded-full border border-primary/40 px-3 py-1 text-xs font-medium uppercase tracking-wide text-primary",children:n?"Conectado":"Sin datos"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:`text-7xl font-bold tracking-tight ${t?"text-primary":"text-muted-foreground"}`,children:Jr(g??0,s)}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:`h-2 w-2 rounded-full ${t?"bg-primary":"bg-muted-foreground animate-pulse"}`}),t?"Peso estable":"Estabilizando…"]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(z,{variant:"outline",onClick:y,disabled:!n,children:"Tara"}),i.jsxs(z,{variant:"ghost",onClick:w,children:["Cambiar a ",a==="g"?"ml":"g"]})]})]})]}),i.jsxs(Qe,{className:"border-primary/30 bg-background/60 p-6 shadow-lg",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(Tu,{className:"h-5 w-5 text-primary"})," Temporizador"]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:d?"En marcha":"Detenido"})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"text-5xl font-bold text-primary",children:OO(m)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"El temporizador funciona sin conexión para recordatorios básicos."})]}),i.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[1,3,5].map(S=>i.jsxs(z,{variant:"outline",onClick:()=>void v(S),disabled:h,children:[S," min"]},S))}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(et,{type:"number",min:.1,step:.5,value:l,onChange:S=>c(Number(S.target.value)),className:"flex-1"}),i.jsx(z,{variant:"glow",onClick:()=>void v(l),disabled:h,children:"Iniciar"}),i.jsx(z,{variant:"outline",onClick:()=>void x(),disabled:h||!d,children:"Detener"})]})]})]})]}),i.jsx(Qe,{className:"border-border/60 bg-muted/20 p-5 text-sm text-muted-foreground",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ta,{className:"mt-0.5 h-4 w-4 text-muted-foreground"}),i.jsx("div",{children:i.jsx("p",{children:"Cuando recuperes la conexión a Internet podrás volver a usar las funciones inteligentes desde la opción de configuración."})})]})})]})})},FO=()=>{const e=Bl();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},fx=e=>{let t;const r=new Set,n=(d,f)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const p=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),r.forEach(h=>h(t,p))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=t=e(n,s,l);return l},LO=e=>e?fx(e):fx,zO=e=>e;function VO(e,t=zO){const r=se.useSyncExternalStore(e.subscribe,se.useCallback(()=>t(e.getState()),[e,t]),se.useCallback(()=>t(e.getInitialState()),[e,t]));return se.useDebugValue(r),r}const mx=e=>{const t=LO(e),r=n=>VO(t,n);return Object.assign(r,t),r},$O=e=>e?mx(e):mx,UO=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Math.random().toString(36).slice(2),Rs=$O(e=>({settings:null,networkStatus:null,busy:{},toasts:[],setSettings:t=>e(r=>{const n=t!=null&&t.network&&typeof t.network=="object"?t.network.status:null;return{settings:t,networkStatus:n??r.networkStatus}}),setNetworkStatus:t=>e({networkStatus:t}),setBusy:(t,r)=>e(n=>{const s={...n.busy};return r?s[t]=!0:delete s[t],{busy:s}}),addToast:t=>{const r=t.id??UO();return e(n=>({toasts:[...n.toasts,{...t,id:r}]})),r},removeToast:t=>e(r=>({toasts:r.toasts.filter(n=>n.id!==t)})),clearToasts:()=>e({toasts:[]})})),BO=e=>e.settings,WO=e=>e.networkStatus,HO=e=>e.toasts,qO={success:"border-green-500 bg-green-50 text-green-900 dark:border-green-500/80 dark:bg-green-900/40 dark:text-green-50",warning:"border-amber-500 bg-amber-50 text-amber-900 dark:border-amber-500/80 dark:bg-amber-900/40 dark:text-amber-50",error:void 0,info:"border-slate-400 bg-slate-50 text-slate-900 dark:border-slate-500/70 dark:bg-slate-900/40 dark:text-slate-50"},KO={success:"default",warning:"default",error:"destructive",info:"default"},GO=()=>{const e=Rs(HO),t=Rs(n=>n.removeToast),r=u.useRef(new Set);return u.useEffect(()=>{e.forEach(n=>{r.current.has(n.id)||(r.current.add(n.id),zw({title:n.title,description:n.description,variant:KO[n.type]??"default",className:qO[n.type],duration:n.duration??(n.type==="error"?6e3:3500)}),t(n.id))})},[e,t]),null};var QO="Separator",px="horizontal",ZO=["horizontal","vertical"],ak=u.forwardRef((e,t)=>{const{decorative:r,orientation:n=px,...s}=e,a=YO(n)?n:px,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Ze.div,{"data-orientation":a,...l,...s,ref:t})});ak.displayName=QO;function YO(e){return ZO.includes(e)}var ik=ak;const ok=u.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(ik,{ref:s,decorative:r,orientation:t,className:Ne("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));ok.displayName=ik.displayName;const XO={full:"Conectado",limited:"Limitado",offline:"Sin conexión"},hx={full:"bg-emerald-100 text-emerald-900 dark:bg-emerald-500/20 dark:text-emerald-200",limited:"bg-amber-100 text-amber-900 dark:bg-amber-500/20 dark:text-amber-100",offline:"bg-red-100 text-red-900 dark:bg-red-500/20 dark:text-red-200",unknown:"bg-slate-100 text-slate-800 dark:bg-slate-500/20 dark:text-slate-200"},JO=e=>{if(!e)return"unknown";const t=(e.connectivity||"").toLowerCase();return t==="full"||t==="limited"||t==="offline"?t:e.internet===!0?"full":e.online===!0?"limited":"offline"},Fo=e=>typeof e=="string"?e:"",cn=async e=>{try{return await e.json()}catch{return null}},An=e=>{if(typeof e=="string")return e;if(e&&typeof e=="object"){const t=e,r=t.detail??t.message??t.error??t.reason;if(typeof r=="string")return r}},eM=e=>typeof e!="number"?i.jsx(zv,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"}):e>=75?i.jsx(jE,{className:"h-4 w-4 text-emerald-500","aria-hidden":"true"}):e>=45?i.jsx(CE,{className:"h-4 w-4 text-amber-500","aria-hidden":"true"}):i.jsx(zv,{className:"h-4 w-4 text-red-500","aria-hidden":"true"}),zf=(e,t)=>{if(!e)return{stored:!1,value:""};for(const r of t)try{const n=r.path(e);if(typeof n=="string"){if(n==="__stored__")return{stored:!0,value:""};if(n.trim().length>0)return{stored:!1,value:n}}}catch{}return{stored:!1,value:""}},tM=()=>{const e=window.location.hostname,t=window.navigator.userAgent.toLowerCase();return!!(e==="localhost"||e==="127.0.0.1"||e==="::1"||e.endsWith(".local")||t.includes("bascula")||t.includes("raspberry")||t.includes("armv7")||t.includes("aarch64"))},rM=()=>{var Nt,mr,sr;const e=Rs(BO),t=Rs(WO),r=Rs(ee=>ee.setSettings),n=Rs(ee=>ee.setNetworkStatus),s=Rs(ee=>ee.setBusy),a=Rs(ee=>ee.addToast),[o,l]=u.useState(!1),[c,d]=u.useState(!1),[f,m]=u.useState(!1),[p,h]=u.useState(!1),[b,g]=u.useState(!1),[w,y]=u.useState(!1),[v,x]=u.useState(!1),[N,S]=u.useState(!1),[C,j]=u.useState(!1),[A,M]=u.useState([]),[T,F]=u.useState(""),[R,V]=u.useState(null),[L,le]=u.useState(""),[re,X]=u.useState(null),P=u.useRef(!1),E=u.useRef(!1),K=u.useRef(!1),O=u.useRef(!1),[de,G]=u.useState(""),[Se,Ce]=u.useState(!1),[qe,ae]=u.useState(""),[ye,$]=u.useState(""),[W,oe]=u.useState(!1),[D,H]=u.useState(!1),te=u.useMemo(()=>window.location.origin,[]),Q=u.useCallback(ee=>new URL(ee,te).toString(),[te]),me=u.useCallback((ee,Z,we)=>{a({type:ee,title:Z,description:we})},[a]),Mt=u.useCallback(ee=>{const Z=zf(ee,[{path:je=>{var $e;return($e=je==null?void 0:je.network)==null?void 0:$e.openai_api_key}},{path:je=>je==null?void 0:je.openai_api_key},{path:je=>{var $e;return je&&typeof je.integrations=="object"?($e=je.integrations)==null?void 0:$e.openai_api_key:void 0}}]);Ce(Z.stored),P.current||G(Z.stored?"":Z.value);const we=zf(ee,[{path:je=>{var $e;return($e=je==null?void 0:je.diabetes)==null?void 0:$e.nightscout_url}},{path:je=>je==null?void 0:je.nightscout_url},{path:je=>{var $e;return je&&typeof je.diabetes=="object"?($e=je.diabetes)==null?void 0:$e.ns_url:void 0}}]);oe(we.stored),E.current||ae(we.stored?"":we.value);const Me=zf(ee,[{path:je=>{var $e;return($e=je==null?void 0:je.diabetes)==null?void 0:$e.nightscout_token}},{path:je=>je==null?void 0:je.nightscout_token},{path:je=>{var $e;return je&&typeof je.diabetes=="object"?($e=je.diabetes)==null?void 0:$e.ns_token:void 0}}]);H(Me.stored),K.current||$(Me.stored?"":Me.value)},[]),Je=u.useCallback(ee=>{var we,Me;r(ee??null);const Z=ee&&typeof ee.network=="object"?(we=ee.network)==null?void 0:we.status:null;if(n(Z??null),Mt(ee??null),!O.current&&Z){const je=Fo(Z.ssid||((Me=Z.wifi)==null?void 0:Me.ssid));je&&F(je)}},[r,n,Mt]),ut=u.useCallback(async(ee=!0)=>{try{const Z=await fetch(Q("/api/settings"),{cache:"no-store"});if(!Z.ok){const Me=await cn(Z);if(ee){const je=Z.status===422?An(Me)??"Datos inválidos":An(Me)??"No se pudo obtener la configuración.",$e=Z.status===422?"warning":"error";me($e,Z.status===422?"Datos inválidos":"Error al cargar",je)}return!1}const we=await cn(Z);return Je(we??null),!0}catch{return ee&&me("error","Error de red","No se pudo obtener la configuración."),!1}},[me,Je,Q]),k=u.useCallback(async()=>{s("settings",!0),await ut(!0)||M([]),s("settings",!1)},[ut,s]),I=u.useCallback(async()=>{s("settings",!0),l(!0),await ut(!0),l(!1),s("settings",!1)},[ut,s]);u.useEffect(()=>{k()},[k]);const U=u.useCallback(async()=>{var ee;d(!0),s("wifi-scan",!0);try{const Z=await fetch(Q("/api/wifi/scan"),{method:"POST",cache:"no-store"});if(!Z.ok){const je=await cn(Z),$e=An(je)??"No se pudieron escanear las redes.",Jt=Z.status===422?"warning":"error",pr=Z.status===422?"Datos inválidos":"Error al escanear";me(Jt,pr,$e);return}const we=await cn(Z),Me=Array.isArray(we==null?void 0:we.networks)?we.networks:[];if(M(Me),!O.current&&Me.length>0){const je=Fo((t==null?void 0:t.ssid)||((ee=t==null?void 0:t.wifi)==null?void 0:ee.ssid));if(je){const $e=Me.find(Jt=>Jt.ssid===je);$e&&(V($e),F($e.ssid))}}}catch{me("error","Error de red","No se pudo escanear redes Wi-Fi.")}finally{d(!1),s("wifi-scan",!1)}},[me,Q,t,s]),xe=u.useCallback(ee=>{O.current=!0,V(ee),F(ee.ssid),X(null),ee.secured===!1&&le("")},[]),ge=u.useCallback(async()=>{if(!T.trim()){me("warning","Selecciona una red","Elige una red Wi-Fi antes de conectar.");return}const ee={ssid:T};(R==null?void 0:R.secured)===!1?ee.open=!0:(ee.password=L,ee.secured=!0),m(!0),X("Conectando…"),s("wifi-connect",!0);try{const Z=await fetch(Q("/api/wifi/connect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}),we=await cn(Z);if(!Z.ok){const je=An(we)??"No se pudo conectar a la red seleccionada.";Z.status===422?me("warning","Datos inválidos",je):Z.status===401||Z.status===403?me("error","No autorizado",je):me("error","Error al conectar",je),X(je);return}const Me=(we&&typeof we=="object"&&"message"in we&&typeof we.message=="string"?we.message:`Conectado a "${T}"`)??`Conectado a "${T}"`;me("success","Conectado",Me),X(Me),P.current=!1,E.current=!1,K.current=!1,await ut(!1)}catch{me("error","Error de red","No se pudo conectar a la red Wi-Fi."),X("Error de red al conectar.")}finally{m(!1),s("wifi-connect",!1)}},[me,Q,ut,R,T,L]),q=u.useCallback(async ee=>{h(!0),s("offline-mode",!0);try{const Z=await fetch(Q("/api/settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({offline_mode:ee})}),we=await cn(Z);if(!Z.ok){const Me=An(we)??"No se pudo actualizar el modo offline.";Z.status===422?me("warning","Datos inválidos",Me):Z.status===401||Z.status===403?me("error","No autorizado",Me):me("error","Error",Me);return}me("success","Guardado correctamente",ee?"Modo offline activado.":"Modo offline desactivado."),Je(we)}catch{me("error","Error de red","No se pudo actualizar el modo offline.")}finally{h(!1),s("offline-mode",!1)}},[me,Je,Q,s]),he=u.useCallback(async()=>{g(!0),s("openai-save",!0);try{const ee=await fetch(Q("/api/settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({network:{openai_api_key:de.trim()}})}),Z=await cn(ee);if(!ee.ok){const we=An(Z)??"No se pudo guardar la clave de OpenAI.";ee.status===422?me("warning","Datos inválidos",we):ee.status===401||ee.status===403?me("error","No autorizado",we):me("error","Error",we);return}me("success","Guardado correctamente","Clave de OpenAI actualizada."),P.current=!1,Je(Z)}catch{me("error","Error de red","No se pudo guardar la clave de OpenAI.")}finally{g(!1),s("openai-save",!1)}},[me,Je,Q,de,s]),Ve=u.useCallback(async()=>{y(!0),s("openai-test",!0);try{const ee=await fetch(Q("/api/settings/test/openai"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({apiKey:de.trim()||void 0})}),Z=await cn(ee);if(!ee.ok){const Me=An(Z)??"No se pudo verificar la clave de OpenAI.";ee.status===422?me("warning","Datos inválidos",Me):ee.status===401||ee.status===403?me("error","No autorizado",Me):me("error","Error",Me);return}const we=Z&&typeof Z=="object"&&"message"in Z&&typeof Z.message=="string"?Z.message:"OpenAI respondió correctamente.";me("success","Prueba completada",we)}catch{me("error","Error de red","No se pudo contactar con OpenAI.")}finally{y(!1),s("openai-test",!1)}},[me,Q,de,s]),Ye=u.useCallback(async()=>{x(!0),s("nightscout-save",!0);try{const ee=await fetch(Q("/api/settings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({diabetes:{nightscout_url:qe.trim(),nightscout_token:ye.trim()}})}),Z=await cn(ee);if(!ee.ok){const we=An(Z)??"No se pudo guardar Nightscout.";ee.status===422?me("warning","Datos inválidos",we):ee.status===401||ee.status===403?me("error","No autorizado",we):me("error","Error",we);return}me("success","Guardado correctamente","Nightscout actualizado."),E.current=!1,K.current=!1,Je(Z)}catch{me("error","Error de red","No se pudo guardar Nightscout.")}finally{x(!1),s("nightscout-save",!1)}},[me,Je,Q,ye,qe,s]),bt=u.useCallback(async()=>{S(!0),s("nightscout-test",!0);try{const ee=await fetch(Q("/api/settings/test/nightscout"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nightscout_url:qe.trim()||void 0,nightscout_token:ye.trim()||void 0})}),Z=await cn(ee);if(!ee.ok){const Me=An(Z)??"No se pudo verificar Nightscout.";ee.status===422?me("warning","Datos inválidos",Me):ee.status===401||ee.status===403?me("error","No autorizado",Me):me("error","Error",Me);return}const we=Z&&typeof Z=="object"&&"message"in Z&&typeof Z.message=="string"?Z.message:"Nightscout respondió correctamente.";me("success","Prueba completada",we)}catch{me("error","Error de red","No se pudo contactar con Nightscout.")}finally{S(!1),s("nightscout-test",!1)}},[me,Q,ye,qe,s]),Bt=u.useCallback(async()=>{s("osk",!0);try{const ee=await fetch(Q("/api/util/osk"),{method:"POST"});if(!ee.ok){const Z=await cn(ee),we=An(Z)??"No se pudo abrir el teclado en pantalla.";ee.status===401||ee.status===403?me("error","No autorizado",we):me("error","Error",we);return}me("success","Teclado abierto","El teclado en pantalla se está mostrando.")}catch{me("error","Error de red","No se pudo abrir el teclado en pantalla.")}finally{s("osk",!1)}},[me,Q,s]),Pt=u.useCallback(async()=>{j(!0),s("refresh-ui",!0),me("info","Actualizando UI","Recargando recursos de la interfaz…");try{if("serviceWorker"in navigator){const ee=await navigator.serviceWorker.getRegistrations();await Promise.all(ee.map(async Z=>{try{await Z.update()}catch{}}))}if("caches"in window){const ee=await caches.keys();await Promise.all(ee.map(Z=>caches.delete(Z)))}window.location.reload()}catch{me("error","Error","No se pudo refrescar la interfaz.")}finally{j(!1),s("refresh-ui",!1)}},[me,s]),Wr=JO(t),vt=XO[Wr]??"Desconocido",ft=hx[Wr]??hx.unknown,Yt=Fo((t==null?void 0:t.ssid)||((Nt=t==null?void 0:t.wifi)==null?void 0:Nt.ssid)),Kt=Fo((t==null?void 0:t.ip_address)||(t==null?void 0:t.ip)||((mr=t==null?void 0:t.wifi)==null?void 0:mr.ip)),Xt=Fo((t==null?void 0:t.interface)||(t!=null&&t.wifi?"wlan0":"")),nr=(t==null?void 0:t.ap_active)===!0,Wt=(t==null?void 0:t.offline_mode)??((sr=e==null?void 0:e.ui)==null?void 0:sr.offline_mode)??!1,Hr=u.useMemo(()=>tM(),[]);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/40",children:[i.jsx(GO,{}),i.jsxs("div",{className:"mx-auto w-full max-w-5xl px-4 py-10",children:[i.jsxs("div",{className:"mb-8 space-y-2",children:[i.jsx("h1",{className:"text-3xl font-semibold",children:"Configuración del dispositivo"}),i.jsx("p",{className:"text-muted-foreground",children:"Administra la conectividad, integraciones y utilidades sin necesidad de PIN."})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr,3fr]",children:[i.jsxs(Qe,{children:[i.jsxs(ni,{children:[i.jsx(si,{children:"Estado rápido"}),i.jsx(ai,{children:"Resumen de conectividad y acceso actual."})]}),i.jsxs(ii,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Conectividad"}),i.jsx(ja,{className:ft,children:vt})]}),i.jsx(ok,{}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Gi,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})," SSID actual"]}),i.jsx("span",{className:"font-medium text-foreground",children:Yt||"—"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(bE,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})," Dirección IP"]}),i.jsx("span",{className:"font-medium text-foreground",children:Kt||"—"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Qc,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})," Interfaz"]}),i.jsx("span",{className:"font-medium text-foreground",children:Xt||"—"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[nr?i.jsx(kE,{className:"h-4 w-4 text-amber-500","aria-hidden":"true"}):i.jsx(Dm,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"}),"AP activo"]}),i.jsx("span",{className:"font-medium text-foreground",children:nr?"Sí":"No"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Modo offline"}),i.jsxs("div",{className:"flex items-center gap-3",children:[p&&i.jsx(Rt,{className:"h-4 w-4 animate-spin text-muted-foreground","aria-hidden":"true"}),i.jsx(In,{checked:Wt,onCheckedChange:ee=>void q(ee),disabled:p,"aria-label":"Alternar modo offline"})]})]})]}),i.jsx("div",{className:"flex items-center justify-end gap-2 pt-2",children:i.jsxs(z,{variant:"outline",size:"sm",onClick:()=>void I(),disabled:o,children:[o?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Uo,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Actualizar estado"]})})]})]}),i.jsxs(Qe,{className:"lg:row-span-2",children:[i.jsxs(ni,{children:[i.jsx(si,{children:"Wi-Fi"}),i.jsx(ai,{children:"Selecciona una red disponible y conecta el dispositivo."})]}),i.jsxs(ii,{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>void U(),disabled:c,children:[c?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Uo,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Escanear redes"]}),i.jsxs(z,{variant:"ghost",size:"sm",onClick:()=>void I(),disabled:o,children:[o?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Fv,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Actualizar estado"]})]}),i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[A.map(ee=>{const Z=ee.ssid===T,we=ee.secured!==!1;return i.jsxs("button",{type:"button",onClick:()=>xe(ee),className:Ne("flex w-full flex-col gap-2 rounded-lg border bg-background p-3 text-left shadow-sm transition focus:outline-none",Z?"border-primary ring-2 ring-primary/40":"border-border hover:border-primary/60 hover:shadow"),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium text-foreground",children:ee.ssid}),eM(ee.signal)]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[we?i.jsx(gE,{className:"h-3 w-3","aria-hidden":"true"}):i.jsx(hE,{className:"h-3 w-3","aria-hidden":"true"}),we?"Protegida":"Abierta"]}),ee.signal!==void 0&&i.jsxs("span",{children:[ee.signal,"%"]})]})]},`${ee.ssid}-${ee.signal}-${ee.sec}`)}),A.length===0&&!c&&i.jsx("div",{className:"col-span-full rounded-lg border border-dashed border-muted-foreground/40 p-4 text-center text-sm text-muted-foreground",children:"No hay redes escaneadas todavía. Pulsa “Escanear redes” para buscar."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"wifi-ssid",children:"SSID seleccionado"}),i.jsx(et,{id:"wifi-ssid",value:T,onChange:ee=>{F(ee.target.value),O.current=!0},placeholder:"Nombre de la red",autoComplete:"off",autoCapitalize:"off",spellCheck:!1})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"wifi-password",children:"Contraseña"}),i.jsx(et,{id:"wifi-password",type:"password",value:L,onChange:ee=>le(ee.target.value),placeholder:(R==null?void 0:R.secured)===!1?"No requerida":"Introduce la contraseña",autoComplete:"off",autoCapitalize:"off",spellCheck:!1,disabled:(R==null?void 0:R.secured)===!1})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs(z,{onClick:()=>void ge(),disabled:f,children:[f?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Gi,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),f?"Conectando…":"Conectar"]}),re&&i.jsx("span",{className:"text-sm text-muted-foreground",children:re})]})]})]})]}),i.jsxs(Qe,{children:[i.jsxs(ni,{children:[i.jsx(si,{children:"OpenAI"}),i.jsx(ai,{children:"Gestiona la clave API para las integraciones de IA."})]}),i.jsxs(ii,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx(ze,{htmlFor:"openai-key",children:"Clave API"}),Se&&i.jsx(ja,{variant:"secondary",children:"Guardado"})]}),i.jsx(et,{id:"openai-key",type:"password",value:de,onChange:ee=>{P.current=!0,G(ee.target.value)},placeholder:Se?"Clave almacenada — puedes reemplazarla":"Introduce tu clave",autoComplete:"off",autoCapitalize:"off",spellCheck:!1}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs(z,{onClick:()=>void he(),disabled:b,children:[b?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Uo,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Guardar"]}),i.jsxs(z,{variant:"outline",onClick:()=>void Ve(),disabled:w,children:[w?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Qc,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Probar"]})]})]})]}),i.jsxs(Qe,{children:[i.jsxs(ni,{children:[i.jsx(si,{children:"Nightscout"}),i.jsx(ai,{children:"Configura la URL y token de acceso."})]}),i.jsxs(ii,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx(ze,{htmlFor:"nightscout-url",children:"URL"}),W&&i.jsx(ja,{variant:"secondary",children:"Guardado"})]}),i.jsx(et,{id:"nightscout-url",value:qe,onChange:ee=>{E.current=!0,ae(ee.target.value)},placeholder:W?"URL almacenada — puedes reemplazarla":"https://tu-nightscout",autoComplete:"off",autoCapitalize:"off",spellCheck:!1})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx(ze,{htmlFor:"nightscout-token",children:"Token"}),D&&i.jsx(ja,{variant:"secondary",children:"Guardado"})]}),i.jsx(et,{id:"nightscout-token",type:"password",value:ye,onChange:ee=>{K.current=!0,$(ee.target.value)},placeholder:D?"Token almacenado — puedes reemplazarlo":"Token de Nightscout",autoComplete:"off",autoCapitalize:"off",spellCheck:!1})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs(z,{onClick:()=>void Ye(),disabled:v,children:[v?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Uo,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Guardar"]}),i.jsxs(z,{variant:"outline",onClick:()=>void bt(),disabled:N,children:[N?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Qc,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Probar"]})]})]})]})]}),i.jsxs(Qe,{className:"mt-6",children:[i.jsxs(ni,{children:[i.jsx(si,{children:"Utilidades"}),i.jsx(ai,{children:"Herramientas adicionales para mantenimiento rápido."})]}),i.jsxs(ii,{className:"flex flex-wrap items-center gap-3",children:[Hr&&i.jsxs(z,{variant:"secondary",onClick:()=>void Bt(),children:[i.jsx(Zc,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Teclado en pantalla"]}),i.jsxs(z,{variant:"outline",onClick:()=>void Pt(),disabled:C,children:[C?i.jsx(Rt,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}):i.jsx(Fv,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Recargar UI"]})]})]})]})]})},nM=new eA,sM=()=>i.jsx(rA,{client:nM,children:i.jsxs(PP,{children:[i.jsx(f_,{}),i.jsx(W_,{}),i.jsx(XA,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsxs(HA,{children:[i.jsx(ri,{path:"/",element:i.jsx(IO,{})}),i.jsx(ri,{path:"/ap",element:i.jsx(nk,{})}),i.jsx(ri,{path:"/config",element:i.jsx(rM,{})}),i.jsx(ri,{path:"/offline",element:i.jsx(DO,{})}),i.jsx(ri,{path:"*",element:i.jsx(FO,{})})]})})]})});class aM extends u.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){fe.error("React Error Boundary caught an error",{error:t.toString(),componentStack:r.componentStack,stack:t.stack}),localStorage.setItem("recovery_mode","true"),localStorage.setItem("last_error",JSON.stringify({message:t.message,stack:t.stack,timestamp:new Date().toISOString()})),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?i.jsx(rk,{}):this.props.children}}"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("message",e=>{e.data.type==="UPDATE_FAILED"?(console.error("Service Worker update failed:",e.data.error),localStorage.setItem("recovery_mode","true"),localStorage.setItem("update_error",JSON.stringify({error:e.data.error,timestamp:new Date().toISOString()})),window.location.reload()):e.data.type==="UPDATE_SUCCESS"&&(console.log("Service Worker updated successfully:",e.data.version),localStorage.removeItem("recovery_mode"),localStorage.removeItem("update_error"))}),caches.open("recovery-cache").then(e=>{e.match("/recovery-flag").then(t=>{t&&t.json().then(r=>{r.failed&&(localStorage.setItem("recovery_mode","true"),window.location.reload())})})}));Lw(document.getElementById("root")).render(i.jsx(aM,{children:i.jsx(sM,{})}));export{oM as c,kx as g};
