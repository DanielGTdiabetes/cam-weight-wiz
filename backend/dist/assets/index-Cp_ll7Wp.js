var ak=Object.defineProperty;var Zh=e=>{throw TypeError(e)};var ik=(e,t,r)=>t in e?ak(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Or=(e,t,r)=>ik(e,typeof t!="symbol"?t+"":t,r),jd=(e,t,r)=>t.has(e)||Zh("Cannot "+r);var J=(e,t,r)=>(jd(e,t,"read from private field"),r?r.call(e):t.get(e)),ct=(e,t,r)=>t.has(e)?Zh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),qe=(e,t,r,n)=>(jd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ar=(e,t,r)=>(jd(e,t,"access private method"),r);var Hl=(e,t,r,n)=>({set _(s){qe(e,t,s,r)},get _(){return J(e,t,n)}});function ok(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var iO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ex={exports:{}},Au={},tx={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),lk=Symbol.for("react.portal"),ck=Symbol.for("react.fragment"),uk=Symbol.for("react.strict_mode"),dk=Symbol.for("react.profiler"),fk=Symbol.for("react.provider"),mk=Symbol.for("react.context"),pk=Symbol.for("react.forward_ref"),hk=Symbol.for("react.suspense"),gk=Symbol.for("react.memo"),vk=Symbol.for("react.lazy"),Yh=Symbol.iterator;function yk(e){return e===null||typeof e!="object"?null:(e=Yh&&e[Yh]||e["@@iterator"],typeof e=="function"?e:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nx=Object.assign,sx={};function Zi(e,t,r){this.props=e,this.context=t,this.refs=sx,this.updater=r||rx}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ax(){}ax.prototype=Zi.prototype;function Zm(e,t,r){this.props=e,this.context=t,this.refs=sx,this.updater=r||rx}var Ym=Zm.prototype=new ax;Ym.constructor=Zm;nx(Ym,Zi.prototype);Ym.isPureReactComponent=!0;var Xh=Array.isArray,ix=Object.prototype.hasOwnProperty,Xm={current:null},ox={key:!0,ref:!0,__self:!0,__source:!0};function lx(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ix.call(t,n)&&!ox.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:jl,type:e,key:a,ref:o,props:s,_owner:Xm.current}}function xk(e,t){return{$$typeof:jl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jm(e){return typeof e=="object"&&e!==null&&e.$$typeof===jl}function wk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Jh=/\/+/g;function Cd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wk(""+e.key):t.toString(36)}function xc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jl:case lk:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Cd(o,0):n,Xh(s)?(r="",e!=null&&(r=e.replace(Jh,"$&/")+"/"),xc(s,t,r,"",function(d){return d})):s!=null&&(Jm(s)&&(s=xk(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Xh(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Cd(a,l);o+=xc(a,t,r,c,s)}else if(c=yk(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Cd(a,l++),o+=xc(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ql(e,t,r){if(e==null)return e;var n=[],s=0;return xc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function bk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vr={current:null},wc={transition:null},Nk={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:wc,ReactCurrentOwner:Xm};function cx(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:ql,forEach:function(e,t,r){ql(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ql(e,function(){t++}),t},toArray:function(e){return ql(e,function(t){return t})||[]},only:function(e){if(!Jm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=Zi;at.Fragment=ck;at.Profiler=dk;at.PureComponent=Zm;at.StrictMode=uk;at.Suspense=hk;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nk;at.act=cx;at.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=nx({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Xm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)ix.call(t,c)&&!ox.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:jl,type:e.type,key:s,ref:a,props:n,_owner:o}};at.createContext=function(e){return e={$$typeof:mk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fk,_context:e},e.Consumer=e};at.createElement=lx;at.createFactory=function(e){var t=lx.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:pk,render:e}};at.isValidElement=Jm;at.lazy=function(e){return{$$typeof:vk,_payload:{_status:-1,_result:e},_init:bk}};at.memo=function(e,t){return{$$typeof:gk,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=wc.transition;wc.transition={};try{e()}finally{wc.transition=t}};at.unstable_act=cx;at.useCallback=function(e,t){return vr.current.useCallback(e,t)};at.useContext=function(e){return vr.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return vr.current.useDeferredValue(e)};at.useEffect=function(e,t){return vr.current.useEffect(e,t)};at.useId=function(){return vr.current.useId()};at.useImperativeHandle=function(e,t,r){return vr.current.useImperativeHandle(e,t,r)};at.useInsertionEffect=function(e,t){return vr.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return vr.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return vr.current.useMemo(e,t)};at.useReducer=function(e,t,r){return vr.current.useReducer(e,t,r)};at.useRef=function(e){return vr.current.useRef(e)};at.useState=function(e){return vr.current.useState(e)};at.useSyncExternalStore=function(e,t,r){return vr.current.useSyncExternalStore(e,t,r)};at.useTransition=function(){return vr.current.useTransition()};at.version="18.3.1";tx.exports=at;var u=tx.exports;const ce=Jy(u),ep=ok({__proto__:null,default:ce},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sk=u,kk=Symbol.for("react.element"),jk=Symbol.for("react.fragment"),Ck=Object.prototype.hasOwnProperty,Ek=Sk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_k={key:!0,ref:!0,__self:!0,__source:!0};function ux(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ck.call(t,n)&&!_k.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:kk,type:e,key:a,ref:o,props:s,_owner:Ek.current}}Au.Fragment=jk;Au.jsx=ux;Au.jsxs=ux;ex.exports=Au;var i=ex.exports,dx={exports:{}},Ur={},fx={exports:{}},mx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,E){var W=P.length;P.push(E);e:for(;0<W;){var A=W-1>>>1,ae=P[A];if(0<s(ae,E))P[A]=E,P[W]=ae,W=A;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var E=P[0],W=P.pop();if(W!==E){P[0]=W;e:for(var A=0,ae=P.length,Q=ae>>>1;A<Q;){var xe=2*(A+1)-1,Ne=P[xe],Xe=xe+1,ie=P[Xe];if(0>s(Ne,W))Xe<ae&&0>s(ie,Ne)?(P[A]=ie,P[Xe]=W,A=Xe):(P[A]=Ne,P[xe]=W,A=xe);else if(Xe<ae&&0>s(ie,W))P[A]=ie,P[Xe]=W,A=Xe;else break e}}return E}function s(P,E){var W=P.sortIndex-E.sortIndex;return W!==0?W:P.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],m=1,f=null,p=3,h=!1,b=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(P){for(var E=r(d);E!==null;){if(E.callback===null)n(d);else if(E.startTime<=P)n(d),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(d)}}function N(P){if(y=!1,x(P),!b)if(r(c)!==null)b=!0,X(S);else{var E=r(d);E!==null&&ee(N,E.startTime-P)}}function S(P,E){b=!1,y&&(y=!1,v(T),T=-1),h=!0;var W=p;try{for(x(E),f=r(c);f!==null&&(!(f.expirationTime>E)||P&&!z());){var A=f.callback;if(typeof A=="function"){f.callback=null,p=f.priorityLevel;var ae=A(f.expirationTime<=E);E=e.unstable_now(),typeof ae=="function"?f.callback=ae:f===r(c)&&n(c),x(E)}else n(c);f=r(c)}if(f!==null)var Q=!0;else{var xe=r(d);xe!==null&&ee(N,xe.startTime-E),Q=!1}return Q}finally{f=null,p=W,h=!1}}var j=!1,C=null,T=-1,O=5,V=-1;function z(){return!(e.unstable_now()-V<O)}function D(){if(C!==null){var P=e.unstable_now();V=P;var E=!0;try{E=C(!0,P)}finally{E?F():(j=!1,C=null)}}else j=!1}var F;if(typeof g=="function")F=function(){g(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Y=I.port2;I.port1.onmessage=D,F=function(){Y.postMessage(null)}}else F=function(){w(D,0)};function X(P){C=P,j||(j=!0,F())}function ee(P,E){T=w(function(){P(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,X(S))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var E=3;break;default:E=p}var W=p;p=E;try{return P()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,E){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=p;p=P;try{return E()}finally{p=W}},e.unstable_scheduleCallback=function(P,E,W){var A=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?A+W:A):W=A,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,P={id:m++,callback:E,priorityLevel:P,startTime:W,expirationTime:ae,sortIndex:-1},W>A?(P.sortIndex=W,t(d,P),r(c)===null&&P===r(d)&&(y?(v(T),T=-1):y=!0,ee(N,W-A))):(P.sortIndex=ae,t(c,P),b||h||(b=!0,X(S))),P},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(P){var E=p;return function(){var W=p;p=E;try{return P.apply(this,arguments)}finally{p=W}}}})(mx);fx.exports=mx;var Pk=fx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk=u,Vr=Pk;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var px=new Set,Qo={};function Wa(e,t){Mi(e,t),Mi(e+"Capture",t)}function Mi(e,t){for(Qo[e]=t,e=0;e<t.length;e++)px.add(t[e])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=Object.prototype.hasOwnProperty,Ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eg={},tg={};function Rk(e){return Nf.call(tg,e)?!0:Nf.call(eg,e)?!1:Ak.test(e)?tg[e]=!0:(eg[e]=!0,!1)}function Ik(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ok(e,t,r,n){if(t===null||typeof t>"u"||Ik(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function yr(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sr[e]=new yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sr[t]=new yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sr[e]=new yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sr[e]=new yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sr[e]=new yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sr[e]=new yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sr[e]=new yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sr[e]=new yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sr[e]=new yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var tp=/[\-:]([a-z])/g;function rp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tp,rp);sr[t]=new yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tp,rp);sr[t]=new yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tp,rp);sr[t]=new yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sr[e]=new yr(e,1,!1,e.toLowerCase(),null,!1,!1)});sr.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sr[e]=new yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function np(e,t,r,n){var s=sr.hasOwnProperty(t)?sr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ok(t,r,s,n)&&(r=null),n||s===null?Rk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ws=Tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kl=Symbol.for("react.element"),ti=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),Sf=Symbol.for("react.profiler"),hx=Symbol.for("react.provider"),gx=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),ip=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),vx=Symbol.for("react.offscreen"),rg=Symbol.iterator;function po(e){return e===null||typeof e!="object"?null:(e=rg&&e[rg]||e["@@iterator"],typeof e=="function"?e:null)}var Ft=Object.assign,Ed;function Po(e){if(Ed===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ed=t&&t[1]||""}return`
`+Ed+e}var _d=!1;function Pd(e,t){if(!e||_d)return"";_d=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{_d=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Po(e):""}function Mk(e){switch(e.tag){case 5:return Po(e.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return e=Pd(e.type,!1),e;case 11:return e=Pd(e.type.render,!1),e;case 1:return e=Pd(e.type,!0),e;default:return""}}function Cf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ri:return"Fragment";case ti:return"Portal";case Sf:return"Profiler";case sp:return"StrictMode";case kf:return"Suspense";case jf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gx:return(e.displayName||"Context")+".Consumer";case hx:return(e._context.displayName||"Context")+".Provider";case ap:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ip:return t=e.displayName||null,t!==null?t:Cf(e.type)||"Memo";case As:t=e._payload,e=e._init;try{return Cf(e(t))}catch{}}return null}function Dk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cf(t);case 8:return t===sp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function aa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fk(e){var t=yx(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gl(e){e._valueTracker||(e._valueTracker=Fk(e))}function xx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=yx(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ef(e,t){var r=t.checked;return Ft({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ng(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=aa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wx(e,t){t=t.checked,t!=null&&np(e,"checked",t,!1)}function _f(e,t){wx(e,t);var r=aa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Pf(e,t.type,aa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Pf(e,t,r){(t!=="number"||Bc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var To=Array.isArray;function pi(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+aa(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Tf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return Ft({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ag(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(de(92));if(To(r)){if(1<r.length)throw Error(de(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:aa(r)}}function bx(e,t){var r=aa(t.value),n=aa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ig(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Af(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ql,Sx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lk=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){Lk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function kx(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function jx(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=kx(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var zk=Ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rf(e,t){if(t){if(zk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function If(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Of=null;function op(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mf=null,hi=null,gi=null;function og(e){if(e=_l(e)){if(typeof Mf!="function")throw Error(de(280));var t=e.stateNode;t&&(t=Du(t),Mf(e.stateNode,e.type,t))}}function Cx(e){hi?gi?gi.push(e):gi=[e]:hi=e}function Ex(){if(hi){var e=hi,t=gi;if(gi=hi=null,og(e),t)for(e=0;e<t.length;e++)og(t[e])}}function _x(e,t){return e(t)}function Px(){}var Td=!1;function Tx(e,t,r){if(Td)return e(t,r);Td=!0;try{return _x(e,t,r)}finally{Td=!1,(hi!==null||gi!==null)&&(Px(),Ex())}}function Yo(e,t){var r=e.stateNode;if(r===null)return null;var n=Du(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(de(231,t,typeof r));return r}var Df=!1;if(fs)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Df=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Df=!1}function Vk(e,t,r,n,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(m){this.onError(m)}}var Mo=!1,Wc=null,Hc=!1,Ff=null,$k={onError:function(e){Mo=!0,Wc=e}};function Uk(e,t,r,n,s,a,o,l,c){Mo=!1,Wc=null,Vk.apply($k,arguments)}function Bk(e,t,r,n,s,a,o,l,c){if(Uk.apply(this,arguments),Mo){if(Mo){var d=Wc;Mo=!1,Wc=null}else throw Error(de(198));Hc||(Hc=!0,Ff=d)}}function Ha(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ax(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lg(e){if(Ha(e)!==e)throw Error(de(188))}function Wk(e){var t=e.alternate;if(!t){if(t=Ha(e),t===null)throw Error(de(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return lg(s),e;if(a===n)return lg(s),t;a=a.sibling}throw Error(de(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(de(189))}}if(r.alternate!==n)throw Error(de(190))}if(r.tag!==3)throw Error(de(188));return r.stateNode.current===r?e:t}function Rx(e){return e=Wk(e),e!==null?Ix(e):null}function Ix(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ix(e);if(t!==null)return t;e=e.sibling}return null}var Ox=Vr.unstable_scheduleCallback,cg=Vr.unstable_cancelCallback,Hk=Vr.unstable_shouldYield,qk=Vr.unstable_requestPaint,Wt=Vr.unstable_now,Kk=Vr.unstable_getCurrentPriorityLevel,lp=Vr.unstable_ImmediatePriority,Mx=Vr.unstable_UserBlockingPriority,qc=Vr.unstable_NormalPriority,Gk=Vr.unstable_LowPriority,Dx=Vr.unstable_IdlePriority,Ru=null,Bn=null;function Qk(e){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Ru,e,void 0,(e.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Xk,Zk=Math.log,Yk=Math.LN2;function Xk(e){return e>>>=0,e===0?32:31-(Zk(e)/Yk|0)|0}var Zl=64,Yl=4194304;function Ao(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ao(l):(a&=o,a!==0&&(n=Ao(a)))}else o=r&~s,o!==0?n=Ao(o):a!==0&&(n=Ao(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xn(t),s=1<<r,n|=e[r],t&=~s;return n}function Jk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ej(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xn(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Jk(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Lf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fx(){var e=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),e}function Ad(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xn(t),e[t]=r}function tj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-xn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function cp(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var gt=0;function Lx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zx,up,Vx,$x,Ux,zf=!1,Xl=[],Gs=null,Qs=null,Zs=null,Xo=new Map,Jo=new Map,Os=[],rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(e,t){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(t.pointerId)}}function go(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=_l(t),t!==null&&up(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nj(e,t,r,n,s){switch(t){case"focusin":return Gs=go(Gs,e,t,r,n,s),!0;case"dragenter":return Qs=go(Qs,e,t,r,n,s),!0;case"mouseover":return Zs=go(Zs,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Xo.set(a,go(Xo.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Jo.set(a,go(Jo.get(a)||null,e,t,r,n,s)),!0}return!1}function Bx(e){var t=ba(e.target);if(t!==null){var r=Ha(t);if(r!==null){if(t=r.tag,t===13){if(t=Ax(r),t!==null){e.blockedOn=t,Ux(e.priority,function(){Vx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Of=n,r.target.dispatchEvent(n),Of=null}else return t=_l(r),t!==null&&up(t),e.blockedOn=r,!1;t.shift()}return!0}function dg(e,t,r){bc(e)&&r.delete(t)}function sj(){zf=!1,Gs!==null&&bc(Gs)&&(Gs=null),Qs!==null&&bc(Qs)&&(Qs=null),Zs!==null&&bc(Zs)&&(Zs=null),Xo.forEach(dg),Jo.forEach(dg)}function vo(e,t){e.blockedOn===t&&(e.blockedOn=null,zf||(zf=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,sj)))}function el(e){function t(s){return vo(s,e)}if(0<Xl.length){vo(Xl[0],e);for(var r=1;r<Xl.length;r++){var n=Xl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gs!==null&&vo(Gs,e),Qs!==null&&vo(Qs,e),Zs!==null&&vo(Zs,e),Xo.forEach(t),Jo.forEach(t),r=0;r<Os.length;r++)n=Os[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Os.length&&(r=Os[0],r.blockedOn===null);)Bx(r),r.blockedOn===null&&Os.shift()}var vi=ws.ReactCurrentBatchConfig,Gc=!0;function aj(e,t,r,n){var s=gt,a=vi.transition;vi.transition=null;try{gt=1,dp(e,t,r,n)}finally{gt=s,vi.transition=a}}function ij(e,t,r,n){var s=gt,a=vi.transition;vi.transition=null;try{gt=4,dp(e,t,r,n)}finally{gt=s,vi.transition=a}}function dp(e,t,r,n){if(Gc){var s=Vf(e,t,r,n);if(s===null)$d(e,t,n,Qc,r),ug(e,n);else if(nj(s,e,t,r,n))n.stopPropagation();else if(ug(e,n),t&4&&-1<rj.indexOf(e)){for(;s!==null;){var a=_l(s);if(a!==null&&zx(a),a=Vf(e,t,r,n),a===null&&$d(e,t,n,Qc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else $d(e,t,n,null,r)}}var Qc=null;function Vf(e,t,r,n){if(Qc=null,e=op(n),e=ba(e),e!==null)if(t=Ha(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ax(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qc=e,null}function Wx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kk()){case lp:return 1;case Mx:return 4;case qc:case Gk:return 16;case Dx:return 536870912;default:return 16}default:return 16}}var Ws=null,fp=null,Nc=null;function Hx(){if(Nc)return Nc;var e,t=fp,r=t.length,n,s="value"in Ws?Ws.value:Ws.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Nc=s.slice(e,1<n?1-n:void 0)}function Sc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jl(){return!0}function fg(){return!1}function Br(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Jl:fg,this.isPropagationStopped=fg,this}return Ft(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mp=Br(Yi),El=Ft({},Yi,{view:0,detail:0}),oj=Br(El),Rd,Id,yo,Iu=Ft({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yo&&(yo&&e.type==="mousemove"?(Rd=e.screenX-yo.screenX,Id=e.screenY-yo.screenY):Id=Rd=0,yo=e),Rd)},movementY:function(e){return"movementY"in e?e.movementY:Id}}),mg=Br(Iu),lj=Ft({},Iu,{dataTransfer:0}),cj=Br(lj),uj=Ft({},El,{relatedTarget:0}),Od=Br(uj),dj=Ft({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),fj=Br(dj),mj=Ft({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pj=Br(mj),hj=Ft({},Yi,{data:0}),pg=Br(hj),gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yj[e])?!!t[e]:!1}function pp(){return xj}var wj=Ft({},El,{key:function(e){if(e.key){var t=gj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(e){return e.type==="keypress"?Sc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bj=Br(wj),Nj=Ft({},Iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=Br(Nj),Sj=Ft({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),kj=Br(Sj),jj=Ft({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cj=Br(jj),Ej=Ft({},Iu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_j=Br(Ej),Pj=[9,13,27,32],hp=fs&&"CompositionEvent"in window,Do=null;fs&&"documentMode"in document&&(Do=document.documentMode);var Tj=fs&&"TextEvent"in window&&!Do,qx=fs&&(!hp||Do&&8<Do&&11>=Do),gg=" ",vg=!1;function Kx(e,t){switch(e){case"keyup":return Pj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ni=!1;function Aj(e,t){switch(e){case"compositionend":return Gx(t);case"keypress":return t.which!==32?null:(vg=!0,gg);case"textInput":return e=t.data,e===gg&&vg?null:e;default:return null}}function Rj(e,t){if(ni)return e==="compositionend"||!hp&&Kx(e,t)?(e=Hx(),Nc=fp=Ws=null,ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qx&&t.locale!=="ko"?null:t.data;default:return null}}var Ij={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ij[e.type]:t==="textarea"}function Qx(e,t,r,n){Cx(n),t=Zc(t,"onChange"),0<t.length&&(r=new mp("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Fo=null,tl=null;function Oj(e){i0(e,0)}function Ou(e){var t=ii(e);if(xx(t))return e}function Mj(e,t){if(e==="change")return t}var Zx=!1;if(fs){var Md;if(fs){var Dd="oninput"in document;if(!Dd){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Dd=typeof xg.oninput=="function"}Md=Dd}else Md=!1;Zx=Md&&(!document.documentMode||9<document.documentMode)}function wg(){Fo&&(Fo.detachEvent("onpropertychange",Yx),tl=Fo=null)}function Yx(e){if(e.propertyName==="value"&&Ou(tl)){var t=[];Qx(t,tl,e,op(e)),Tx(Oj,t)}}function Dj(e,t,r){e==="focusin"?(wg(),Fo=t,tl=r,Fo.attachEvent("onpropertychange",Yx)):e==="focusout"&&wg()}function Fj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ou(tl)}function Lj(e,t){if(e==="click")return Ou(t)}function zj(e,t){if(e==="input"||e==="change")return Ou(t)}function Vj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nn=typeof Object.is=="function"?Object.is:Vj;function rl(e,t){if(Nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Nf.call(t,s)||!Nn(e[s],t[s]))return!1}return!0}function bg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,t){var r=bg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bg(r)}}function Xx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Jx(){for(var e=window,t=Bc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bc(e.document)}return t}function gp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $j(e){var t=Jx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Xx(r.ownerDocument.documentElement,r)){if(n!==null&&gp(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Ng(r,a);var o=Ng(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Uj=fs&&"documentMode"in document&&11>=document.documentMode,si=null,$f=null,Lo=null,Uf=!1;function Sg(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Uf||si==null||si!==Bc(n)||(n=si,"selectionStart"in n&&gp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lo&&rl(Lo,n)||(Lo=n,n=Zc($f,"onSelect"),0<n.length&&(t=new mp("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=si)))}function ec(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ai={animationend:ec("Animation","AnimationEnd"),animationiteration:ec("Animation","AnimationIteration"),animationstart:ec("Animation","AnimationStart"),transitionend:ec("Transition","TransitionEnd")},Fd={},e0={};fs&&(e0=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Mu(e){if(Fd[e])return Fd[e];if(!ai[e])return e;var t=ai[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in e0)return Fd[e]=t[r];return e}var t0=Mu("animationend"),r0=Mu("animationiteration"),n0=Mu("animationstart"),s0=Mu("transitionend"),a0=new Map,kg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(e,t){a0.set(e,t),Wa(t,[e])}for(var Ld=0;Ld<kg.length;Ld++){var zd=kg[Ld],Bj=zd.toLowerCase(),Wj=zd[0].toUpperCase()+zd.slice(1);fa(Bj,"on"+Wj)}fa(t0,"onAnimationEnd");fa(r0,"onAnimationIteration");fa(n0,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(s0,"onTransitionEnd");Mi("onMouseEnter",["mouseout","mouseover"]);Mi("onMouseLeave",["mouseout","mouseover"]);Mi("onPointerEnter",["pointerout","pointerover"]);Mi("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function jg(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Bk(n,t,void 0,e),e.currentTarget=null}function i0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;jg(s,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;jg(s,l,d),a=c}}}if(Hc)throw e=Ff,Hc=!1,Ff=null,e}function Et(e,t){var r=t[Kf];r===void 0&&(r=t[Kf]=new Set);var n=e+"__bubble";r.has(n)||(o0(t,e,2,!1),r.add(n))}function Vd(e,t,r){var n=0;t&&(n|=4),o0(r,e,n,t)}var tc="_reactListening"+Math.random().toString(36).slice(2);function nl(e){if(!e[tc]){e[tc]=!0,px.forEach(function(r){r!=="selectionchange"&&(Hj.has(r)||Vd(r,!1,e),Vd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tc]||(t[tc]=!0,Vd("selectionchange",!1,t))}}function o0(e,t,r,n){switch(Wx(t)){case 1:var s=aj;break;case 4:s=ij;break;default:s=dp}r=s.bind(null,t,r,e),s=void 0,!Df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function $d(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ba(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Tx(function(){var d=a,m=op(r),f=[];e:{var p=a0.get(e);if(p!==void 0){var h=mp,b=e;switch(e){case"keypress":if(Sc(r)===0)break e;case"keydown":case"keyup":h=bj;break;case"focusin":b="focus",h=Od;break;case"focusout":b="blur",h=Od;break;case"beforeblur":case"afterblur":h=Od;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=kj;break;case t0:case r0:case n0:h=fj;break;case s0:h=Cj;break;case"scroll":h=oj;break;case"wheel":h=_j;break;case"copy":case"cut":case"paste":h=pj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=hg}var y=(t&4)!==0,w=!y&&e==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var g=d,x;g!==null;){x=g;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,v!==null&&(N=Yo(g,v),N!=null&&y.push(sl(g,N,x)))),w)break;g=g.return}0<y.length&&(p=new h(p,b,null,r,m),f.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&r!==Of&&(b=r.relatedTarget||r.fromElement)&&(ba(b)||b[ms]))break e;if((h||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,h?(b=r.relatedTarget||r.toElement,h=d,b=b?ba(b):null,b!==null&&(w=Ha(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=d),h!==b)){if(y=mg,N="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=hg,N="onPointerLeave",v="onPointerEnter",g="pointer"),w=h==null?p:ii(h),x=b==null?p:ii(b),p=new y(N,g+"leave",h,r,m),p.target=w,p.relatedTarget=x,N=null,ba(m)===d&&(y=new y(v,g+"enter",b,r,m),y.target=x,y.relatedTarget=w,N=y),w=N,h&&b)t:{for(y=h,v=b,g=0,x=y;x;x=Qa(x))g++;for(x=0,N=v;N;N=Qa(N))x++;for(;0<g-x;)y=Qa(y),g--;for(;0<x-g;)v=Qa(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Qa(y),v=Qa(v)}y=null}else y=null;h!==null&&Cg(f,p,h,y,!1),b!==null&&w!==null&&Cg(f,w,b,y,!0)}}e:{if(p=d?ii(d):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var S=Mj;else if(yg(p))if(Zx)S=zj;else{S=Fj;var j=Dj}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=Lj);if(S&&(S=S(e,d))){Qx(f,S,r,m);break e}j&&j(e,p,d),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&Pf(p,"number",p.value)}switch(j=d?ii(d):window,e){case"focusin":(yg(j)||j.contentEditable==="true")&&(si=j,$f=d,Lo=null);break;case"focusout":Lo=$f=si=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Sg(f,r,m);break;case"selectionchange":if(Uj)break;case"keydown":case"keyup":Sg(f,r,m)}var C;if(hp)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ni?Kx(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(qx&&r.locale!=="ko"&&(ni||T!=="onCompositionStart"?T==="onCompositionEnd"&&ni&&(C=Hx()):(Ws=m,fp="value"in Ws?Ws.value:Ws.textContent,ni=!0)),j=Zc(d,T),0<j.length&&(T=new pg(T,e,null,r,m),f.push({event:T,listeners:j}),C?T.data=C:(C=Gx(r),C!==null&&(T.data=C)))),(C=Tj?Aj(e,r):Rj(e,r))&&(d=Zc(d,"onBeforeInput"),0<d.length&&(m=new pg("onBeforeInput","beforeinput",null,r,m),f.push({event:m,listeners:d}),m.data=C))}i0(f,t)})}function sl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Zc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Yo(e,r),a!=null&&n.unshift(sl(e,a,s)),a=Yo(e,t),a!=null&&n.push(sl(e,a,s))),e=e.return}return n}function Qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cg(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Yo(r,a),c!=null&&o.unshift(sl(r,c,l))):s||(c=Yo(r,a),c!=null&&o.push(sl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var qj=/\r\n?/g,Kj=/\u0000|\uFFFD/g;function Eg(e){return(typeof e=="string"?e:""+e).replace(qj,`
`).replace(Kj,"")}function rc(e,t,r){if(t=Eg(t),Eg(e)!==t&&r)throw Error(de(425))}function Yc(){}var Bf=null,Wf=null;function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qf=typeof setTimeout=="function"?setTimeout:void 0,Gj=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,Qj=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(e){return _g.resolve(null).then(e).catch(Zj)}:qf;function Zj(e){setTimeout(function(){throw e})}function Ud(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),el(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);el(t)}function Ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Xi,al="__reactProps$"+Xi,ms="__reactContainer$"+Xi,Kf="__reactEvents$"+Xi,Yj="__reactListeners$"+Xi,Xj="__reactHandles$"+Xi;function ba(e){var t=e[Ln];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ms]||r[Ln]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pg(e);e!==null;){if(r=e[Ln])return r;e=Pg(e)}return t}e=r,r=e.parentNode}return null}function _l(e){return e=e[Ln]||e[ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function Du(e){return e[al]||null}var Gf=[],oi=-1;function ma(e){return{current:e}}function _t(e){0>oi||(e.current=Gf[oi],Gf[oi]=null,oi--)}function Nt(e,t){oi++,Gf[oi]=e.current,e.current=t}var ia={},ur=ma(ia),jr=ma(!1),Da=ia;function Di(e,t){var r=e.type.contextTypes;if(!r)return ia;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Cr(e){return e=e.childContextTypes,e!=null}function Xc(){_t(jr),_t(ur)}function Tg(e,t,r){if(ur.current!==ia)throw Error(de(168));Nt(ur,t),Nt(jr,r)}function l0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(de(108,Dk(e)||"Unknown",s));return Ft({},r,n)}function Jc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ia,Da=ur.current,Nt(ur,e),Nt(jr,jr.current),!0}function Ag(e,t,r){var n=e.stateNode;if(!n)throw Error(de(169));r?(e=l0(e,t,Da),n.__reactInternalMemoizedMergedChildContext=e,_t(jr),_t(ur),Nt(ur,e)):_t(jr),Nt(jr,r)}var ss=null,Fu=!1,Bd=!1;function c0(e){ss===null?ss=[e]:ss.push(e)}function Jj(e){Fu=!0,c0(e)}function pa(){if(!Bd&&ss!==null){Bd=!0;var e=0,t=gt;try{var r=ss;for(gt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ss=null,Fu=!1}catch(s){throw ss!==null&&(ss=ss.slice(e+1)),Ox(lp,pa),s}finally{gt=t,Bd=!1}}return null}var li=[],ci=0,eu=null,tu=0,Gr=[],Qr=0,Fa=null,is=1,os="";function ya(e,t){li[ci++]=tu,li[ci++]=eu,eu=e,tu=t}function u0(e,t,r){Gr[Qr++]=is,Gr[Qr++]=os,Gr[Qr++]=Fa,Fa=e;var n=is;e=os;var s=32-xn(n)-1;n&=~(1<<s),r+=1;var a=32-xn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,is=1<<32-xn(t)+s|r<<s|n,os=a+e}else is=1<<a|r<<s|n,os=e}function vp(e){e.return!==null&&(ya(e,1),u0(e,1,0))}function yp(e){for(;e===eu;)eu=li[--ci],li[ci]=null,tu=li[--ci],li[ci]=null;for(;e===Fa;)Fa=Gr[--Qr],Gr[Qr]=null,os=Gr[--Qr],Gr[Qr]=null,is=Gr[--Qr],Gr[Qr]=null}var Lr=null,Fr=null,Tt=!1,pn=null;function d0(e,t){var r=Zr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rg(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lr=e,Fr=Ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lr=e,Fr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Fa!==null?{id:is,overflow:os}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Lr=e,Fr=null,!0):!1;default:return!1}}function Qf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zf(e){if(Tt){var t=Fr;if(t){var r=t;if(!Rg(e,t)){if(Qf(e))throw Error(de(418));t=Ys(r.nextSibling);var n=Lr;t&&Rg(e,t)?d0(n,r):(e.flags=e.flags&-4097|2,Tt=!1,Lr=e)}}else{if(Qf(e))throw Error(de(418));e.flags=e.flags&-4097|2,Tt=!1,Lr=e}}}function Ig(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lr=e}function nc(e){if(e!==Lr)return!1;if(!Tt)return Ig(e),Tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hf(e.type,e.memoizedProps)),t&&(t=Fr)){if(Qf(e))throw f0(),Error(de(418));for(;t;)d0(e,t),t=Ys(t.nextSibling)}if(Ig(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fr=Ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fr=null}}else Fr=Lr?Ys(e.stateNode.nextSibling):null;return!0}function f0(){for(var e=Fr;e;)e=Ys(e.nextSibling)}function Fi(){Fr=Lr=null,Tt=!1}function xp(e){pn===null?pn=[e]:pn.push(e)}var eC=ws.ReactCurrentBatchConfig;function xo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(de(309));var n=r.stateNode}if(!n)throw Error(de(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(de(284));if(!r._owner)throw Error(de(290,e))}return e}function sc(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Og(e){var t=e._init;return t(e._payload)}function m0(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=ta(v,g),v.index=0,v.sibling=null,v}function a(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,g,x,N){return g===null||g.tag!==6?(g=Zd(x,v.mode,N),g.return=v,g):(g=s(g,x),g.return=v,g)}function c(v,g,x,N){var S=x.type;return S===ri?m(v,g,x.props.children,N,x.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===As&&Og(S)===g.type)?(N=s(g,x.props),N.ref=xo(v,g,x),N.return=v,N):(N=Tc(x.type,x.key,x.props,null,v.mode,N),N.ref=xo(v,g,x),N.return=v,N)}function d(v,g,x,N){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Yd(x,v.mode,N),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function m(v,g,x,N,S){return g===null||g.tag!==7?(g=Oa(x,v.mode,N,S),g.return=v,g):(g=s(g,x),g.return=v,g)}function f(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Zd(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Kl:return x=Tc(g.type,g.key,g.props,null,v.mode,x),x.ref=xo(v,null,g),x.return=v,x;case ti:return g=Yd(g,v.mode,x),g.return=v,g;case As:var N=g._init;return f(v,N(g._payload),x)}if(To(g)||po(g))return g=Oa(g,v.mode,x,null),g.return=v,g;sc(v,g)}return null}function p(v,g,x,N){var S=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(v,g,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kl:return x.key===S?c(v,g,x,N):null;case ti:return x.key===S?d(v,g,x,N):null;case As:return S=x._init,p(v,g,S(x._payload),N)}if(To(x)||po(x))return S!==null?null:m(v,g,x,N,null);sc(v,x)}return null}function h(v,g,x,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(x)||null,l(g,v,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Kl:return v=v.get(N.key===null?x:N.key)||null,c(g,v,N,S);case ti:return v=v.get(N.key===null?x:N.key)||null,d(g,v,N,S);case As:var j=N._init;return h(v,g,x,j(N._payload),S)}if(To(N)||po(N))return v=v.get(x)||null,m(g,v,N,S,null);sc(g,N)}return null}function b(v,g,x,N){for(var S=null,j=null,C=g,T=g=0,O=null;C!==null&&T<x.length;T++){C.index>T?(O=C,C=null):O=C.sibling;var V=p(v,C,x[T],N);if(V===null){C===null&&(C=O);break}e&&C&&V.alternate===null&&t(v,C),g=a(V,g,T),j===null?S=V:j.sibling=V,j=V,C=O}if(T===x.length)return r(v,C),Tt&&ya(v,T),S;if(C===null){for(;T<x.length;T++)C=f(v,x[T],N),C!==null&&(g=a(C,g,T),j===null?S=C:j.sibling=C,j=C);return Tt&&ya(v,T),S}for(C=n(v,C);T<x.length;T++)O=h(C,v,T,x[T],N),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?T:O.key),g=a(O,g,T),j===null?S=O:j.sibling=O,j=O);return e&&C.forEach(function(z){return t(v,z)}),Tt&&ya(v,T),S}function y(v,g,x,N){var S=po(x);if(typeof S!="function")throw Error(de(150));if(x=S.call(x),x==null)throw Error(de(151));for(var j=S=null,C=g,T=g=0,O=null,V=x.next();C!==null&&!V.done;T++,V=x.next()){C.index>T?(O=C,C=null):O=C.sibling;var z=p(v,C,V.value,N);if(z===null){C===null&&(C=O);break}e&&C&&z.alternate===null&&t(v,C),g=a(z,g,T),j===null?S=z:j.sibling=z,j=z,C=O}if(V.done)return r(v,C),Tt&&ya(v,T),S;if(C===null){for(;!V.done;T++,V=x.next())V=f(v,V.value,N),V!==null&&(g=a(V,g,T),j===null?S=V:j.sibling=V,j=V);return Tt&&ya(v,T),S}for(C=n(v,C);!V.done;T++,V=x.next())V=h(C,v,T,V.value,N),V!==null&&(e&&V.alternate!==null&&C.delete(V.key===null?T:V.key),g=a(V,g,T),j===null?S=V:j.sibling=V,j=V);return e&&C.forEach(function(D){return t(v,D)}),Tt&&ya(v,T),S}function w(v,g,x,N){if(typeof x=="object"&&x!==null&&x.type===ri&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Kl:e:{for(var S=x.key,j=g;j!==null;){if(j.key===S){if(S=x.type,S===ri){if(j.tag===7){r(v,j.sibling),g=s(j,x.props.children),g.return=v,v=g;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===As&&Og(S)===j.type){r(v,j.sibling),g=s(j,x.props),g.ref=xo(v,j,x),g.return=v,v=g;break e}r(v,j);break}else t(v,j);j=j.sibling}x.type===ri?(g=Oa(x.props.children,v.mode,N,x.key),g.return=v,v=g):(N=Tc(x.type,x.key,x.props,null,v.mode,N),N.ref=xo(v,g,x),N.return=v,v=N)}return o(v);case ti:e:{for(j=x.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Yd(x,v.mode,N),g.return=v,v=g}return o(v);case As:return j=x._init,w(v,g,j(x._payload),N)}if(To(x))return b(v,g,x,N);if(po(x))return y(v,g,x,N);sc(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,x),g.return=v,v=g):(r(v,g),g=Zd(x,v.mode,N),g.return=v,v=g),o(v)):r(v,g)}return w}var Li=m0(!0),p0=m0(!1),ru=ma(null),nu=null,ui=null,wp=null;function bp(){wp=ui=nu=null}function Np(e){var t=ru.current;_t(ru),e._currentValue=t}function Yf(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yi(e,t){nu=e,wp=ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kr=!0),e.firstContext=null)}function Xr(e){var t=e._currentValue;if(wp!==e)if(e={context:e,memoizedValue:t,next:null},ui===null){if(nu===null)throw Error(de(308));ui=e,nu.dependencies={lanes:0,firstContext:e}}else ui=ui.next=e;return t}var Na=null;function Sp(e){Na===null?Na=[e]:Na.push(e)}function h0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Sp(t)):(r.next=s.next,s.next=r),t.interleaved=r,ps(e,n)}function ps(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rs=!1;function kp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ot&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,ps(e,r)}return s=n.interleaved,s===null?(t.next=t,Sp(n)):(t.next=s.next,s.next=t),n.interleaved=t,ps(e,r)}function kc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cp(e,r)}}function Mg(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function su(e,t,r,n){var s=e.updateQueue;Rs=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,m=d=c=null,l=a;do{var p=l.lane,h=l.eventTime;if((n&p)===p){m!==null&&(m=m.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(p=t,h=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(h,f,p);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,p=typeof b=="function"?b.call(h,f,p):b,p==null)break e;f=Ft({},f,p);break e;case 2:Rs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=h,c=f):m=m.next=h,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(m===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);za|=o,e.lanes=o,e.memoizedState=f}}function Dg(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(de(191,s));s.call(n)}}}var Pl={},Wn=ma(Pl),il=ma(Pl),ol=ma(Pl);function Sa(e){if(e===Pl)throw Error(de(174));return e}function jp(e,t){switch(Nt(ol,t),Nt(il,e),Nt(Wn,Pl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Af(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Af(t,e)}_t(Wn),Nt(Wn,t)}function zi(){_t(Wn),_t(il),_t(ol)}function v0(e){Sa(ol.current);var t=Sa(Wn.current),r=Af(t,e.type);t!==r&&(Nt(il,e),Nt(Wn,r))}function Cp(e){il.current===e&&(_t(Wn),_t(il))}var Ot=ma(0);function au(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wd=[];function Ep(){for(var e=0;e<Wd.length;e++)Wd[e]._workInProgressVersionPrimary=null;Wd.length=0}var jc=ws.ReactCurrentDispatcher,Hd=ws.ReactCurrentBatchConfig,La=0,Dt=null,Qt=null,er=null,iu=!1,zo=!1,ll=0,tC=0;function ir(){throw Error(de(321))}function _p(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Nn(e[r],t[r]))return!1;return!0}function Pp(e,t,r,n,s,a){if(La=a,Dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jc.current=e===null||e.memoizedState===null?aC:iC,e=r(n,s),zo){a=0;do{if(zo=!1,ll=0,25<=a)throw Error(de(301));a+=1,er=Qt=null,t.updateQueue=null,jc.current=oC,e=r(n,s)}while(zo)}if(jc.current=ou,t=Qt!==null&&Qt.next!==null,La=0,er=Qt=Dt=null,iu=!1,t)throw Error(de(300));return e}function Tp(){var e=ll!==0;return ll=0,e}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?Dt.memoizedState=er=e:er=er.next=e,er}function Jr(){if(Qt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var t=er===null?Dt.memoizedState:er.next;if(t!==null)er=t,Qt=e;else{if(e===null)throw Error(de(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},er===null?Dt.memoizedState=er=e:er=er.next=e}return er}function cl(e,t){return typeof t=="function"?t(e):t}function qd(e){var t=Jr(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=Qt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var m=d.lane;if((La&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Dt.lanes|=m,za|=m}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,Nn(n,t.memoizedState)||(kr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Dt.lanes|=a,za|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Kd(e){var t=Jr(),r=t.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Nn(a,t.memoizedState)||(kr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function y0(){}function x0(e,t){var r=Dt,n=Jr(),s=t(),a=!Nn(n.memoizedState,s);if(a&&(n.memoizedState=s,kr=!0),n=n.queue,Ap(N0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,ul(9,b0.bind(null,r,n,s,t),void 0,null),tr===null)throw Error(de(349));La&30||w0(r,t,s)}return s}function w0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function b0(e,t,r,n){t.value=r,t.getSnapshot=n,S0(t)&&k0(e)}function N0(e,t,r){return r(function(){S0(t)&&k0(e)})}function S0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Nn(e,r)}catch{return!0}}function k0(e){var t=ps(e,1);t!==null&&wn(t,e,1,-1)}function Fg(e){var t=Rn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:e},t.queue=e,e=e.dispatch=sC.bind(null,Dt,e),[t.memoizedState,e]}function ul(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j0(){return Jr().memoizedState}function Cc(e,t,r,n){var s=Rn();Dt.flags|=e,s.memoizedState=ul(1|t,r,void 0,n===void 0?null:n)}function Lu(e,t,r,n){var s=Jr();n=n===void 0?null:n;var a=void 0;if(Qt!==null){var o=Qt.memoizedState;if(a=o.destroy,n!==null&&_p(n,o.deps)){s.memoizedState=ul(t,r,a,n);return}}Dt.flags|=e,s.memoizedState=ul(1|t,r,a,n)}function Lg(e,t){return Cc(8390656,8,e,t)}function Ap(e,t){return Lu(2048,8,e,t)}function C0(e,t){return Lu(4,2,e,t)}function E0(e,t){return Lu(4,4,e,t)}function _0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P0(e,t,r){return r=r!=null?r.concat([e]):null,Lu(4,4,_0.bind(null,t,e),r)}function Rp(){}function T0(e,t){var r=Jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_p(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function A0(e,t){var r=Jr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&_p(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function R0(e,t,r){return La&21?(Nn(r,t)||(r=Fx(),Dt.lanes|=r,za|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kr=!0),e.memoizedState=r)}function rC(e,t){var r=gt;gt=r!==0&&4>r?r:4,e(!0);var n=Hd.transition;Hd.transition={};try{e(!1),t()}finally{gt=r,Hd.transition=n}}function I0(){return Jr().memoizedState}function nC(e,t,r){var n=ea(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},O0(e))M0(t,r);else if(r=h0(e,t,r,n),r!==null){var s=gr();wn(r,e,n,s),D0(r,t,n)}}function sC(e,t,r){var n=ea(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(O0(e))M0(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Nn(l,o)){var c=t.interleaved;c===null?(s.next=s,Sp(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=h0(e,t,s,n),r!==null&&(s=gr(),wn(r,e,n,s),D0(r,t,n))}}function O0(e){var t=e.alternate;return e===Dt||t!==null&&t===Dt}function M0(e,t){zo=iu=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function D0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cp(e,r)}}var ou={readContext:Xr,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},aC={readContext:Xr,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:Xr,useEffect:Lg,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cc(4194308,4,_0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cc(4,2,e,t)},useMemo:function(e,t){var r=Rn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nC.bind(null,Dt,e),[n.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:Fg,useDebugValue:Rp,useDeferredValue:function(e){return Rn().memoizedState=e},useTransition:function(){var e=Fg(!1),t=e[0];return e=rC.bind(null,e[1]),Rn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Dt,s=Rn();if(Tt){if(r===void 0)throw Error(de(407));r=r()}else{if(r=t(),tr===null)throw Error(de(349));La&30||w0(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Lg(N0.bind(null,n,a,e),[e]),n.flags|=2048,ul(9,b0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Rn(),t=tr.identifierPrefix;if(Tt){var r=os,n=is;r=(n&~(1<<32-xn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ll++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iC={readContext:Xr,useCallback:T0,useContext:Xr,useEffect:Ap,useImperativeHandle:P0,useInsertionEffect:C0,useLayoutEffect:E0,useMemo:A0,useReducer:qd,useRef:j0,useState:function(){return qd(cl)},useDebugValue:Rp,useDeferredValue:function(e){var t=Jr();return R0(t,Qt.memoizedState,e)},useTransition:function(){var e=qd(cl)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:y0,useSyncExternalStore:x0,useId:I0,unstable_isNewReconciler:!1},oC={readContext:Xr,useCallback:T0,useContext:Xr,useEffect:Ap,useImperativeHandle:P0,useInsertionEffect:C0,useLayoutEffect:E0,useMemo:A0,useReducer:Kd,useRef:j0,useState:function(){return Kd(cl)},useDebugValue:Rp,useDeferredValue:function(e){var t=Jr();return Qt===null?t.memoizedState=e:R0(t,Qt.memoizedState,e)},useTransition:function(){var e=Kd(cl)[0],t=Jr().memoizedState;return[e,t]},useMutableSource:y0,useSyncExternalStore:x0,useId:I0,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=Ft({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Xf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ft({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zu={isMounted:function(e){return(e=e._reactInternals)?Ha(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=gr(),s=ea(e),a=ls(n,s);a.payload=t,r!=null&&(a.callback=r),t=Xs(e,a,s),t!==null&&(wn(t,e,s,n),kc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=gr(),s=ea(e),a=ls(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Xs(e,a,s),t!==null&&(wn(t,e,s,n),kc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=gr(),n=ea(e),s=ls(r,n);s.tag=2,t!=null&&(s.callback=t),t=Xs(e,s,n),t!==null&&(wn(t,e,n,r),kc(t,e,n))}};function zg(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!rl(r,n)||!rl(s,a):!0}function F0(e,t,r){var n=!1,s=ia,a=t.contextType;return typeof a=="object"&&a!==null?a=Xr(a):(s=Cr(t)?Da:ur.current,n=t.contextTypes,a=(n=n!=null)?Di(e,s):ia),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vg(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zu.enqueueReplaceState(t,t.state,null)}function Jf(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},kp(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Xr(a):(a=Cr(t)?Da:ur.current,s.context=Di(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Xf(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zu.enqueueReplaceState(s,s.state,null),su(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vi(e,t){try{var r="",n=t;do r+=Mk(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Gd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function em(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lC=typeof WeakMap=="function"?WeakMap:Map;function L0(e,t,r){r=ls(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cu||(cu=!0,um=n),em(e,t)},r}function z0(e,t,r){r=ls(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){em(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){em(e,t),typeof n!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $g(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lC;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=NC.bind(null,e,t,r),t.then(e,e))}function Ug(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bg(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ls(-1,1),t.tag=2,Xs(r,t,1))),r.lanes|=1),e)}var cC=ws.ReactCurrentOwner,kr=!1;function mr(e,t,r,n){t.child=e===null?p0(t,null,r,n):Li(t,e.child,r,n)}function Wg(e,t,r,n,s){r=r.render;var a=t.ref;return yi(t,s),n=Pp(e,t,r,n,a,s),r=Tp(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hs(e,t,s)):(Tt&&r&&vp(t),t.flags|=1,mr(e,t,n,s),t.child)}function Hg(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Vp(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,V0(e,t,a,n,s)):(e=Tc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:rl,r(o,n)&&e.ref===t.ref)return hs(e,t,s)}return t.flags|=1,e=ta(a,n),e.ref=t.ref,e.return=t,t.child=e}function V0(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(rl(a,n)&&e.ref===t.ref)if(kr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(kr=!0);else return t.lanes=e.lanes,hs(e,t,s)}return tm(e,t,r,n,s)}function $0(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(fi,Mr),Mr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(fi,Mr),Mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Nt(fi,Mr),Mr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Nt(fi,Mr),Mr|=n;return mr(e,t,s,r),t.child}function U0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function tm(e,t,r,n,s){var a=Cr(r)?Da:ur.current;return a=Di(t,a),yi(t,s),r=Pp(e,t,r,n,a,s),n=Tp(),e!==null&&!kr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hs(e,t,s)):(Tt&&n&&vp(t),t.flags|=1,mr(e,t,r,s),t.child)}function qg(e,t,r,n,s){if(Cr(r)){var a=!0;Jc(t)}else a=!1;if(yi(t,s),t.stateNode===null)Ec(e,t),F0(t,r,n),Jf(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Xr(d):(d=Cr(r)?Da:ur.current,d=Di(t,d));var m=r.getDerivedStateFromProps,f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&Vg(t,o,n,d),Rs=!1;var p=t.memoizedState;o.state=p,su(t,n,o,s),c=t.memoizedState,l!==n||p!==c||jr.current||Rs?(typeof m=="function"&&(Xf(t,r,m,n),c=t.memoizedState),(l=Rs||zg(t,r,l,n,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,g0(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:cn(t.type,l),o.props=d,f=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xr(c):(c=Cr(r)?Da:ur.current,c=Di(t,c));var h=r.getDerivedStateFromProps;(m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||p!==c)&&Vg(t,o,n,c),Rs=!1,p=t.memoizedState,o.state=p,su(t,n,o,s);var b=t.memoizedState;l!==f||p!==b||jr.current||Rs?(typeof h=="function"&&(Xf(t,r,h,n),b=t.memoizedState),(d=Rs||zg(t,r,d,n,p,b,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return rm(e,t,r,n,a,s)}function rm(e,t,r,n,s,a){U0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ag(t,r,!1),hs(e,t,a);n=t.stateNode,cC.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Li(t,e.child,null,a),t.child=Li(t,null,l,a)):mr(e,t,l,a),t.memoizedState=n.state,s&&Ag(t,r,!0),t.child}function B0(e){var t=e.stateNode;t.pendingContext?Tg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tg(e,t.context,!1),jp(e,t.containerInfo)}function Kg(e,t,r,n,s){return Fi(),xp(s),t.flags|=256,mr(e,t,r,n),t.child}var nm={dehydrated:null,treeContext:null,retryLane:0};function sm(e){return{baseLanes:e,cachePool:null,transitions:null}}function W0(e,t,r){var n=t.pendingProps,s=Ot.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Nt(Ot,s&1),e===null)return Zf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Uu(o,n,0,null),e=Oa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=sm(r),t.memoizedState=nm,e):Ip(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return uC(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ta(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ta(l,a):(a=Oa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?sm(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=nm,n}return a=e.child,e=a.sibling,n=ta(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ip(e,t){return t=Uu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ac(e,t,r,n){return n!==null&&xp(n),Li(t,e.child,null,r),e=Ip(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uC(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Gd(Error(de(422))),ac(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Uu({mode:"visible",children:n.children},s,0,null),a=Oa(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Li(t,e.child,null,o),t.child.memoizedState=sm(o),t.memoizedState=nm,a);if(!(t.mode&1))return ac(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(de(419)),n=Gd(a,n,void 0),ac(e,t,o,n)}if(l=(o&e.childLanes)!==0,kr||l){if(n=tr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ps(e,s),wn(n,e,s,-1))}return zp(),n=Gd(Error(de(421))),ac(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=SC.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Fr=Ys(s.nextSibling),Lr=t,Tt=!0,pn=null,e!==null&&(Gr[Qr++]=is,Gr[Qr++]=os,Gr[Qr++]=Fa,is=e.id,os=e.overflow,Fa=t),t=Ip(t,n.children),t.flags|=4096,t)}function Gg(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yf(e.return,t,r)}function Qd(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function H0(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(mr(e,t,n.children,r),n=Ot.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gg(e,r,t);else if(e.tag===19)Gg(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Nt(Ot,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&au(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qd(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&au(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qd(t,!0,r,null,a);break;case"together":Qd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ec(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),za|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,r=ta(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ta(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dC(e,t,r){switch(t.tag){case 3:B0(t),Fi();break;case 5:v0(t);break;case 1:Cr(t.type)&&Jc(t);break;case 4:jp(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Nt(ru,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Nt(Ot,Ot.current&1),t.flags|=128,null):r&t.child.childLanes?W0(e,t,r):(Nt(Ot,Ot.current&1),e=hs(e,t,r),e!==null?e.sibling:null);Nt(Ot,Ot.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return H0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Nt(Ot,Ot.current),n)break;return null;case 22:case 23:return t.lanes=0,$0(e,t,r)}return hs(e,t,r)}var q0,am,K0,G0;q0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};am=function(){};K0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Sa(Wn.current);var a=null;switch(r){case"input":s=Ef(e,s),n=Ef(e,n),a=[];break;case"select":s=Ft({},s,{value:void 0}),n=Ft({},n,{value:void 0}),a=[];break;case"textarea":s=Tf(e,s),n=Tf(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yc)}Rf(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Qo.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Qo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Et("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};G0=function(e,t,r,n){r!==n&&(t.flags|=4)};function wo(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function or(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fC(e,t,r){var n=t.pendingProps;switch(yp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(t),null;case 1:return Cr(t.type)&&Xc(),or(t),null;case 3:return n=t.stateNode,zi(),_t(jr),_t(ur),Ep(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(nc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pn!==null&&(mm(pn),pn=null))),am(e,t),or(t),null;case 5:Cp(t);var s=Sa(ol.current);if(r=t.type,e!==null&&t.stateNode!=null)K0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(de(166));return or(t),null}if(e=Sa(Wn.current),nc(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ln]=t,n[al]=a,e=(t.mode&1)!==0,r){case"dialog":Et("cancel",n),Et("close",n);break;case"iframe":case"object":case"embed":Et("load",n);break;case"video":case"audio":for(s=0;s<Ro.length;s++)Et(Ro[s],n);break;case"source":Et("error",n);break;case"img":case"image":case"link":Et("error",n),Et("load",n);break;case"details":Et("toggle",n);break;case"input":ng(n,a),Et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Et("invalid",n);break;case"textarea":ag(n,a),Et("invalid",n)}Rf(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&rc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&rc(n.textContent,l,e),s=["children",""+l]):Qo.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Et("scroll",n)}switch(r){case"input":Gl(n),sg(n,a,!0);break;case"textarea":Gl(n),ig(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Yc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nx(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ln]=t,e[al]=n,q0(e,t,!1,!1),t.stateNode=e;e:{switch(o=If(r,n),r){case"dialog":Et("cancel",e),Et("close",e),s=n;break;case"iframe":case"object":case"embed":Et("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ro.length;s++)Et(Ro[s],e);s=n;break;case"source":Et("error",e),s=n;break;case"img":case"image":case"link":Et("error",e),Et("load",e),s=n;break;case"details":Et("toggle",e),s=n;break;case"input":ng(e,n),s=Ef(e,n),Et("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ft({},n,{value:void 0}),Et("invalid",e);break;case"textarea":ag(e,n),s=Tf(e,n),Et("invalid",e);break;default:s=n}Rf(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?jx(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sx(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Zo(e,c):typeof c=="number"&&Zo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Et("scroll",e):c!=null&&np(e,a,c,o))}switch(r){case"input":Gl(e),sg(e,n,!1);break;case"textarea":Gl(e),ig(e);break;case"option":n.value!=null&&e.setAttribute("value",""+aa(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?pi(e,!!n.multiple,a,!1):n.defaultValue!=null&&pi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return or(t),null;case 6:if(e&&t.stateNode!=null)G0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(de(166));if(r=Sa(ol.current),Sa(Wn.current),nc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ln]=t,(a=n.nodeValue!==r)&&(e=Lr,e!==null))switch(e.tag){case 3:rc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rc(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ln]=t,t.stateNode=n}return or(t),null;case 13:if(_t(Ot),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Tt&&Fr!==null&&t.mode&1&&!(t.flags&128))f0(),Fi(),t.flags|=98560,a=!1;else if(a=nc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(de(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(de(317));a[Ln]=t}else Fi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;or(t),a=!1}else pn!==null&&(mm(pn),pn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ot.current&1?Zt===0&&(Zt=3):zp())),t.updateQueue!==null&&(t.flags|=4),or(t),null);case 4:return zi(),am(e,t),e===null&&nl(t.stateNode.containerInfo),or(t),null;case 10:return Np(t.type._context),or(t),null;case 17:return Cr(t.type)&&Xc(),or(t),null;case 19:if(_t(Ot),a=t.memoizedState,a===null)return or(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)wo(a,!1);else{if(Zt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=au(e),o!==null){for(t.flags|=128,wo(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Nt(Ot,Ot.current&1|2),t.child}e=e.sibling}a.tail!==null&&Wt()>$i&&(t.flags|=128,n=!0,wo(a,!1),t.lanes=4194304)}else{if(!n)if(e=au(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),wo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Tt)return or(t),null}else 2*Wt()-a.renderingStartTime>$i&&r!==1073741824&&(t.flags|=128,n=!0,wo(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Wt(),t.sibling=null,r=Ot.current,Nt(Ot,n?r&1|2:r&1),t):(or(t),null);case 22:case 23:return Lp(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mr&1073741824&&(or(t),t.subtreeFlags&6&&(t.flags|=8192)):or(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function mC(e,t){switch(yp(t),t.tag){case 1:return Cr(t.type)&&Xc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zi(),_t(jr),_t(ur),Ep(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Cp(t),null;case 13:if(_t(Ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Fi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Ot),null;case 4:return zi(),null;case 10:return Np(t.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var ic=!1,cr=!1,pC=typeof WeakSet=="function"?WeakSet:Set,je=null;function di(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){$t(e,t,n)}else r.current=null}function im(e,t,r){try{r()}catch(n){$t(e,t,n)}}var Qg=!1;function hC(e,t){if(Bf=Gc,e=Jx(),gp(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,m=0,f=e,p=null;t:for(;;){for(var h;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)p=f,f=h;for(;;){if(f===e)break t;if(p===r&&++d===s&&(l=o),p===a&&++m===n&&(c=o),(h=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=h}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wf={focusedElem:e,selectionRange:r},Gc=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){t=je;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,w=b.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:cn(t.type,y),w);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(N){$t(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}return b=Qg,Qg=!1,b}function Vo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&im(t,r,a)}s=s.next}while(s!==n)}}function Vu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function om(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Q0(e){var t=e.alternate;t!==null&&(e.alternate=null,Q0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ln],delete t[al],delete t[Kf],delete t[Yj],delete t[Xj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z0(e){return e.tag===5||e.tag===3||e.tag===4}function Zg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yc));else if(n!==4&&(e=e.child,e!==null))for(lm(e,t,r),e=e.sibling;e!==null;)lm(e,t,r),e=e.sibling}function cm(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(cm(e,t,r),e=e.sibling;e!==null;)cm(e,t,r),e=e.sibling}var rr=null,mn=!1;function Cs(e,t,r){for(r=r.child;r!==null;)Y0(e,t,r),r=r.sibling}function Y0(e,t,r){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Ru,r)}catch{}switch(r.tag){case 5:cr||di(r,t);case 6:var n=rr,s=mn;rr=null,Cs(e,t,r),rr=n,mn=s,rr!==null&&(mn?(e=rr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):rr.removeChild(r.stateNode));break;case 18:rr!==null&&(mn?(e=rr,r=r.stateNode,e.nodeType===8?Ud(e.parentNode,r):e.nodeType===1&&Ud(e,r),el(e)):Ud(rr,r.stateNode));break;case 4:n=rr,s=mn,rr=r.stateNode.containerInfo,mn=!0,Cs(e,t,r),rr=n,mn=s;break;case 0:case 11:case 14:case 15:if(!cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&im(r,t,o),s=s.next}while(s!==n)}Cs(e,t,r);break;case 1:if(!cr&&(di(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){$t(r,t,l)}Cs(e,t,r);break;case 21:Cs(e,t,r);break;case 22:r.mode&1?(cr=(n=cr)||r.memoizedState!==null,Cs(e,t,r),cr=n):Cs(e,t,r);break;default:Cs(e,t,r)}}function Yg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pC),t.forEach(function(n){var s=kC.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function on(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:rr=l.stateNode,mn=!1;break e;case 3:rr=l.stateNode.containerInfo,mn=!0;break e;case 4:rr=l.stateNode.containerInfo,mn=!0;break e}l=l.return}if(rr===null)throw Error(de(160));Y0(a,o,s),rr=null,mn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){$t(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X0(t,e),t=t.sibling}function X0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),Tn(e),n&4){try{Vo(3,e,e.return),Vu(3,e)}catch(y){$t(e,e.return,y)}try{Vo(5,e,e.return)}catch(y){$t(e,e.return,y)}}break;case 1:on(t,e),Tn(e),n&512&&r!==null&&di(r,r.return);break;case 5:if(on(t,e),Tn(e),n&512&&r!==null&&di(r,r.return),e.flags&32){var s=e.stateNode;try{Zo(s,"")}catch(y){$t(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&wx(s,a),If(l,o);var d=If(l,a);for(o=0;o<c.length;o+=2){var m=c[o],f=c[o+1];m==="style"?jx(s,f):m==="dangerouslySetInnerHTML"?Sx(s,f):m==="children"?Zo(s,f):np(s,m,f,d)}switch(l){case"input":_f(s,a);break;case"textarea":bx(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?pi(s,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?pi(s,!!a.multiple,a.defaultValue,!0):pi(s,!!a.multiple,a.multiple?[]:"",!1))}s[al]=a}catch(y){$t(e,e.return,y)}}break;case 6:if(on(t,e),Tn(e),n&4){if(e.stateNode===null)throw Error(de(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){$t(e,e.return,y)}}break;case 3:if(on(t,e),Tn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{el(t.containerInfo)}catch(y){$t(e,e.return,y)}break;case 4:on(t,e),Tn(e);break;case 13:on(t,e),Tn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Dp=Wt())),n&4&&Yg(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(cr=(d=cr)||m,on(t,e),cr=d):on(t,e),Tn(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(je=e,m=e.child;m!==null;){for(f=je=m;je!==null;){switch(p=je,h=p.child,p.tag){case 0:case 11:case 14:case 15:Vo(4,p,p.return);break;case 1:di(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){$t(n,r,y)}}break;case 5:di(p,p.return);break;case 22:if(p.memoizedState!==null){Jg(f);continue}}h!==null?(h.return=p,je=h):Jg(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kx("display",o))}catch(y){$t(e,e.return,y)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(y){$t(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:on(t,e),Tn(e),n&4&&Yg(e);break;case 21:break;default:on(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Z0(r)){var n=r;break e}r=r.return}throw Error(de(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Zo(s,""),n.flags&=-33);var a=Zg(e);cm(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Zg(e);lm(e,l,o);break;default:throw Error(de(161))}}catch(c){$t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gC(e,t,r){je=e,J0(e)}function J0(e,t,r){for(var n=(e.mode&1)!==0;je!==null;){var s=je,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ic;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cr;l=ic;var d=cr;if(ic=o,(cr=c)&&!d)for(je=s;je!==null;)o=je,c=o.child,o.tag===22&&o.memoizedState!==null?ev(s):c!==null?(c.return=o,je=c):ev(s);for(;a!==null;)je=a,J0(a),a=a.sibling;je=s,ic=l,cr=d}Xg(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,je=a):Xg(e)}}function Xg(e){for(;je!==null;){var t=je;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cr||Vu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:cn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dg(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dg(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&el(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}cr||t.flags&512&&om(t)}catch(p){$t(t,t.return,p)}}if(t===e){je=null;break}if(r=t.sibling,r!==null){r.return=t.return,je=r;break}je=t.return}}function Jg(e){for(;je!==null;){var t=je;if(t===e){je=null;break}var r=t.sibling;if(r!==null){r.return=t.return,je=r;break}je=t.return}}function ev(e){for(;je!==null;){var t=je;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Vu(4,t)}catch(c){$t(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){$t(t,s,c)}}var a=t.return;try{om(t)}catch(c){$t(t,a,c)}break;case 5:var o=t.return;try{om(t)}catch(c){$t(t,o,c)}}}catch(c){$t(t,t.return,c)}if(t===e){je=null;break}var l=t.sibling;if(l!==null){l.return=t.return,je=l;break}je=t.return}}var vC=Math.ceil,lu=ws.ReactCurrentDispatcher,Op=ws.ReactCurrentOwner,Yr=ws.ReactCurrentBatchConfig,ot=0,tr=null,Gt=null,nr=0,Mr=0,fi=ma(0),Zt=0,dl=null,za=0,$u=0,Mp=0,$o=null,Sr=null,Dp=0,$i=1/0,ns=null,cu=!1,um=null,Js=null,oc=!1,Hs=null,uu=0,Uo=0,dm=null,_c=-1,Pc=0;function gr(){return ot&6?Wt():_c!==-1?_c:_c=Wt()}function ea(e){return e.mode&1?ot&2&&nr!==0?nr&-nr:eC.transition!==null?(Pc===0&&(Pc=Fx()),Pc):(e=gt,e!==0||(e=window.event,e=e===void 0?16:Wx(e.type)),e):1}function wn(e,t,r,n){if(50<Uo)throw Uo=0,dm=null,Error(de(185));Cl(e,r,n),(!(ot&2)||e!==tr)&&(e===tr&&(!(ot&2)&&($u|=r),Zt===4&&Ms(e,nr)),Er(e,n),r===1&&ot===0&&!(t.mode&1)&&($i=Wt()+500,Fu&&pa()))}function Er(e,t){var r=e.callbackNode;ej(e,t);var n=Kc(e,e===tr?nr:0);if(n===0)r!==null&&cg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cg(r),t===1)e.tag===0?Jj(tv.bind(null,e)):c0(tv.bind(null,e)),Qj(function(){!(ot&6)&&pa()}),r=null;else{switch(Lx(n)){case 1:r=lp;break;case 4:r=Mx;break;case 16:r=qc;break;case 536870912:r=Dx;break;default:r=qc}r=ow(r,ew.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ew(e,t){if(_c=-1,Pc=0,ot&6)throw Error(de(327));var r=e.callbackNode;if(xi()&&e.callbackNode!==r)return null;var n=Kc(e,e===tr?nr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=du(e,n);else{t=n;var s=ot;ot|=2;var a=rw();(tr!==e||nr!==t)&&(ns=null,$i=Wt()+500,Ia(e,t));do try{wC();break}catch(l){tw(e,l)}while(!0);bp(),lu.current=a,ot=s,Gt!==null?t=0:(tr=null,nr=0,t=Zt)}if(t!==0){if(t===2&&(s=Lf(e),s!==0&&(n=s,t=fm(e,s))),t===1)throw r=dl,Ia(e,0),Ms(e,n),Er(e,Wt()),r;if(t===6)Ms(e,n);else{if(s=e.current.alternate,!(n&30)&&!yC(s)&&(t=du(e,n),t===2&&(a=Lf(e),a!==0&&(n=a,t=fm(e,a))),t===1))throw r=dl,Ia(e,0),Ms(e,n),Er(e,Wt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(de(345));case 2:xa(e,Sr,ns);break;case 3:if(Ms(e,n),(n&130023424)===n&&(t=Dp+500-Wt(),10<t)){if(Kc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){gr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=qf(xa.bind(null,e,Sr,ns),t);break}xa(e,Sr,ns);break;case 4:if(Ms(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-xn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Wt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vC(n/1960))-n,10<n){e.timeoutHandle=qf(xa.bind(null,e,Sr,ns),n);break}xa(e,Sr,ns);break;case 5:xa(e,Sr,ns);break;default:throw Error(de(329))}}}return Er(e,Wt()),e.callbackNode===r?ew.bind(null,e):null}function fm(e,t){var r=$o;return e.current.memoizedState.isDehydrated&&(Ia(e,t).flags|=256),e=du(e,t),e!==2&&(t=Sr,Sr=r,t!==null&&mm(t)),e}function mm(e){Sr===null?Sr=e:Sr.push.apply(Sr,e)}function yC(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Nn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(e,t){for(t&=~Mp,t&=~$u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xn(t),n=1<<r;e[r]=-1,t&=~n}}function tv(e){if(ot&6)throw Error(de(327));xi();var t=Kc(e,0);if(!(t&1))return Er(e,Wt()),null;var r=du(e,t);if(e.tag!==0&&r===2){var n=Lf(e);n!==0&&(t=n,r=fm(e,n))}if(r===1)throw r=dl,Ia(e,0),Ms(e,t),Er(e,Wt()),r;if(r===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xa(e,Sr,ns),Er(e,Wt()),null}function Fp(e,t){var r=ot;ot|=1;try{return e(t)}finally{ot=r,ot===0&&($i=Wt()+500,Fu&&pa())}}function Va(e){Hs!==null&&Hs.tag===0&&!(ot&6)&&xi();var t=ot;ot|=1;var r=Yr.transition,n=gt;try{if(Yr.transition=null,gt=1,e)return e()}finally{gt=n,Yr.transition=r,ot=t,!(ot&6)&&pa()}}function Lp(){Mr=fi.current,_t(fi)}function Ia(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Gj(r)),Gt!==null)for(r=Gt.return;r!==null;){var n=r;switch(yp(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xc();break;case 3:zi(),_t(jr),_t(ur),Ep();break;case 5:Cp(n);break;case 4:zi();break;case 13:_t(Ot);break;case 19:_t(Ot);break;case 10:Np(n.type._context);break;case 22:case 23:Lp()}r=r.return}if(tr=e,Gt=e=ta(e.current,null),nr=Mr=t,Zt=0,dl=null,Mp=$u=za=0,Sr=$o=null,Na!==null){for(t=0;t<Na.length;t++)if(r=Na[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Na=null}return e}function tw(e,t){do{var r=Gt;try{if(bp(),jc.current=ou,iu){for(var n=Dt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}iu=!1}if(La=0,er=Qt=Dt=null,zo=!1,ll=0,Op.current=null,r===null||r.return===null){Zt=1,dl=t,Gt=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=nr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var h=Ug(o);if(h!==null){h.flags&=-257,Bg(h,o,l,a,t),h.mode&1&&$g(a,d,t),t=h,c=d;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){$g(a,d,t),zp();break e}c=Error(de(426))}}else if(Tt&&l.mode&1){var w=Ug(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Bg(w,o,l,a,t),xp(Vi(c,l));break e}}a=c=Vi(c,l),Zt!==4&&(Zt=2),$o===null?$o=[a]:$o.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=L0(a,c,t);Mg(a,v);break e;case 1:l=c;var g=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Js===null||!Js.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=z0(a,l,t);Mg(a,N);break e}}a=a.return}while(a!==null)}sw(r)}catch(S){t=S,Gt===r&&r!==null&&(Gt=r=r.return);continue}break}while(!0)}function rw(){var e=lu.current;return lu.current=ou,e===null?ou:e}function zp(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),tr===null||!(za&268435455)&&!($u&268435455)||Ms(tr,nr)}function du(e,t){var r=ot;ot|=2;var n=rw();(tr!==e||nr!==t)&&(ns=null,Ia(e,t));do try{xC();break}catch(s){tw(e,s)}while(!0);if(bp(),ot=r,lu.current=n,Gt!==null)throw Error(de(261));return tr=null,nr=0,Zt}function xC(){for(;Gt!==null;)nw(Gt)}function wC(){for(;Gt!==null&&!Hk();)nw(Gt)}function nw(e){var t=iw(e.alternate,e,Mr);e.memoizedProps=e.pendingProps,t===null?sw(e):Gt=t,Op.current=null}function sw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mC(r,t),r!==null){r.flags&=32767,Gt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Zt=6,Gt=null;return}}else if(r=fC(r,t,Mr),r!==null){Gt=r;return}if(t=t.sibling,t!==null){Gt=t;return}Gt=t=e}while(t!==null);Zt===0&&(Zt=5)}function xa(e,t,r){var n=gt,s=Yr.transition;try{Yr.transition=null,gt=1,bC(e,t,r,n)}finally{Yr.transition=s,gt=n}return null}function bC(e,t,r,n){do xi();while(Hs!==null);if(ot&6)throw Error(de(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(tj(e,a),e===tr&&(Gt=tr=null,nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oc||(oc=!0,ow(qc,function(){return xi(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Yr.transition,Yr.transition=null;var o=gt;gt=1;var l=ot;ot|=4,Op.current=null,hC(e,r),X0(r,e),$j(Wf),Gc=!!Bf,Wf=Bf=null,e.current=r,gC(r),qk(),ot=l,gt=o,Yr.transition=a}else e.current=r;if(oc&&(oc=!1,Hs=e,uu=s),a=e.pendingLanes,a===0&&(Js=null),Qk(r.stateNode),Er(e,Wt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(cu)throw cu=!1,e=um,um=null,e;return uu&1&&e.tag!==0&&xi(),a=e.pendingLanes,a&1?e===dm?Uo++:(Uo=0,dm=e):Uo=0,pa(),null}function xi(){if(Hs!==null){var e=Lx(uu),t=Yr.transition,r=gt;try{if(Yr.transition=null,gt=16>e?16:e,Hs===null)var n=!1;else{if(e=Hs,Hs=null,uu=0,ot&6)throw Error(de(331));var s=ot;for(ot|=4,je=e.current;je!==null;){var a=je,o=a.child;if(je.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(je=d;je!==null;){var m=je;switch(m.tag){case 0:case 11:case 15:Vo(8,m,a)}var f=m.child;if(f!==null)f.return=m,je=f;else for(;je!==null;){m=je;var p=m.sibling,h=m.return;if(Q0(m),m===d){je=null;break}if(p!==null){p.return=h,je=p;break}je=h}}}var b=a.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}je=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,je=o;else e:for(;je!==null;){if(a=je,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vo(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,je=v;break e}je=a.return}}var g=e.current;for(je=g;je!==null;){o=je;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,je=x;else e:for(o=g;je!==null;){if(l=je,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Vu(9,l)}}catch(S){$t(l,l.return,S)}if(l===o){je=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,je=N;break e}je=l.return}}if(ot=s,pa(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Ru,e)}catch{}n=!0}return n}finally{gt=r,Yr.transition=t}}return!1}function rv(e,t,r){t=Vi(r,t),t=L0(e,t,1),e=Xs(e,t,1),t=gr(),e!==null&&(Cl(e,1,t),Er(e,t))}function $t(e,t,r){if(e.tag===3)rv(e,e,r);else for(;t!==null;){if(t.tag===3){rv(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Js===null||!Js.has(n))){e=Vi(r,e),e=z0(t,e,1),t=Xs(t,e,1),e=gr(),t!==null&&(Cl(t,1,e),Er(t,e));break}}t=t.return}}function NC(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&r,tr===e&&(nr&r)===r&&(Zt===4||Zt===3&&(nr&130023424)===nr&&500>Wt()-Dp?Ia(e,0):Mp|=r),Er(e,t)}function aw(e,t){t===0&&(e.mode&1?(t=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):t=1);var r=gr();e=ps(e,t),e!==null&&(Cl(e,t,r),Er(e,r))}function SC(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),aw(e,r)}function kC(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(de(314))}n!==null&&n.delete(t),aw(e,r)}var iw;iw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||jr.current)kr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return kr=!1,dC(e,t,r);kr=!!(e.flags&131072)}else kr=!1,Tt&&t.flags&1048576&&u0(t,tu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ec(e,t),e=t.pendingProps;var s=Di(t,ur.current);yi(t,r),s=Pp(null,t,n,e,s,r);var a=Tp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cr(n)?(a=!0,Jc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,kp(t),s.updater=zu,t.stateNode=s,s._reactInternals=t,Jf(t,n,e,r),t=rm(null,t,n,!0,a,r)):(t.tag=0,Tt&&a&&vp(t),mr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ec(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=CC(n),e=cn(n,e),s){case 0:t=tm(null,t,n,e,r);break e;case 1:t=qg(null,t,n,e,r);break e;case 11:t=Wg(null,t,n,e,r);break e;case 14:t=Hg(null,t,n,cn(n.type,e),r);break e}throw Error(de(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),tm(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),qg(e,t,n,s,r);case 3:e:{if(B0(t),e===null)throw Error(de(387));n=t.pendingProps,a=t.memoizedState,s=a.element,g0(e,t),su(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Vi(Error(de(423)),t),t=Kg(e,t,n,r,s);break e}else if(n!==s){s=Vi(Error(de(424)),t),t=Kg(e,t,n,r,s);break e}else for(Fr=Ys(t.stateNode.containerInfo.firstChild),Lr=t,Tt=!0,pn=null,r=p0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fi(),n===s){t=hs(e,t,r);break e}mr(e,t,n,r)}t=t.child}return t;case 5:return v0(t),e===null&&Zf(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Hf(n,s)?o=null:a!==null&&Hf(n,a)&&(t.flags|=32),U0(e,t),mr(e,t,o,r),t.child;case 6:return e===null&&Zf(t),null;case 13:return W0(e,t,r);case 4:return jp(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Li(t,null,n,r):mr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),Wg(e,t,n,s,r);case 7:return mr(e,t,t.pendingProps,r),t.child;case 8:return mr(e,t,t.pendingProps.children,r),t.child;case 12:return mr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Nt(ru,n._currentValue),n._currentValue=o,a!==null)if(Nn(a.value,o)){if(a.children===s.children&&!jr.current){t=hs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ls(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Yf(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(de(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Yf(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}mr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yi(t,r),s=Xr(s),n=n(s),t.flags|=1,mr(e,t,n,r),t.child;case 14:return n=t.type,s=cn(n,t.pendingProps),s=cn(n.type,s),Hg(e,t,n,s,r);case 15:return V0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:cn(n,s),Ec(e,t),t.tag=1,Cr(n)?(e=!0,Jc(t)):e=!1,yi(t,r),F0(t,n,s),Jf(t,n,s,r),rm(null,t,n,!0,e,r);case 19:return H0(e,t,r);case 22:return $0(e,t,r)}throw Error(de(156,t.tag))};function ow(e,t){return Ox(e,t)}function jC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(e,t,r,n){return new jC(e,t,r,n)}function Vp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CC(e){if(typeof e=="function")return Vp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ap)return 11;if(e===ip)return 14}return 2}function ta(e,t){var r=e.alternate;return r===null?(r=Zr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tc(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Vp(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ri:return Oa(r.children,s,a,t);case sp:o=8,s|=8;break;case Sf:return e=Zr(12,r,t,s|2),e.elementType=Sf,e.lanes=a,e;case kf:return e=Zr(13,r,t,s),e.elementType=kf,e.lanes=a,e;case jf:return e=Zr(19,r,t,s),e.elementType=jf,e.lanes=a,e;case vx:return Uu(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hx:o=10;break e;case gx:o=9;break e;case ap:o=11;break e;case ip:o=14;break e;case As:o=16,n=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=Zr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Oa(e,t,r,n){return e=Zr(7,e,n,t),e.lanes=r,e}function Uu(e,t,r,n){return e=Zr(22,e,n,t),e.elementType=vx,e.lanes=r,e.stateNode={isHidden:!1},e}function Zd(e,t,r){return e=Zr(6,e,null,t),e.lanes=r,e}function Yd(e,t,r){return t=Zr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function EC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ad(0),this.expirationTimes=Ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ad(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $p(e,t,r,n,s,a,o,l,c){return e=new EC(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Zr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kp(a),e}function _C(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ti,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function lw(e){if(!e)return ia;e=e._reactInternals;e:{if(Ha(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var r=e.type;if(Cr(r))return l0(e,r,t)}return t}function cw(e,t,r,n,s,a,o,l,c){return e=$p(r,n,!0,e,s,a,o,l,c),e.context=lw(null),r=e.current,n=gr(),s=ea(r),a=ls(n,s),a.callback=t??null,Xs(r,a,s),e.current.lanes=s,Cl(e,s,n),Er(e,n),e}function Bu(e,t,r,n){var s=t.current,a=gr(),o=ea(s);return r=lw(r),t.context===null?t.context=r:t.pendingContext=r,t=ls(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xs(s,t,o),e!==null&&(wn(e,s,o,a),kc(e,s,o)),o}function fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Up(e,t){nv(e,t),(e=e.alternate)&&nv(e,t)}function PC(){return null}var uw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bp(e){this._internalRoot=e}Wu.prototype.render=Bp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));Bu(e,t,null,null)};Wu.prototype.unmount=Bp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Va(function(){Bu(null,e,null,null)}),t[ms]=null}};function Wu(e){this._internalRoot=e}Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=$x();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Os.length&&t!==0&&t<Os[r].priority;r++);Os.splice(r,0,e),r===0&&Bx(e)}};function Wp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sv(){}function TC(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=fu(o);a.call(d)}}var o=cw(t,n,e,0,null,!1,!1,"",sv);return e._reactRootContainer=o,e[ms]=o.current,nl(e.nodeType===8?e.parentNode:e),Va(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=fu(c);l.call(d)}}var c=$p(e,0,!1,null,null,!1,!1,"",sv);return e._reactRootContainer=c,e[ms]=c.current,nl(e.nodeType===8?e.parentNode:e),Va(function(){Bu(t,c,r,n)}),c}function qu(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=fu(o);l.call(c)}}Bu(t,o,e,s)}else o=TC(r,t,e,s,n);return fu(o)}zx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ao(t.pendingLanes);r!==0&&(cp(t,r|1),Er(t,Wt()),!(ot&6)&&($i=Wt()+500,pa()))}break;case 13:Va(function(){var n=ps(e,1);if(n!==null){var s=gr();wn(n,e,1,s)}}),Up(e,1)}};up=function(e){if(e.tag===13){var t=ps(e,134217728);if(t!==null){var r=gr();wn(t,e,134217728,r)}Up(e,134217728)}};Vx=function(e){if(e.tag===13){var t=ea(e),r=ps(e,t);if(r!==null){var n=gr();wn(r,e,t,n)}Up(e,t)}};$x=function(){return gt};Ux=function(e,t){var r=gt;try{return gt=e,t()}finally{gt=r}};Mf=function(e,t,r){switch(t){case"input":if(_f(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Du(n);if(!s)throw Error(de(90));xx(n),_f(n,s)}}}break;case"textarea":bx(e,r);break;case"select":t=r.value,t!=null&&pi(e,!!r.multiple,t,!1)}};_x=Fp;Px=Va;var AC={usingClientEntryPoint:!1,Events:[_l,ii,Du,Cx,Ex,Fp]},bo={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RC={bundleType:bo.bundleType,version:bo.version,rendererPackageName:bo.rendererPackageName,rendererConfig:bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rx(e),e===null?null:e.stateNode},findFiberByHostInstance:bo.findFiberByHostInstance||PC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{Ru=lc.inject(RC),Bn=lc}catch{}}Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;Ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wp(t))throw Error(de(200));return _C(e,t,null,r)};Ur.createRoot=function(e,t){if(!Wp(e))throw Error(de(299));var r=!1,n="",s=uw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=$p(e,1,!1,null,null,r,!1,n,s),e[ms]=t.current,nl(e.nodeType===8?e.parentNode:e),new Bp(t)};Ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=Rx(t),e=e===null?null:e.stateNode,e};Ur.flushSync=function(e){return Va(e)};Ur.hydrate=function(e,t,r){if(!Hu(t))throw Error(de(200));return qu(null,e,t,!0,r)};Ur.hydrateRoot=function(e,t,r){if(!Wp(e))throw Error(de(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=uw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cw(t,null,e,1,r??null,s,!1,a,o),e[ms]=t.current,nl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Wu(t)};Ur.render=function(e,t,r){if(!Hu(t))throw Error(de(200));return qu(null,e,t,!1,r)};Ur.unmountComponentAtNode=function(e){if(!Hu(e))throw Error(de(40));return e._reactRootContainer?(Va(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0):!1};Ur.unstable_batchedUpdates=Fp;Ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hu(r))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return qu(e,t,r,!1,n)};Ur.version="18.3.1-next-f1338f8080-20240426";function dw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dw)}catch(e){console.error(e)}}dw(),dx.exports=Ur;var Tl=dx.exports;const fw=Jy(Tl);var mw,av=Tl;mw=av.createRoot,av.hydrateRoot;const IC=1,OC=1e6;let Xd=0;function MC(){return Xd=(Xd+1)%Number.MAX_SAFE_INTEGER,Xd.toString()}const Jd=new Map,iv=e=>{if(Jd.has(e))return;const t=setTimeout(()=>{Jd.delete(e),Bo({type:"REMOVE_TOAST",toastId:e})},OC);Jd.set(e,t)},DC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,IC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?iv(r):e.toasts.forEach(n=>{iv(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ac=[];let Rc={toasts:[]};function Bo(e){Rc=DC(Rc,e),Ac.forEach(t=>{t(Rc)})}function FC({...e}){const t=MC(),r=s=>Bo({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Bo({type:"DISMISS_TOAST",toastId:t});return Bo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function en(){const[e,t]=u.useState(Rc);return u.useEffect(()=>(Ac.push(t),()=>{const r=Ac.indexOf(t);r>-1&&Ac.splice(r,1)}),[e]),{...e,toast:FC,dismiss:r=>Bo({type:"DISMISS_TOAST",toastId:r})}}function Ke(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function ov(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function pw(...e){return t=>{let r=!1;const n=e.map(s=>{const a=ov(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():ov(e[s],null)}}}}function vt(...e){return u.useCallback(pw(...e),e)}function LC(e,t){const r=u.createContext(t),n=a=>{const{children:o,...l}=a,c=u.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=u.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function tn(e,t=[]){let r=[];function n(a,o){const l=u.createContext(o),c=r.length;r=[...r,o];const d=f=>{var v;const{scope:p,children:h,...b}=f,y=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,w=u.useMemo(()=>b,Object.values(b));return i.jsx(y.Provider,{value:w,children:h})};d.displayName=a+"Provider";function m(f,p){var y;const h=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=u.useContext(h);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,m]}const s=()=>{const a=r.map(o=>u.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,zC(s,...t)]}function zC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function fl(e){const t=$C(e),r=u.forwardRef((n,s)=>{const{children:a,...o}=n,l=u.Children.toArray(a),c=l.find(UC);if(c){const d=c.props.children,m=l.map(f=>f===c?u.Children.count(d)>1?u.Children.only(null):u.isValidElement(d)?d.props.children:null:f);return i.jsx(t,{...o,ref:s,children:u.isValidElement(d)?u.cloneElement(d,void 0,m):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var VC=fl("Slot");function $C(e){const t=u.forwardRef((r,n)=>{const{children:s,...a}=r;if(u.isValidElement(s)){const o=WC(s),l=BC(a,s.props);return s.type!==u.Fragment&&(l.ref=n?pw(n,o):o),u.cloneElement(s,l)}return u.Children.count(s)>1?u.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var hw=Symbol("radix.slottable");function gw(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=hw,t}function UC(e){return u.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===hw}function BC(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function WC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Hp(e){const t=e+"CollectionProvider",[r,n]=tn(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:w,children:v}=y,g=ce.useRef(null),x=ce.useRef(new Map).current;return i.jsx(s,{scope:w,itemMap:x,collectionRef:g,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=fl(l),d=ce.forwardRef((y,w)=>{const{scope:v,children:g}=y,x=a(l,v),N=vt(w,x.collectionRef);return i.jsx(c,{ref:N,children:g})});d.displayName=l;const m=e+"CollectionItemSlot",f="data-radix-collection-item",p=fl(m),h=ce.forwardRef((y,w)=>{const{scope:v,children:g,...x}=y,N=ce.useRef(null),S=vt(w,N),j=a(m,v);return ce.useEffect(()=>(j.itemMap.set(N,{ref:N,...x}),()=>void j.itemMap.delete(N))),i.jsx(p,{[f]:"",ref:S,children:g})});h.displayName=m;function b(y){const w=a(e+"CollectionConsumer",y);return ce.useCallback(()=>{const g=w.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,C)=>x.indexOf(j.ref.current)-x.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:d,ItemSlot:h},b,n]}var HC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tt=HC.reduce((e,t)=>{const r=fl(`Primitive.${t}`),n=u.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function vw(e,t){e&&Tl.flushSync(()=>e.dispatchEvent(t))}function Sn(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function qC(e,t=globalThis==null?void 0:globalThis.document){const r=Sn(e);u.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KC="DismissableLayer",pm="dismissableLayer.update",GC="dismissableLayer.pointerDownOutside",QC="dismissableLayer.focusOutside",lv,yw=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ku=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,d=u.useContext(yw),[m,f]=u.useState(null),p=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=u.useState({}),b=vt(t,C=>f(C)),y=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(w),g=m?y.indexOf(m):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,N=g>=v,S=YC(C=>{const T=C.target,O=[...d.branches].some(V=>V.contains(T));!N||O||(s==null||s(C),o==null||o(C),C.defaultPrevented||l==null||l())},p),j=XC(C=>{const T=C.target;[...d.branches].some(V=>V.contains(T))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},p);return qC(C=>{g===d.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},p),u.useEffect(()=>{if(m)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(lv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),cv(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=lv)}},[m,p,r,d]),u.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),cv())},[m,d]),u.useEffect(()=>{const C=()=>h({});return document.addEventListener(pm,C),()=>document.removeEventListener(pm,C)},[]),i.jsx(tt.div,{...c,ref:b,style:{pointerEvents:x?N?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,S.onPointerDownCapture)})});Ku.displayName=KC;var ZC="DismissableLayerBranch",xw=u.forwardRef((e,t)=>{const r=u.useContext(yw),n=u.useRef(null),s=vt(t,n);return u.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(tt.div,{...e,ref:s})});xw.displayName=ZC;function YC(e,t=globalThis==null?void 0:globalThis.document){const r=Sn(e),n=u.useRef(!1),s=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){ww(GC,r,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function XC(e,t=globalThis==null?void 0:globalThis.document){const r=Sn(e),n=u.useRef(!1);return u.useEffect(()=>{const s=a=>{a.target&&!n.current&&ww(QC,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cv(){const e=new CustomEvent(pm);document.dispatchEvent(e)}function ww(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?vw(s,a):s.dispatchEvent(a)}var JC=Ku,e2=xw,gs=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{},t2="Portal",qp=u.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=u.useState(!1);gs(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?fw.createPortal(i.jsx(tt.div,{...n,ref:t}),o):null});qp.displayName=t2;function r2(e,t){return u.useReducer((r,n)=>t[r][n]??r,e)}var ha=e=>{const{present:t,children:r}=e,n=n2(t),s=typeof r=="function"?r({present:n.isPresent}):u.Children.only(r),a=vt(n.ref,s2(s));return typeof r=="function"||n.isPresent?u.cloneElement(s,{ref:a}):null};ha.displayName="Presence";function n2(e){const[t,r]=u.useState(),n=u.useRef(null),s=u.useRef(e),a=u.useRef("none"),o=e?"mounted":"unmounted",[l,c]=r2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=cc(n.current);a.current=l==="mounted"?d:"none"},[l]),gs(()=>{const d=n.current,m=s.current;if(m!==e){const p=a.current,h=cc(d);e?c("MOUNT"):h==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&p!==h?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),gs(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,f=h=>{const y=cc(n.current).includes(h.animationName);if(h.target===t&&y&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},p=h=>{h.target===t&&(a.current=cc(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function cc(e){return(e==null?void 0:e.animationName)||"none"}function s2(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var a2=ep[" useInsertionEffect ".trim().toString()]||gs;function qa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=i2({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const m=u.useRef(e!==void 0);u.useEffect(()=>{const f=m.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,n])}const d=u.useCallback(m=>{var f;if(l){const p=o2(m)?m(e):m;p!==e&&((f=o.current)==null||f.call(o,p))}else a(m)},[l,e,a,o]);return[c,d]}function i2({defaultProp:e,onChange:t}){const[r,n]=u.useState(e),s=u.useRef(r),a=u.useRef(t);return a2(()=>{a.current=t},[t]),u.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function o2(e){return typeof e=="function"}var l2=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),c2="VisuallyHidden",Gu=u.forwardRef((e,t)=>i.jsx(tt.span,{...e,ref:t,style:{...l2,...e.style}}));Gu.displayName=c2;var u2=Gu,Kp="ToastProvider",[Gp,d2,f2]=Hp("Toast"),[bw,oO]=tn("Toast",[f2]),[m2,Qu]=bw(Kp),Nw=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=u.useState(null),[d,m]=u.useState(0),f=u.useRef(!1),p=u.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kp}\`. Expected non-empty \`string\`.`),i.jsx(Gp.Provider,{scope:t,children:i.jsx(m2,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:u.useCallback(()=>m(h=>h+1),[]),onToastRemove:u.useCallback(()=>m(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};Nw.displayName=Kp;var Sw="ToastViewport",p2=["F8"],hm="toast.viewportPause",gm="toast.viewportResume",kw=u.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=p2,label:s="Notifications ({hotkey})",...a}=e,o=Qu(Sw,r),l=d2(r),c=u.useRef(null),d=u.useRef(null),m=u.useRef(null),f=u.useRef(null),p=vt(t,f,o.onViewportChange),h=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;u.useEffect(()=>{const w=v=>{var x;n.length!==0&&n.every(N=>v[N]||v.code===N)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[n]),u.useEffect(()=>{const w=c.current,v=f.current;if(b&&w&&v){const g=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(hm);v.dispatchEvent(j),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(gm);v.dispatchEvent(j),o.isClosePausedRef.current=!1}},N=j=>{!w.contains(j.relatedTarget)&&x()},S=()=>{w.contains(document.activeElement)||x()};return w.addEventListener("focusin",g),w.addEventListener("focusout",N),w.addEventListener("pointermove",g),w.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{w.removeEventListener("focusin",g),w.removeEventListener("focusout",N),w.removeEventListener("pointermove",g),w.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[b,o.isClosePausedRef]);const y=u.useCallback(({tabbingDirection:w})=>{const g=l().map(x=>{const N=x.ref.current,S=[N,...E2(N)];return w==="forwards"?S:S.reverse()});return(w==="forwards"?g.reverse():g).flat()},[l]);return u.useEffect(()=>{const w=f.current;if(w){const v=g=>{var S,j,C;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const T=document.activeElement,O=g.shiftKey;if(g.target===w&&O){(S=d.current)==null||S.focus();return}const D=y({tabbingDirection:O?"backwards":"forwards"}),F=D.findIndex(I=>I===T);ef(D.slice(F+1))?g.preventDefault():O?(j=d.current)==null||j.focus():(C=m.current)==null||C.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,y]),i.jsxs(e2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&i.jsx(vm,{ref:d,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"forwards"});ef(w)}}),i.jsx(Gp.Slot,{scope:r,children:i.jsx(tt.ol,{tabIndex:-1,...a,ref:p})}),b&&i.jsx(vm,{ref:m,onFocusFromOutsideViewport:()=>{const w=y({tabbingDirection:"backwards"});ef(w)}})]})});kw.displayName=Sw;var jw="ToastFocusProxy",vm=u.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,a=Qu(jw,r);return i.jsx(Gu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=a.viewport)!=null&&d.contains(l))&&n()}})});vm.displayName=jw;var Al="Toast",h2="toast.swipeStart",g2="toast.swipeMove",v2="toast.swipeCancel",y2="toast.swipeEnd",Cw=u.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=e,[l,c]=qa({prop:n,defaultProp:s??!0,onChange:a,caller:Al});return i.jsx(ha,{present:r||l,children:i.jsx(b2,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Sn(e.onPause),onResume:Sn(e.onResume),onSwipeStart:Ke(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,d=>{const{x:m,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,d=>{const{x:m,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});Cw.displayName=Al;var[x2,w2]=bw(Al,{onClose(){}}),b2=u.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:m,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:h,...b}=e,y=Qu(Al,r),[w,v]=u.useState(null),g=vt(t,I=>v(I)),x=u.useRef(null),N=u.useRef(null),S=s||y.duration,j=u.useRef(0),C=u.useRef(S),T=u.useRef(0),{onToastAdd:O,onToastRemove:V}=y,z=Sn(()=>{var Y;(w==null?void 0:w.contains(document.activeElement))&&((Y=y.viewport)==null||Y.focus()),o()}),D=u.useCallback(I=>{!I||I===1/0||(window.clearTimeout(T.current),j.current=new Date().getTime(),T.current=window.setTimeout(z,I))},[z]);u.useEffect(()=>{const I=y.viewport;if(I){const Y=()=>{D(C.current),d==null||d()},X=()=>{const ee=new Date().getTime()-j.current;C.current=C.current-ee,window.clearTimeout(T.current),c==null||c()};return I.addEventListener(hm,X),I.addEventListener(gm,Y),()=>{I.removeEventListener(hm,X),I.removeEventListener(gm,Y)}}},[y.viewport,S,c,d,D]),u.useEffect(()=>{a&&!y.isClosePausedRef.current&&D(S)},[a,S,y.isClosePausedRef,D]),u.useEffect(()=>(O(),()=>V()),[O,V]);const F=u.useMemo(()=>w?Iw(w):null,[w]);return y.viewport?i.jsxs(i.Fragment,{children:[F&&i.jsx(N2,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),i.jsx(x2,{scope:r,onClose:z,children:Tl.createPortal(i.jsx(Gp.ItemSlot,{scope:r,children:i.jsx(JC,{asChild:!0,onEscapeKeyDown:Ke(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||z(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:Ke(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:Ke(e.onPointerMove,I=>{if(!x.current)return;const Y=I.clientX-x.current.x,X=I.clientY-x.current.y,ee=!!N.current,P=["left","right"].includes(y.swipeDirection),E=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,W=P?E(0,Y):0,A=P?0:E(0,X),ae=I.pointerType==="touch"?10:2,Q={x:W,y:A},xe={originalEvent:I,delta:Q};ee?(N.current=Q,uc(g2,f,xe,{discrete:!1})):uv(Q,y.swipeDirection,ae)?(N.current=Q,uc(h2,m,xe,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(Y)>ae||Math.abs(X)>ae)&&(x.current=null)}),onPointerUp:Ke(e.onPointerUp,I=>{const Y=N.current,X=I.target;if(X.hasPointerCapture(I.pointerId)&&X.releasePointerCapture(I.pointerId),N.current=null,x.current=null,Y){const ee=I.currentTarget,P={originalEvent:I,delta:Y};uv(Y,y.swipeDirection,y.swipeThreshold)?uc(y2,h,P,{discrete:!0}):uc(v2,p,P,{discrete:!0}),ee.addEventListener("click",E=>E.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),N2=e=>{const{__scopeToast:t,children:r,...n}=e,s=Qu(Al,t),[a,o]=u.useState(!1),[l,c]=u.useState(!1);return j2(()=>o(!0)),u.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:i.jsx(qp,{asChild:!0,children:i.jsx(Gu,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},S2="ToastTitle",Ew=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(tt.div,{...n,ref:t})});Ew.displayName=S2;var k2="ToastDescription",_w=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return i.jsx(tt.div,{...n,ref:t})});_w.displayName=k2;var Pw="ToastAction",Tw=u.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?i.jsx(Rw,{altText:r,asChild:!0,children:i.jsx(Qp,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pw}\`. Expected non-empty \`string\`.`),null)});Tw.displayName=Pw;var Aw="ToastClose",Qp=u.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=w2(Aw,r);return i.jsx(Rw,{asChild:!0,children:i.jsx(tt.button,{type:"button",...n,ref:t,onClick:Ke(e.onClick,s.onClose)})})});Qp.displayName=Aw;var Rw=u.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return i.jsx(tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Iw(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),C2(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Iw(n))}}),t}function uc(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?vw(s,a):s.dispatchEvent(a)}var uv=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),a=n>s;return t==="left"||t==="right"?a&&n>r:!a&&s>r};function j2(e=()=>{}){const t=Sn(e);gs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function C2(e){return e.nodeType===e.ELEMENT_NODE}function E2(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ef(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var _2=Nw,Ow=kw,Mw=Cw,Dw=Ew,Fw=_w,Lw=Tw,zw=Qp;function Vw(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Vw(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $w(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Vw(e))&&(n&&(n+=" "),n+=t);return n}const dv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fv=$w,Zu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return fv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(d=>{const m=r==null?void 0:r[d],f=a==null?void 0:a[d];if(m===null)return null;const p=dv(m)||dv(f);return s[d][p]}),l=r&&Object.entries(r).reduce((d,m)=>{let[f,p]=m;return p===void 0||(d[f]=p),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,m)=>{let{class:f,className:p,...h}=m;return Object.entries(h).every(b=>{let[y,w]=b;return Array.isArray(w)?w.includes({...a,...l}[y]):{...a,...l}[y]===w})?[...d,f,p]:d},[]);return fv(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>u.createElement("svg",{ref:c,...T2,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Uw("lucide",s),...l},[...o.map(([d,m])=>u.createElement(d,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const r=u.forwardRef(({className:n,...s},a)=>u.createElement(A2,{ref:a,iconNode:t,className:Uw(`lucide-${P2(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=Ie("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Ie("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Ie("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Ie("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Ie("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=Ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Ie("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ie("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=Ie("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Ie("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Ie("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Ie("Delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=Ie("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=Ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=Ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=Ie("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Ie("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=Ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=Ie("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Ie("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=Ie("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ie("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=Ie("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ie("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=Ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=Ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=Ie("MonitorSpeaker",[["path",{d:"M5.5 20H8",key:"1k40s5"}],["path",{d:"M17 9h.01",key:"1j24nn"}],["rect",{width:"10",height:"16",x:"12",y:"4",rx:"2",key:"ixliua"}],["path",{d:"M8 6H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h4",key:"1mp6e1"}],["circle",{cx:"17",cy:"15",r:"1",key:"tqvash"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Ie("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=Ie("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=Ie("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=Ie("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=Ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=Ie("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Ie("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Ie("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=Ie("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Ie("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Ie("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=Ie("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ie("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ie("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Ie("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ie("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Ie("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ie("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=Ie("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yp="-",J2=e=>{const t=tE(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Yp);return l[0]===""&&l.length!==1&&l.shift(),Jw(l,t)||eE(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Jw=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Jw(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Yp);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},xv=/^\[(.+)\]$/,eE=e=>{if(xv.test(e)){const t=xv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},tE=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return nE(Object.entries(e.classGroups),r).forEach(([a,o])=>{bm(o,n,a,t)}),n},bm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:wv(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(rE(s)){bm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{bm(o,wv(t,a),r,n)})})},wv=(e,t)=>{let r=e;return t.split(Yp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},rE=e=>e.isThemeGetter,nE=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,sE=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},eb="!",aE=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let d=0,m=0,f;for(let w=0;w<l.length;w++){let v=l[w];if(d===0){if(v===s&&(n||l.slice(w,w+a)===t)){c.push(l.slice(m,w)),m=w+a;continue}if(v==="/"){f=w;continue}}v==="["?d++:v==="]"&&d--}const p=c.length===0?l:l.substring(m),h=p.startsWith(eb),b=h?p.substring(1):p,y=f&&f>m?f-m:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},iE=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},oE=e=>({cache:sE(e.cacheSize),parseClassName:aE(e),...J2(e)}),lE=/\s+/,cE=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(lE);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:m,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:h}=r(d);let b=!!h,y=n(b?p.substring(0,h):p);if(!y){if(!b){l=d+(l.length>0?" "+l:l);continue}if(y=n(p),!y){l=d+(l.length>0?" "+l:l);continue}b=!1}const w=iE(m).join(":"),v=f?w+eb:w,g=v+y;if(a.includes(g))continue;a.push(g);const x=s(y,b);for(let N=0;N<x.length;++N){const S=x[N];a.push(v+S)}l=d+(l.length>0?" "+l:l)}return l};function uE(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tb(t))&&(n&&(n+=" "),n+=r);return n}const tb=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=tb(e[n]))&&(r&&(r+=" "),r+=t);return r};function dE(e,...t){let r,n,s,a=o;function o(c){const d=t.reduce((m,f)=>f(m),e());return r=oE(d),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const d=n(c);if(d)return d;const m=cE(c,r);return s(c,m),m}return function(){return a(uE.apply(null,arguments))}}const Ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rb=/^\[(?:([a-z-]+):)?(.+)\]$/i,fE=/^\d+\/\d+$/,mE=new Set(["px","full","screen"]),pE=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hE=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gE=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vE=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yE=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=e=>bi(e)||mE.has(e)||fE.test(e),Es=e=>Ji(e,"length",CE),bi=e=>!!e&&!Number.isNaN(Number(e)),nf=e=>Ji(e,"number",bi),No=e=>!!e&&Number.isInteger(Number(e)),xE=e=>e.endsWith("%")&&bi(e.slice(0,-1)),Ze=e=>rb.test(e),_s=e=>pE.test(e),wE=new Set(["length","size","percentage"]),bE=e=>Ji(e,wE,nb),NE=e=>Ji(e,"position",nb),SE=new Set(["image","url"]),kE=e=>Ji(e,SE,_E),jE=e=>Ji(e,"",EE),So=()=>!0,Ji=(e,t,r)=>{const n=rb.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},CE=e=>hE.test(e)&&!gE.test(e),nb=()=>!1,EE=e=>vE.test(e),_E=e=>yE.test(e),PE=()=>{const e=Ct("colors"),t=Ct("spacing"),r=Ct("blur"),n=Ct("brightness"),s=Ct("borderColor"),a=Ct("borderRadius"),o=Ct("borderSpacing"),l=Ct("borderWidth"),c=Ct("contrast"),d=Ct("grayscale"),m=Ct("hueRotate"),f=Ct("invert"),p=Ct("gap"),h=Ct("gradientColorStops"),b=Ct("gradientColorStopPositions"),y=Ct("inset"),w=Ct("margin"),v=Ct("opacity"),g=Ct("padding"),x=Ct("saturate"),N=Ct("scale"),S=Ct("sepia"),j=Ct("skew"),C=Ct("space"),T=Ct("translate"),O=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Ze,t],D=()=>[Ze,t],F=()=>["",Jn,Es],I=()=>["auto",bi,Ze],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],E=()=>["","0",Ze],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>[bi,Ze];return{cacheSize:500,separator:":",theme:{colors:[So],spacing:[Jn,Es],blur:["none","",_s,Ze],brightness:A(),borderColor:[e],borderRadius:["none","","full",_s,Ze],borderSpacing:D(),borderWidth:F(),contrast:A(),grayscale:E(),hueRotate:A(),invert:E(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[xE,Es],inset:z(),margin:z(),opacity:A(),padding:D(),saturate:A(),scale:A(),sepia:E(),skew:A(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[_s]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ze]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",No,Ze]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:E()}],shrink:[{shrink:E()}],order:[{order:["first","last","none",No,Ze]}],"grid-cols":[{"grid-cols":[So]}],"col-start-end":[{col:["auto",{span:["full",No,Ze]},Ze]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[So]}],"row-start-end":[{row:["auto",{span:[No,Ze]},Ze]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,t]}],"min-w":[{"min-w":[Ze,t,"min","max","fit"]}],"max-w":[{"max-w":[Ze,t,"none","full","min","max","fit","prose",{screen:[_s]},_s]}],h:[{h:[Ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",_s,Es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",nf]}],"font-family":[{font:[So]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",bi,nf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,Es]}],"underline-offset":[{"underline-offset":["auto",Jn,Ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),NE]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bE]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kE]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Jn,Ze]}],"outline-w":[{outline:[Jn,Es]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Jn,Es]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",_s,jE]}],"shadow-color":[{shadow:[So]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",_s,Ze]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[No,Ze]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jn,Es,nf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TE=dE(PE);function be(...e){return TE($w(e))}const AE=_2,sb=u.forwardRef(({className:e,...t},r)=>i.jsx(Ow,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));sb.displayName=Ow.displayName;const RE=Zu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ab=u.forwardRef(({className:e,variant:t,...r},n)=>i.jsx(Mw,{ref:n,className:be(RE({variant:t}),e),...r}));ab.displayName=Mw.displayName;const IE=u.forwardRef(({className:e,...t},r)=>i.jsx(Lw,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));IE.displayName=Lw.displayName;const ib=u.forwardRef(({className:e,...t},r)=>i.jsx(zw,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(yn,{className:"h-4 w-4"})}));ib.displayName=zw.displayName;const ob=u.forwardRef(({className:e,...t},r)=>i.jsx(Dw,{ref:r,className:be("text-sm font-semibold",e),...t}));ob.displayName=Dw.displayName;const lb=u.forwardRef(({className:e,...t},r)=>i.jsx(Fw,{ref:r,className:be("text-sm opacity-90",e),...t}));lb.displayName=Fw.displayName;function OE(){const{toasts:e}=en();return i.jsxs(AE,{children:[e.map(function({id:t,title:r,description:n,action:s,...a}){return i.jsxs(ab,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(ob,{children:r}),n&&i.jsx(lb,{children:n})]}),s,i.jsx(ib,{})]},t)}),i.jsx(sb,{})]})}var bv=["light","dark"],ME="(prefers-color-scheme: dark)",DE=u.createContext(void 0),FE={setTheme:e=>{},themes:[]},LE=()=>{var e;return(e=u.useContext(DE))!=null?e:FE};u.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let d=a==="system",m=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?bv.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(b,y=!1,w=!0)=>{let v=o?o[b]:b,g=y?b+"|| ''":`'${v}'`,x="";return s&&w&&!y&&bv.includes(b)&&(x+=`d.style.colorScheme = '${b}';`),r==="class"?y||v?x+=`c.add(${g})`:x+="null":v&&(x+=`d[s](n,${g})`),x},h=e?`!function(){${m}${p(e)}}()`:n?`!function(){try{${m}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${ME}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${m}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(a,!1,!1)};}${f}}catch(t){}}();`;return u.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:h}})});var zE=e=>{switch(e){case"success":return UE;case"info":return WE;case"warning":return BE;case"error":return HE;default:return null}},VE=Array(12).fill(0),$E=({visible:e,className:t})=>ce.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ce.createElement("div",{className:"sonner-spinner"},VE.map((r,n)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),UE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),BE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),HE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qE=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),KE=()=>{let[e,t]=ce.useState(document.hidden);return ce.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Nm=1,GE=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Nm++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],ce.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(ZE(c)&&!c.ok){s=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:m})}else if(t.success!==void 0){s=!1;let d=typeof t.success=="function"?await t.success(c):t.success,m=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:m})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let d=typeof t.error=="function"?await t.error(c):t.error,m=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:m})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,d)=>o.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Nm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Nr=new GE,QE=(e,t)=>{let r=(t==null?void 0:t.id)||Nm++;return Nr.addToast({title:e,...t,id:r}),r},ZE=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",YE=QE,XE=()=>Nr.toasts,JE=()=>Nr.getActiveToasts();Object.assign(YE,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:XE,getToasts:JE});function e_(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}e_(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function dc(e){return e.label!==void 0}var t_=3,r_="32px",n_="16px",Nv=4e3,s_=356,a_=14,i_=20,o_=200;function ln(...e){return e.filter(Boolean).join(" ")}function l_(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var c_=e=>{var t,r,n,s,a,o,l,c,d,m,f;let{invert:p,toast:h,unstyled:b,interacting:y,setHeights:w,visibleToasts:v,heights:g,index:x,toasts:N,expanded:S,removeToast:j,defaultRichColors:C,closeButton:T,style:O,cancelButtonStyle:V,actionButtonStyle:z,className:D="",descriptionClassName:F="",duration:I,position:Y,gap:X,loadingIcon:ee,expandByDefault:P,classNames:E,icons:W,closeButtonAriaLabel:A="Close toast",pauseWhenPageIsHidden:ae}=e,[Q,xe]=ce.useState(null),[Ne,Xe]=ce.useState(null),[ie,ve]=ce.useState(!1),[$,q]=ce.useState(!1),[se,L]=ce.useState(!1),[K,re]=ce.useState(!1),[ne,We]=ce.useState(!1),[At,dt]=ce.useState(0),[St,k]=ce.useState(0),R=ce.useRef(h.duration||I||Nv),B=ce.useRef(null),ge=ce.useRef(null),fe=x===0,G=x+1<=v,oe=h.type,Le=h.dismissible!==!1,$e=h.className||"",wt=h.descriptionClassName||"",Ut=ce.useMemo(()=>g.findIndex(De=>De.toastId===h.id)||0,[g,h.id]),bt=ce.useMemo(()=>{var De;return(De=h.closeButton)!=null?De:T},[h.closeButton,T]),nn=ce.useMemo(()=>h.duration||I||Nv,[h.duration,I]),ft=ce.useRef(0),mt=ce.useRef(0),_r=ce.useRef(0),Xt=ce.useRef(null),[Pt,xr]=Y.split("-"),Bt=ce.useMemo(()=>g.reduce((De,Qe,Z)=>Z>=Ut?De:De+Qe.height,0),[g,Ut]),Pr=KE(),En=h.invert||p,wr=oe==="loading";mt.current=ce.useMemo(()=>Ut*X+Bt,[Ut,Bt]),ce.useEffect(()=>{R.current=nn},[nn]),ce.useEffect(()=>{ve(!0)},[]),ce.useEffect(()=>{let De=ge.current;if(De){let Qe=De.getBoundingClientRect().height;return k(Qe),w(Z=>[{toastId:h.id,height:Qe,position:h.position},...Z]),()=>w(Z=>Z.filter(me=>me.toastId!==h.id))}},[w,h.id]),ce.useLayoutEffect(()=>{if(!ie)return;let De=ge.current,Qe=De.style.height;De.style.height="auto";let Z=De.getBoundingClientRect().height;De.style.height=Qe,k(Z),w(me=>me.find(we=>we.toastId===h.id)?me.map(we=>we.toastId===h.id?{...we,height:Z}:we):[{toastId:h.id,height:Z,position:h.position},...me])},[ie,h.title,h.description,w,h.id]);let dr=ce.useCallback(()=>{q(!0),dt(mt.current),w(De=>De.filter(Qe=>Qe.toastId!==h.id)),setTimeout(()=>{j(h)},o_)},[h,j,w,mt]);ce.useEffect(()=>{if(h.promise&&oe==="loading"||h.duration===1/0||h.type==="loading")return;let De;return S||y||ae&&Pr?(()=>{if(_r.current<ft.current){let Qe=new Date().getTime()-ft.current;R.current=R.current-Qe}_r.current=new Date().getTime()})():R.current!==1/0&&(ft.current=new Date().getTime(),De=setTimeout(()=>{var Qe;(Qe=h.onAutoClose)==null||Qe.call(h,h),dr()},R.current)),()=>clearTimeout(De)},[S,y,h,oe,ae,Pr,dr]),ce.useEffect(()=>{h.delete&&dr()},[dr,h.delete]);function Ns(){var De,Qe,Z;return W!=null&&W.loading?ce.createElement("div",{className:ln(E==null?void 0:E.loader,(De=h==null?void 0:h.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":oe==="loading"},W.loading):ee?ce.createElement("div",{className:ln(E==null?void 0:E.loader,(Qe=h==null?void 0:h.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":oe==="loading"},ee):ce.createElement($E,{className:ln(E==null?void 0:E.loader,(Z=h==null?void 0:h.classNames)==null?void 0:Z.loader),visible:oe==="loading"})}return ce.createElement("li",{tabIndex:0,ref:ge,className:ln(D,$e,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[oe],(r=h==null?void 0:h.classNames)==null?void 0:r[oe]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:C,"data-styled":!(h.jsx||h.unstyled||b),"data-mounted":ie,"data-promise":!!h.promise,"data-swiped":ne,"data-removed":$,"data-visible":G,"data-y-position":Pt,"data-x-position":xr,"data-index":x,"data-front":fe,"data-swiping":se,"data-dismissible":Le,"data-type":oe,"data-invert":En,"data-swipe-out":K,"data-swipe-direction":Ne,"data-expanded":!!(S||P&&ie),style:{"--index":x,"--toasts-before":x,"--z-index":N.length-x,"--offset":`${$?At:mt.current}px`,"--initial-height":P?"auto":`${St}px`,...O,...h.style},onDragEnd:()=>{L(!1),xe(null),Xt.current=null},onPointerDown:De=>{wr||!Le||(B.current=new Date,dt(mt.current),De.target.setPointerCapture(De.pointerId),De.target.tagName!=="BUTTON"&&(L(!0),Xt.current={x:De.clientX,y:De.clientY}))},onPointerUp:()=>{var De,Qe,Z,me;if(K||!Le)return;Xt.current=null;let we=Number(((De=ge.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ke=Number(((Qe=ge.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Oe=new Date().getTime()-((Z=B.current)==null?void 0:Z.getTime()),Je=Q==="x"?we:ke,Ge=Math.abs(Je)/Oe;if(Math.abs(Je)>=i_||Ge>.11){dt(mt.current),(me=h.onDismiss)==null||me.call(h,h),Xe(Q==="x"?we>0?"right":"left":ke>0?"down":"up"),dr(),re(!0),We(!1);return}L(!1),xe(null)},onPointerMove:De=>{var Qe,Z,me,we;if(!Xt.current||!Le||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;let ke=De.clientY-Xt.current.y,Oe=De.clientX-Xt.current.x,Je=(Z=e.swipeDirections)!=null?Z:l_(Y);!Q&&(Math.abs(Oe)>1||Math.abs(ke)>1)&&xe(Math.abs(Oe)>Math.abs(ke)?"x":"y");let Ge={x:0,y:0};Q==="y"?(Je.includes("top")||Je.includes("bottom"))&&(Je.includes("top")&&ke<0||Je.includes("bottom")&&ke>0)&&(Ge.y=ke):Q==="x"&&(Je.includes("left")||Je.includes("right"))&&(Je.includes("left")&&Oe<0||Je.includes("right")&&Oe>0)&&(Ge.x=Oe),(Math.abs(Ge.x)>0||Math.abs(Ge.y)>0)&&We(!0),(me=ge.current)==null||me.style.setProperty("--swipe-amount-x",`${Ge.x}px`),(we=ge.current)==null||we.style.setProperty("--swipe-amount-y",`${Ge.y}px`)}},bt&&!h.jsx?ce.createElement("button",{"aria-label":A,"data-disabled":wr,"data-close-button":!0,onClick:wr||!Le?()=>{}:()=>{var De;dr(),(De=h.onDismiss)==null||De.call(h,h)},className:ln(E==null?void 0:E.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},(a=W==null?void 0:W.close)!=null?a:qE):null,h.jsx||u.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:ce.createElement(ce.Fragment,null,oe||h.icon||h.promise?ce.createElement("div",{"data-icon":"",className:ln(E==null?void 0:E.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ns():null,h.type!=="loading"?h.icon||(W==null?void 0:W[oe])||zE(oe):null):null,ce.createElement("div",{"data-content":"",className:ln(E==null?void 0:E.content,(l=h==null?void 0:h.classNames)==null?void 0:l.content)},ce.createElement("div",{"data-title":"",className:ln(E==null?void 0:E.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?ce.createElement("div",{"data-description":"",className:ln(F,wt,E==null?void 0:E.description,(d=h==null?void 0:h.classNames)==null?void 0:d.description)},typeof h.description=="function"?h.description():h.description):null),u.isValidElement(h.cancel)?h.cancel:h.cancel&&dc(h.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||V,onClick:De=>{var Qe,Z;dc(h.cancel)&&Le&&((Z=(Qe=h.cancel).onClick)==null||Z.call(Qe,De),dr())},className:ln(E==null?void 0:E.cancelButton,(m=h==null?void 0:h.classNames)==null?void 0:m.cancelButton)},h.cancel.label):null,u.isValidElement(h.action)?h.action:h.action&&dc(h.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||z,onClick:De=>{var Qe,Z;dc(h.action)&&((Z=(Qe=h.action).onClick)==null||Z.call(Qe,De),!De.defaultPrevented&&dr())},className:ln(E==null?void 0:E.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function Sv(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function u_(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?n_:r_;function c(d){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${o}-${d}`]=l:r[`${o}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(l)}),r}var d_=u.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:d,theme:m="light",richColors:f,duration:p,style:h,visibleToasts:b=t_,toastOptions:y,dir:w=Sv(),gap:v=a_,loadingIcon:g,icons:x,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:S}=e,[j,C]=ce.useState([]),T=ce.useMemo(()=>Array.from(new Set([n].concat(j.filter(ae=>ae.position).map(ae=>ae.position)))),[j,n]),[O,V]=ce.useState([]),[z,D]=ce.useState(!1),[F,I]=ce.useState(!1),[Y,X]=ce.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=ce.useRef(null),P=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=ce.useRef(null),W=ce.useRef(!1),A=ce.useCallback(ae=>{C(Q=>{var xe;return(xe=Q.find(Ne=>Ne.id===ae.id))!=null&&xe.delete||Nr.dismiss(ae.id),Q.filter(({id:Ne})=>Ne!==ae.id)})},[]);return ce.useEffect(()=>Nr.subscribe(ae=>{if(ae.dismiss){C(Q=>Q.map(xe=>xe.id===ae.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{fw.flushSync(()=>{C(Q=>{let xe=Q.findIndex(Ne=>Ne.id===ae.id);return xe!==-1?[...Q.slice(0,xe),{...Q[xe],...ae},...Q.slice(xe+1)]:[ae,...Q]})})})}),[]),ce.useEffect(()=>{if(m!=="system"){X(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let ae=window.matchMedia("(prefers-color-scheme: dark)");try{ae.addEventListener("change",({matches:Q})=>{X(Q?"dark":"light")})}catch{ae.addListener(({matches:xe})=>{try{X(xe?"dark":"light")}catch(Ne){console.error(Ne)}})}},[m]),ce.useEffect(()=>{j.length<=1&&D(!1)},[j]),ce.useEffect(()=>{let ae=Q=>{var xe,Ne;s.every(Xe=>Q[Xe]||Q.code===Xe)&&(D(!0),(xe=ee.current)==null||xe.focus()),Q.code==="Escape"&&(document.activeElement===ee.current||(Ne=ee.current)!=null&&Ne.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ae),()=>document.removeEventListener("keydown",ae)},[s]),ce.useEffect(()=>{if(ee.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,W.current=!1)}},[ee.current]),ce.createElement("section",{ref:t,"aria-label":`${N} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((ae,Q)=>{var xe;let[Ne,Xe]=ae.split("-");return j.length?ce.createElement("ol",{key:ae,dir:w==="auto"?Sv():w,tabIndex:-1,ref:ee,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":Ne,"data-lifted":z&&j.length>1&&!a,"data-x-position":Xe,style:{"--front-toast-height":`${((xe=O[0])==null?void 0:xe.height)||0}px`,"--width":`${s_}px`,"--gap":`${v}px`,...h,...u_(c,d)},onBlur:ie=>{W.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(W.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||W.current||(W.current=!0,E.current=ie.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{F||D(!1)},onDragEnd:()=>D(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(ie=>!ie.position&&Q===0||ie.position===ae).map((ie,ve)=>{var $,q;return ce.createElement(c_,{key:ie.id,icons:x,index:ve,toast:ie,defaultRichColors:f,duration:($=y==null?void 0:y.duration)!=null?$:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:r,visibleToasts:b,closeButton:(q=y==null?void 0:y.closeButton)!=null?q:o,interacting:F,position:ae,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:A,toasts:j.filter(se=>se.position==ie.position),heights:O.filter(se=>se.position==ie.position),setHeights:V,expandByDefault:a,gap:v,loadingIcon:g,expanded:z,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const f_=({...e})=>{const{theme:t="system"}=LE();return i.jsx(d_,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var m_=ep[" useId ".trim().toString()]||(()=>{}),p_=0;function qo(e){const[t,r]=u.useState(m_());return gs(()=>{e||r(n=>n??String(p_++))},[e]),e||(t?`radix-${t}`:"")}const h_=["top","right","bottom","left"],la=Math.min,Dr=Math.max,mu=Math.round,fc=Math.floor,qn=e=>({x:e,y:e}),g_={left:"right",right:"left",bottom:"top",top:"bottom"},v_={start:"end",end:"start"};function Sm(e,t,r){return Dr(e,la(t,r))}function vs(e,t){return typeof e=="function"?e(t):e}function ys(e){return e.split("-")[0]}function eo(e){return e.split("-")[1]}function Xp(e){return e==="x"?"y":"x"}function Jp(e){return e==="y"?"height":"width"}const y_=new Set(["top","bottom"]);function $n(e){return y_.has(ys(e))?"y":"x"}function eh(e){return Xp($n(e))}function x_(e,t,r){r===void 0&&(r=!1);const n=eo(e),s=eh(e),a=Jp(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=pu(o)),[o,pu(o)]}function w_(e){const t=pu(e);return[km(e),t,km(t)]}function km(e){return e.replace(/start|end/g,t=>v_[t])}const kv=["left","right"],jv=["right","left"],b_=["top","bottom"],N_=["bottom","top"];function S_(e,t,r){switch(e){case"top":case"bottom":return r?t?jv:kv:t?kv:jv;case"left":case"right":return t?b_:N_;default:return[]}}function k_(e,t,r,n){const s=eo(e);let a=S_(ys(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(km)))),a}function pu(e){return e.replace(/left|right|bottom|top/g,t=>g_[t])}function j_(e){return{top:0,right:0,bottom:0,left:0,...e}}function cb(e){return typeof e!="number"?j_(e):{top:e,right:e,bottom:e,left:e}}function hu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Cv(e,t,r){let{reference:n,floating:s}=e;const a=$n(t),o=eh(t),l=Jp(o),c=ys(t),d=a==="y",m=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let h;switch(c){case"top":h={x:m,y:n.y-s.height};break;case"bottom":h={x:m,y:n.y+n.height};break;case"right":h={x:n.x+n.width,y:f};break;case"left":h={x:n.x-s.width,y:f};break;default:h={x:n.x,y:n.y}}switch(eo(t)){case"start":h[o]-=p*(r&&d?-1:1);break;case"end":h[o]+=p*(r&&d?-1:1);break}return h}const C_=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:m,y:f}=Cv(d,n,c),p=n,h={},b=0;for(let y=0;y<l.length;y++){const{name:w,fn:v}=l[y],{x:g,y:x,data:N,reset:S}=await v({x:m,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:h,rects:d,platform:o,elements:{reference:e,floating:t}});m=g??m,f=x??f,h={...h,[w]:{...h[w],...N}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(d=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:m,y:f}=Cv(d,p,c)),y=-1)}return{x:m,y:f,placement:p,strategy:s,middlewareData:h}};async function hl(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:p=!1,padding:h=0}=vs(t,e),b=cb(h),w=l[p?f==="floating"?"reference":"floating":f],v=hu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(w)))==null||r?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),g=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},S=hu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:x,strategy:c}):g);return{top:(v.top-S.top+b.top)/N.y,bottom:(S.bottom-v.bottom+b.bottom)/N.y,left:(v.left-S.left+b.left)/N.x,right:(S.right-v.right+b.right)/N.x}}const E_=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:m=0}=vs(e,t)||{};if(d==null)return{};const f=cb(m),p={x:r,y:n},h=eh(s),b=Jp(h),y=await o.getDimensions(d),w=h==="y",v=w?"top":"left",g=w?"bottom":"right",x=w?"clientHeight":"clientWidth",N=a.reference[b]+a.reference[h]-p[h]-a.floating[b],S=p[h]-a.reference[h],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=j?j[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=l.floating[x]||a.floating[b]);const T=N/2-S/2,O=C/2-y[b]/2-1,V=la(f[v],O),z=la(f[g],O),D=V,F=C-y[b]-z,I=C/2-y[b]/2+T,Y=Sm(D,I,F),X=!c.arrow&&eo(s)!=null&&I!==Y&&a.reference[b]/2-(I<D?V:z)-y[b]/2<0,ee=X?I<D?I-D:I-F:0;return{[h]:p[h]+ee,data:{[h]:Y,centerOffset:I-Y-ee,...X&&{alignmentOffset:ee}},reset:X}}}),__=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,...w}=vs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const v=ys(s),g=$n(l),x=ys(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),S=p||(x||!y?[pu(l)]:w_(l)),j=b!=="none";!p&&j&&S.push(...k_(l,y,b,N));const C=[l,...S],T=await hl(t,w),O=[];let V=((n=a.flip)==null?void 0:n.overflows)||[];if(m&&O.push(T[v]),f){const I=x_(s,o,N);O.push(T[I[0]],T[I[1]])}if(V=[...V,{placement:s,overflows:O}],!O.every(I=>I<=0)){var z,D;const I=(((z=a.flip)==null?void 0:z.index)||0)+1,Y=C[I];if(Y&&(!(f==="alignment"?g!==$n(Y):!1)||V.every(P=>P.overflows[0]>0&&$n(P.placement)===g)))return{data:{index:I,overflows:V},reset:{placement:Y}};let X=(D=V.filter(ee=>ee.overflows[0]<=0).sort((ee,P)=>ee.overflows[1]-P.overflows[1])[0])==null?void 0:D.placement;if(!X)switch(h){case"bestFit":{var F;const ee=(F=V.filter(P=>{if(j){const E=$n(P.placement);return E===g||E==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(E=>E>0).reduce((E,W)=>E+W,0)]).sort((P,E)=>P[1]-E[1])[0])==null?void 0:F[0];ee&&(X=ee);break}case"initialPlacement":X=l;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function Ev(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _v(e){return h_.some(t=>e[t]>=0)}const P_=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=vs(e,t);switch(n){case"referenceHidden":{const a=await hl(t,{...s,elementContext:"reference"}),o=Ev(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_v(o)}}}case"escaped":{const a=await hl(t,{...s,altBoundary:!0}),o=Ev(a,r.floating);return{data:{escapedOffsets:o,escaped:_v(o)}}}default:return{}}}}},ub=new Set(["left","top"]);async function T_(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ys(r),l=eo(r),c=$n(r)==="y",d=ub.has(o)?-1:1,m=a&&c?-1:1,f=vs(t,e);let{mainAxis:p,crossAxis:h,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(h=l==="end"?b*-1:b),c?{x:h*m,y:p*d}:{x:p*d,y:h*m}}const A_=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await T_(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},R_=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:v,y:g}=w;return{x:v,y:g}}},...c}=vs(e,t),d={x:r,y:n},m=await hl(t,c),f=$n(ys(s)),p=Xp(f);let h=d[p],b=d[f];if(a){const w=p==="y"?"top":"left",v=p==="y"?"bottom":"right",g=h+m[w],x=h-m[v];h=Sm(g,h,x)}if(o){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",g=b+m[w],x=b-m[v];b=Sm(g,b,x)}const y=l.fn({...t,[p]:h,[f]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[p]:a,[f]:o}}}}}},I_=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=vs(e,t),m={x:r,y:n},f=$n(s),p=Xp(f);let h=m[p],b=m[f];const y=vs(l,t),w=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const x=p==="y"?"height":"width",N=a.reference[p]-a.floating[x]+w.mainAxis,S=a.reference[p]+a.reference[x]-w.mainAxis;h<N?h=N:h>S&&(h=S)}if(d){var v,g;const x=p==="y"?"width":"height",N=ub.has(ys(s)),S=a.reference[f]-a.floating[x]+(N&&((v=o.offset)==null?void 0:v[f])||0)+(N?0:w.crossAxis),j=a.reference[f]+a.reference[x]+(N?0:((g=o.offset)==null?void 0:g[f])||0)-(N?w.crossAxis:0);b<S?b=S:b>j&&(b=j)}return{[p]:h,[f]:b}}}},O_=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...d}=vs(e,t),m=await hl(t,d),f=ys(s),p=eo(s),h=$n(s)==="y",{width:b,height:y}=a.floating;let w,v;f==="top"||f==="bottom"?(w=f,v=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,w=p==="end"?"top":"bottom");const g=y-m.top-m.bottom,x=b-m.left-m.right,N=la(y-m[w],g),S=la(b-m[v],x),j=!t.middlewareData.shift;let C=N,T=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=g),j&&!p){const V=Dr(m.left,0),z=Dr(m.right,0),D=Dr(m.top,0),F=Dr(m.bottom,0);h?T=b-2*(V!==0||z!==0?V+z:Dr(m.left,m.right)):C=y-2*(D!==0||F!==0?D+F:Dr(m.top,m.bottom))}await c({...t,availableWidth:T,availableHeight:C});const O=await o.getDimensions(l.floating);return b!==O.width||y!==O.height?{reset:{rects:!0}}:{}}}};function Xu(){return typeof window<"u"}function to(e){return db(e)?(e.nodeName||"").toLowerCase():"#document"}function zr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qn(e){var t;return(t=(db(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function db(e){return Xu()?e instanceof Node||e instanceof zr(e).Node:!1}function kn(e){return Xu()?e instanceof Element||e instanceof zr(e).Element:!1}function Gn(e){return Xu()?e instanceof HTMLElement||e instanceof zr(e).HTMLElement:!1}function Pv(e){return!Xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zr(e).ShadowRoot}const M_=new Set(["inline","contents"]);function Rl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!M_.has(s)}const D_=new Set(["table","td","th"]);function F_(e){return D_.has(to(e))}const L_=[":popover-open",":modal"];function Ju(e){return L_.some(t=>{try{return e.matches(t)}catch{return!1}})}const z_=["transform","translate","scale","rotate","perspective"],V_=["transform","translate","scale","rotate","perspective","filter"],$_=["paint","layout","strict","content"];function th(e){const t=rh(),r=kn(e)?jn(e):e;return z_.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||V_.some(n=>(r.willChange||"").includes(n))||$_.some(n=>(r.contain||"").includes(n))}function U_(e){let t=ca(e);for(;Gn(t)&&!Ui(t);){if(th(t))return t;if(Ju(t))return null;t=ca(t)}return null}function rh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const B_=new Set(["html","body","#document"]);function Ui(e){return B_.has(to(e))}function jn(e){return zr(e).getComputedStyle(e)}function ed(e){return kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ca(e){if(to(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pv(e)&&e.host||Qn(e);return Pv(t)?t.host:t}function fb(e){const t=ca(e);return Ui(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gn(t)&&Rl(t)?t:fb(t)}function gl(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=fb(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=zr(s);if(a){const l=jm(o);return t.concat(o,o.visualViewport||[],Rl(s)?s:[],l&&r?gl(l):[])}return t.concat(s,gl(s,[],r))}function jm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function mb(e){const t=jn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Gn(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=mu(r)!==a||mu(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function nh(e){return kn(e)?e:e.contextElement}function Ni(e){const t=nh(e);if(!Gn(t))return qn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=mb(t);let o=(a?mu(r.width):r.width)/n,l=(a?mu(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const W_=qn(0);function pb(e){const t=zr(e);return!rh()||!t.visualViewport?W_:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function H_(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zr(e)?!1:t}function $a(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=nh(e);let o=qn(1);t&&(n?kn(n)&&(o=Ni(n)):o=Ni(e));const l=H_(a,r,n)?pb(a):qn(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,m=s.width/o.x,f=s.height/o.y;if(a){const p=zr(a),h=n&&kn(n)?zr(n):n;let b=p,y=jm(b);for(;y&&n&&h!==b;){const w=Ni(y),v=y.getBoundingClientRect(),g=jn(y),x=v.left+(y.clientLeft+parseFloat(g.paddingLeft))*w.x,N=v.top+(y.clientTop+parseFloat(g.paddingTop))*w.y;c*=w.x,d*=w.y,m*=w.x,f*=w.y,c+=x,d+=N,b=zr(y),y=jm(b)}}return hu({width:m,height:f,x:c,y:d})}function sh(e,t){const r=ed(e).scrollLeft;return t?t.left+r:$a(Qn(e)).left+r}function hb(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:sh(e,n)),a=n.top+t.scrollTop;return{x:s,y:a}}function q_(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Qn(n),l=t?Ju(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=qn(1);const m=qn(0),f=Gn(n);if((f||!f&&!a)&&((to(n)!=="body"||Rl(o))&&(c=ed(n)),Gn(n))){const h=$a(n);d=Ni(n),m.x=h.x+n.clientLeft,m.y=h.y+n.clientTop}const p=o&&!f&&!a?hb(o,c,!0):qn(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+m.x+p.x,y:r.y*d.y-c.scrollTop*d.y+m.y+p.y}}function K_(e){return Array.from(e.getClientRects())}function G_(e){const t=Qn(e),r=ed(e),n=e.ownerDocument.body,s=Dr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Dr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+sh(e);const l=-r.scrollTop;return jn(n).direction==="rtl"&&(o+=Dr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function Q_(e,t){const r=zr(e),n=Qn(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=rh();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}const Z_=new Set(["absolute","fixed"]);function Y_(e,t){const r=$a(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Gn(e)?Ni(e):qn(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function Tv(e,t,r){let n;if(t==="viewport")n=Q_(e,r);else if(t==="document")n=G_(Qn(e));else if(kn(t))n=Y_(t,r);else{const s=pb(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return hu(n)}function gb(e,t){const r=ca(e);return r===t||!kn(r)||Ui(r)?!1:jn(r).position==="fixed"||gb(r,t)}function X_(e,t){const r=t.get(e);if(r)return r;let n=gl(e,[],!1).filter(l=>kn(l)&&to(l)!=="body"),s=null;const a=jn(e).position==="fixed";let o=a?ca(e):e;for(;kn(o)&&!Ui(o);){const l=jn(o),c=th(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&Z_.has(s.position)||Rl(o)&&!c&&gb(e,o))?n=n.filter(m=>m!==o):s=l,o=ca(o)}return t.set(e,n),n}function J_(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Ju(t)?[]:X_(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,m)=>{const f=Tv(t,m,s);return d.top=Dr(f.top,d.top),d.right=la(f.right,d.right),d.bottom=la(f.bottom,d.bottom),d.left=Dr(f.left,d.left),d},Tv(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eP(e){const{width:t,height:r}=mb(e);return{width:t,height:r}}function tP(e,t,r){const n=Gn(t),s=Qn(t),a=r==="fixed",o=$a(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=qn(0);function d(){c.x=sh(s)}if(n||!n&&!a)if((to(t)!=="body"||Rl(s))&&(l=ed(t)),n){const h=$a(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&d();a&&!n&&s&&d();const m=s&&!n&&!a?hb(s,l):qn(0),f=o.left+l.scrollLeft-c.x-m.x,p=o.top+l.scrollTop-c.y-m.y;return{x:f,y:p,width:o.width,height:o.height}}function sf(e){return jn(e).position==="static"}function Av(e,t){if(!Gn(e)||jn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qn(e)===r&&(r=r.ownerDocument.body),r}function vb(e,t){const r=zr(e);if(Ju(e))return r;if(!Gn(e)){let s=ca(e);for(;s&&!Ui(s);){if(kn(s)&&!sf(s))return s;s=ca(s)}return r}let n=Av(e,t);for(;n&&F_(n)&&sf(n);)n=Av(n,t);return n&&Ui(n)&&sf(n)&&!th(n)?r:n||U_(e)||r}const rP=async function(e){const t=this.getOffsetParent||vb,r=this.getDimensions,n=await r(e.floating);return{reference:tP(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function nP(e){return jn(e).direction==="rtl"}const sP={convertOffsetParentRelativeRectToViewportRelativeRect:q_,getDocumentElement:Qn,getClippingRect:J_,getOffsetParent:vb,getElementRects:rP,getClientRects:K_,getDimensions:eP,getScale:Ni,isElement:kn,isRTL:nP};function yb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aP(e,t){let r=null,n;const s=Qn(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:m,top:f,width:p,height:h}=d;if(l||t(),!p||!h)return;const b=fc(f),y=fc(s.clientWidth-(m+p)),w=fc(s.clientHeight-(f+h)),v=fc(m),x={rootMargin:-b+"px "+-y+"px "+-w+"px "+-v+"px",threshold:Dr(0,la(1,c))||1};let N=!0;function S(j){const C=j[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!yb(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(S,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,x)}r.observe(e)}return o(!0),a}function iP(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=nh(e),m=s||a?[...d?gl(d):[],...gl(t)]:[];m.forEach(v=>{s&&v.addEventListener("scroll",r,{passive:!0}),a&&v.addEventListener("resize",r)});const f=d&&l?aP(d,r):null;let p=-1,h=null;o&&(h=new ResizeObserver(v=>{let[g]=v;g&&g.target===d&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(t)})),r()}),d&&!c&&h.observe(d),h.observe(t));let b,y=c?$a(e):null;c&&w();function w(){const v=$a(e);y&&!yb(y,v)&&r(),y=v,b=requestAnimationFrame(w)}return r(),()=>{var v;m.forEach(g=>{s&&g.removeEventListener("scroll",r),a&&g.removeEventListener("resize",r)}),f==null||f(),(v=h)==null||v.disconnect(),h=null,c&&cancelAnimationFrame(b)}}const oP=A_,lP=R_,cP=__,uP=O_,dP=P_,Rv=E_,fP=I_,mP=(e,t,r)=>{const n=new Map,s={platform:sP,...r},a={...s.platform,_c:n};return C_(e,t,{...s,platform:a})};var pP=typeof document<"u",hP=function(){},Dc=pP?u.useLayoutEffect:hP;function gu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!gu(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function xb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Iv(e,t){const r=xb(e);return Math.round(t*r)/r}function af(e){const t=u.useRef(e);return Dc(()=>{t.current=e}),t}function gP(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,f]=u.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=u.useState(n);gu(p,n)||h(n);const[b,y]=u.useState(null),[w,v]=u.useState(null),g=u.useCallback(P=>{P!==j.current&&(j.current=P,y(P))},[]),x=u.useCallback(P=>{P!==C.current&&(C.current=P,v(P))},[]),N=a||b,S=o||w,j=u.useRef(null),C=u.useRef(null),T=u.useRef(m),O=c!=null,V=af(c),z=af(s),D=af(d),F=u.useCallback(()=>{if(!j.current||!C.current)return;const P={placement:t,strategy:r,middleware:p};z.current&&(P.platform=z.current),mP(j.current,C.current,P).then(E=>{const W={...E,isPositioned:D.current!==!1};I.current&&!gu(T.current,W)&&(T.current=W,Tl.flushSync(()=>{f(W)}))})},[p,t,r,z,D]);Dc(()=>{d===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[d]);const I=u.useRef(!1);Dc(()=>(I.current=!0,()=>{I.current=!1}),[]),Dc(()=>{if(N&&(j.current=N),S&&(C.current=S),N&&S){if(V.current)return V.current(N,S,F);F()}},[N,S,F,V,O]);const Y=u.useMemo(()=>({reference:j,floating:C,setReference:g,setFloating:x}),[g,x]),X=u.useMemo(()=>({reference:N,floating:S}),[N,S]),ee=u.useMemo(()=>{const P={position:r,left:0,top:0};if(!X.floating)return P;const E=Iv(X.floating,m.x),W=Iv(X.floating,m.y);return l?{...P,transform:"translate("+E+"px, "+W+"px)",...xb(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:E,top:W}},[r,l,X.floating,m.x,m.y]);return u.useMemo(()=>({...m,update:F,refs:Y,elements:X,floatingStyles:ee}),[m,F,Y,X,ee])}const vP=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Rv({element:n.current,padding:s}).fn(r):{}:n?Rv({element:n,padding:s}).fn(r):{}}}},yP=(e,t)=>({...oP(e),options:[e,t]}),xP=(e,t)=>({...lP(e),options:[e,t]}),wP=(e,t)=>({...fP(e),options:[e,t]}),bP=(e,t)=>({...cP(e),options:[e,t]}),NP=(e,t)=>({...uP(e),options:[e,t]}),SP=(e,t)=>({...dP(e),options:[e,t]}),kP=(e,t)=>({...vP(e),options:[e,t]});var jP="Arrow",wb=u.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(tt.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});wb.displayName=jP;var CP=wb;function td(e){const[t,r]=u.useState(void 0);return gs(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var bb="Popper",[Nb,Sb]=tn(bb),[lO,kb]=Nb(bb),jb="PopperAnchor",Cb=u.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=kb(jb,r),o=u.useRef(null),l=vt(t,o);return u.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(tt.div,{...s,ref:l})});Cb.displayName=jb;var ah="PopperContent",[EP,_P]=Nb(ah),Eb=u.forwardRef((e,t)=>{var ie,ve,$,q,se,L;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:b,...y}=e,w=kb(ah,r),[v,g]=u.useState(null),x=vt(t,K=>g(K)),[N,S]=u.useState(null),j=td(N),C=(j==null?void 0:j.width)??0,T=(j==null?void 0:j.height)??0,O=n+(a!=="center"?"-"+a:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},z=Array.isArray(d)?d:[d],D=z.length>0,F={padding:V,boundary:z.filter(TP),altBoundary:D},{refs:I,floatingStyles:Y,placement:X,isPositioned:ee,middlewareData:P}=gP({strategy:"fixed",placement:O,whileElementsMounted:(...K)=>iP(...K,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[yP({mainAxis:s+T,alignmentAxis:o}),c&&xP({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wP():void 0,...F}),c&&bP({...F}),NP({...F,apply:({elements:K,rects:re,availableWidth:ne,availableHeight:We})=>{const{width:At,height:dt}=re.reference,St=K.floating.style;St.setProperty("--radix-popper-available-width",`${ne}px`),St.setProperty("--radix-popper-available-height",`${We}px`),St.setProperty("--radix-popper-anchor-width",`${At}px`),St.setProperty("--radix-popper-anchor-height",`${dt}px`)}}),N&&kP({element:N,padding:l}),AP({arrowWidth:C,arrowHeight:T}),p&&SP({strategy:"referenceHidden",...F})]}),[E,W]=Tb(X),A=Sn(b);gs(()=>{ee&&(A==null||A())},[ee,A]);const ae=(ie=P.arrow)==null?void 0:ie.x,Q=(ve=P.arrow)==null?void 0:ve.y,xe=(($=P.arrow)==null?void 0:$.centerOffset)!==0,[Ne,Xe]=u.useState();return gs(()=>{v&&Xe(window.getComputedStyle(v).zIndex)},[v]),i.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ee?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ne,"--radix-popper-transform-origin":[(q=P.transformOrigin)==null?void 0:q.x,(se=P.transformOrigin)==null?void 0:se.y].join(" "),...((L=P.hide)==null?void 0:L.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(EP,{scope:r,placedSide:E,onArrowChange:S,arrowX:ae,arrowY:Q,shouldHideArrow:xe,children:i.jsx(tt.div,{"data-side":E,"data-align":W,...y,ref:x,style:{...y.style,animation:ee?void 0:"none"}})})})});Eb.displayName=ah;var _b="PopperArrow",PP={top:"bottom",right:"left",bottom:"top",left:"right"},Pb=u.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=_P(_b,n),o=PP[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(CP,{...s,ref:r,style:{...s.style,display:"block"}})})});Pb.displayName=_b;function TP(e){return e!==null}var AP=e=>({name:"transformOrigin",options:e,fn(t){var w,v,g;const{placement:r,rects:n,middlewareData:s}=t,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[d,m]=Tb(r),f={start:"0%",center:"50%",end:"100%"}[m],p=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,h=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let b="",y="";return d==="bottom"?(b=o?f:`${p}px`,y=`${-c}px`):d==="top"?(b=o?f:`${p}px`,y=`${n.floating.height+c}px`):d==="right"?(b=`${-c}px`,y=o?f:`${h}px`):d==="left"&&(b=`${n.floating.width+c}px`,y=o?f:`${h}px`),{data:{x:b,y}}}});function Tb(e){const[t,r="center"]=e.split("-");return[t,r]}var RP=Cb,IP=Eb,OP=Pb,[rd,cO]=tn("Tooltip",[Sb]),ih=Sb(),Ab="TooltipProvider",MP=700,Ov="tooltip.open",[DP,Rb]=rd(Ab),Ib=e=>{const{__scopeTooltip:t,delayDuration:r=MP,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=e,o=u.useRef(!0),l=u.useRef(!1),c=u.useRef(0);return u.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),i.jsx(DP,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:u.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:u.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:u.useCallback(d=>{l.current=d},[]),disableHoverableContent:s,children:a})};Ib.displayName=Ab;var Ob="Tooltip",[uO,nd]=rd(Ob),Cm="TooltipTrigger",FP=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=nd(Cm,r),a=Rb(Cm,r),o=ih(r),l=u.useRef(null),c=vt(t,l,s.onTriggerChange),d=u.useRef(!1),m=u.useRef(!1),f=u.useCallback(()=>d.current=!1,[]);return u.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(RP,{asChild:!0,...o,children:i.jsx(tt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ke(e.onPointerMove,p=>{p.pointerType!=="touch"&&!m.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ke(e.onPointerLeave,()=>{s.onTriggerLeave(),m.current=!1}),onPointerDown:Ke(e.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ke(e.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ke(e.onBlur,s.onClose),onClick:Ke(e.onClick,s.onClose)})})});FP.displayName=Cm;var LP="TooltipPortal",[dO,zP]=rd(LP,{forceMount:void 0}),Bi="TooltipContent",Mb=u.forwardRef((e,t)=>{const r=zP(Bi,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=e,o=nd(Bi,e.__scopeTooltip);return i.jsx(ha,{present:n||o.open,children:o.disableHoverableContent?i.jsx(Db,{side:s,...a,ref:t}):i.jsx(VP,{side:s,...a,ref:t})})}),VP=u.forwardRef((e,t)=>{const r=nd(Bi,e.__scopeTooltip),n=Rb(Bi,e.__scopeTooltip),s=u.useRef(null),a=vt(t,s),[o,l]=u.useState(null),{trigger:c,onClose:d}=r,m=s.current,{onPointerInTransitChange:f}=n,p=u.useCallback(()=>{l(null),f(!1)},[f]),h=u.useCallback((b,y)=>{const w=b.currentTarget,v={x:b.clientX,y:b.clientY},g=HP(v,w.getBoundingClientRect()),x=qP(v,g),N=KP(y.getBoundingClientRect()),S=QP([...x,...N]);l(S),f(!0)},[f]);return u.useEffect(()=>()=>p(),[p]),u.useEffect(()=>{if(c&&m){const b=w=>h(w,m),y=w=>h(w,c);return c.addEventListener("pointerleave",b),m.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),m.removeEventListener("pointerleave",y)}}},[c,m,h,p]),u.useEffect(()=>{if(o){const b=y=>{const w=y.target,v={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(w))||(m==null?void 0:m.contains(w)),x=!GP(v,o);g?p():x&&(p(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,m,o,d,p]),i.jsx(Db,{...e,ref:a})}),[$P,UP]=rd(Ob,{isInside:!1}),BP=gw("TooltipContent"),Db=u.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=nd(Bi,r),d=ih(r),{onClose:m}=c;return u.useEffect(()=>(document.addEventListener(Ov,m),()=>document.removeEventListener(Ov,m)),[m]),u.useEffect(()=>{if(c.trigger){const f=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,m]),i.jsx(Ku,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:i.jsxs(IP,{"data-state":c.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(BP,{children:n}),i.jsx($P,{scope:r,isInside:!0,children:i.jsx(u2,{id:c.contentId,role:"tooltip",children:s||n})})]})})});Mb.displayName=Bi;var Fb="TooltipArrow",WP=u.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=ih(r);return UP(Fb,r).isInside?null:i.jsx(OP,{...s,...n,ref:t})});WP.displayName=Fb;function HP(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function qP(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function KP(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function GP(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],d=l.x,m=l.y,f=c.x,p=c.y;m>n!=p>n&&r<(f-d)*(n-m)/(p-m)+d&&(s=!s)}return s}function QP(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),ZP(t)}function ZP(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var YP=Ib,Lb=Mb;const XP=YP,JP=u.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(Lb,{ref:n,sideOffset:t,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));JP.displayName=Lb.displayName;var sd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ad=typeof window>"u"||"Deno"in globalThis;function un(){}function eT(e,t){return typeof e=="function"?e(t):e}function tT(e){return typeof e=="number"&&e>=0&&e!==1/0}function rT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Em(e,t){return typeof e=="function"?e(t):e}function nT(e,t){return typeof e=="function"?e(t):e}function Mv(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==oh(o,t.options))return!1}else if(!yl(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function Dv(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(vl(t.options.mutationKey)!==vl(a))return!1}else if(!yl(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function oh(e,t){return((t==null?void 0:t.queryKeyHashFn)||vl)(e)}function vl(e){return JSON.stringify(e,(t,r)=>_m(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function yl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>yl(e[r],t[r])):!1}function zb(e,t){if(e===t)return e;const r=Fv(e)&&Fv(t);if(r||_m(e)&&_m(t)){const n=r?e:Object.keys(e),s=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{},c=new Set(n);let d=0;for(let m=0;m<o;m++){const f=r?m:a[m];(!r&&c.has(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=zb(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return s===o&&d===s?e:l}return t}function Fv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function _m(e){if(!Lv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Lv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function sT(e){return new Promise(t=>{setTimeout(t,e)})}function aT(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?zb(e,t):t}function iT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function oT(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lh=Symbol();function Vb(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===lh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ea,zs,Ei,Hy,lT=(Hy=class extends sd{constructor(){super();ct(this,Ea);ct(this,zs);ct(this,Ei);qe(this,Ei,t=>{if(!ad&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){J(this,zs)||this.setEventListener(J(this,Ei))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,zs))==null||t.call(this),qe(this,zs,void 0))}setEventListener(t){var r;qe(this,Ei,t),(r=J(this,zs))==null||r.call(this),qe(this,zs,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){J(this,Ea)!==t&&(qe(this,Ea,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof J(this,Ea)=="boolean"?J(this,Ea):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ea=new WeakMap,zs=new WeakMap,Ei=new WeakMap,Hy),$b=new lT,_i,Vs,Pi,qy,cT=(qy=class extends sd{constructor(){super();ct(this,_i,!0);ct(this,Vs);ct(this,Pi);qe(this,Pi,t=>{if(!ad&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){J(this,Vs)||this.setEventListener(J(this,Pi))}onUnsubscribe(){var t;this.hasListeners()||((t=J(this,Vs))==null||t.call(this),qe(this,Vs,void 0))}setEventListener(t){var r;qe(this,Pi,t),(r=J(this,Vs))==null||r.call(this),qe(this,Vs,t(this.setOnline.bind(this)))}setOnline(t){J(this,_i)!==t&&(qe(this,_i,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return J(this,_i)}},_i=new WeakMap,Vs=new WeakMap,Pi=new WeakMap,qy),vu=new cT;function uT(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function dT(e){return Math.min(1e3*2**e,3e4)}function Ub(e){return(e??"online")==="online"?vu.isOnline():!0}var Bb=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function of(e){return e instanceof Bb}function Wb(e){let t=!1,r=0,n=!1,s;const a=uT(),o=y=>{var w;n||(p(new Bb(y)),(w=e.abort)==null||w.call(e))},l=()=>{t=!0},c=()=>{t=!1},d=()=>$b.isFocused()&&(e.networkMode==="always"||vu.isOnline())&&e.canRun(),m=()=>Ub(e.networkMode)&&e.canRun(),f=y=>{var w;n||(n=!0,(w=e.onSuccess)==null||w.call(e,y),s==null||s(),a.resolve(y))},p=y=>{var w;n||(n=!0,(w=e.onError)==null||w.call(e,y),s==null||s(),a.reject(y))},h=()=>new Promise(y=>{var w;s=v=>{(n||d())&&y(v)},(w=e.onPause)==null||w.call(e)}).then(()=>{var y;s=void 0,n||(y=e.onContinue)==null||y.call(e)}),b=()=>{if(n)return;let y;const w=r===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(f).catch(v=>{var j;if(n)return;const g=e.retry??(ad?0:3),x=e.retryDelay??dT,N=typeof x=="function"?x(r,v):x,S=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!S){p(v);return}r++,(j=e.onFail)==null||j.call(e,r,v),sT(N).then(()=>d()?void 0:h()).then(()=>{t?p(v):b()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:m,start:()=>(m()?b():h().then(b),a)}}var fT=e=>setTimeout(e,0);function mT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=fT;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var hr=mT(),_a,Ky,Hb=(Ky=class{constructor(){ct(this,_a)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tT(this.gcTime)&&qe(this,_a,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ad?1/0:5*60*1e3))}clearGcTimeout(){J(this,_a)&&(clearTimeout(J(this,_a)),qe(this,_a,void 0))}},_a=new WeakMap,Ky),Ti,Pa,Kr,Ta,lr,Sl,Aa,dn,rs,Gy,pT=(Gy=class extends Hb{constructor(t){super();ct(this,dn);ct(this,Ti);ct(this,Pa);ct(this,Kr);ct(this,Ta);ct(this,lr);ct(this,Sl);ct(this,Aa);qe(this,Aa,!1),qe(this,Sl,t.defaultOptions),this.setOptions(t.options),this.observers=[],qe(this,Ta,t.client),qe(this,Kr,J(this,Ta).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,qe(this,Ti,gT(this.options)),this.state=t.state??J(this,Ti),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=J(this,lr))==null?void 0:t.promise}setOptions(t){this.options={...J(this,Sl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Kr).remove(this)}setData(t,r){const n=aT(this.state.data,t,this.options);return ar(this,dn,rs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ar(this,dn,rs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=J(this,lr))==null?void 0:n.promise;return(s=J(this,lr))==null||s.cancel(t),r?r.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,Ti))}isActive(){return this.observers.some(t=>nT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Em(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!rT(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=J(this,lr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=J(this,lr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),J(this,Kr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(J(this,lr)&&(J(this,Aa)?J(this,lr).cancel({revert:!0}):J(this,lr).cancelRetry()),this.scheduleGc()),J(this,Kr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ar(this,dn,rs).call(this,{type:"invalidate"})}fetch(t,r){var d,m,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(J(this,lr))return J(this,lr).continueRetry(),J(this,lr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(h=>h.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(qe(this,Aa,!0),n.signal)})},a=()=>{const p=Vb(this.options,r),b=(()=>{const y={client:J(this,Ta),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return qe(this,Aa,!1),this.options.persister?this.options.persister(p,b,this):p(b)},l=(()=>{const p={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:J(this,Ta),state:this.state,fetchFn:a};return s(p),p})();(d=this.options.behavior)==null||d.onFetch(l,this),qe(this,Pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=l.fetchOptions)==null?void 0:m.meta))&&ar(this,dn,rs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=p=>{var h,b,y,w;of(p)&&p.silent||ar(this,dn,rs).call(this,{type:"error",error:p}),of(p)||((b=(h=J(this,Kr).config).onError)==null||b.call(h,p,this),(w=(y=J(this,Kr).config).onSettled)==null||w.call(y,this.state.data,p,this)),this.scheduleGc()};return qe(this,lr,Wb({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var h,b,y,w;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(v){c(v);return}(b=(h=J(this,Kr).config).onSuccess)==null||b.call(h,p,this),(w=(y=J(this,Kr).config).onSettled)==null||w.call(y,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,h)=>{ar(this,dn,rs).call(this,{type:"failed",failureCount:p,error:h})},onPause:()=>{ar(this,dn,rs).call(this,{type:"pause"})},onContinue:()=>{ar(this,dn,rs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),J(this,lr).start()}},Ti=new WeakMap,Pa=new WeakMap,Kr=new WeakMap,Ta=new WeakMap,lr=new WeakMap,Sl=new WeakMap,Aa=new WeakMap,dn=new WeakSet,rs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hT(n.data,this.options),fetchMeta:t.meta??null};case"success":return qe(this,Pa,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return of(s)&&s.revert&&J(this,Pa)?{...J(this,Pa),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),hr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),J(this,Kr).notify({query:this,type:"updated",action:t})})},Gy);function hT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ub(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Mn,Qy,vT=(Qy=class extends sd{constructor(t={}){super();ct(this,Mn);this.config=t,qe(this,Mn,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??oh(s,r);let o=this.get(a);return o||(o=new pT({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){J(this,Mn).has(t.queryHash)||(J(this,Mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=J(this,Mn).get(t.queryHash);r&&(t.destroy(),r===t&&J(this,Mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return J(this,Mn).get(t)}getAll(){return[...J(this,Mn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Mv(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Mv(t,n)):r}notify(t){hr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){hr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mn=new WeakMap,Qy),Dn,fr,Ra,Fn,Ps,Zy,yT=(Zy=class extends Hb{constructor(t){super();ct(this,Fn);ct(this,Dn);ct(this,fr);ct(this,Ra);this.mutationId=t.mutationId,qe(this,fr,t.mutationCache),qe(this,Dn,[]),this.state=t.state||xT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){J(this,Dn).includes(t)||(J(this,Dn).push(t),this.clearGcTimeout(),J(this,fr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){qe(this,Dn,J(this,Dn).filter(r=>r!==t)),this.scheduleGc(),J(this,fr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){J(this,Dn).length||(this.state.status==="pending"?this.scheduleGc():J(this,fr).remove(this))}continue(){var t;return((t=J(this,Ra))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,l,c,d,m,f,p,h,b,y,w,v,g,x,N,S,j,C,T;const r=()=>{ar(this,Fn,Ps).call(this,{type:"continue"})};qe(this,Ra,Wb({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,V)=>{ar(this,Fn,Ps).call(this,{type:"failed",failureCount:O,error:V})},onPause:()=>{ar(this,Fn,Ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,fr).canRun(this)}));const n=this.state.status==="pending",s=!J(this,Ra).canStart();try{if(n)r();else{ar(this,Fn,Ps).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(a=J(this,fr).config).onMutate)==null?void 0:o.call(a,t,this));const V=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));V!==this.state.context&&ar(this,Fn,Ps).call(this,{type:"pending",context:V,variables:t,isPaused:s})}const O=await J(this,Ra).start();return await((m=(d=J(this,fr).config).onSuccess)==null?void 0:m.call(d,O,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,O,t,this.state.context)),await((b=(h=J(this,fr).config).onSettled)==null?void 0:b.call(h,O,null,this.state.variables,this.state.context,this)),await((w=(y=this.options).onSettled)==null?void 0:w.call(y,O,null,t,this.state.context)),ar(this,Fn,Ps).call(this,{type:"success",data:O}),O}catch(O){try{throw await((g=(v=J(this,fr).config).onError)==null?void 0:g.call(v,O,t,this.state.context,this)),await((N=(x=this.options).onError)==null?void 0:N.call(x,O,t,this.state.context)),await((j=(S=J(this,fr).config).onSettled)==null?void 0:j.call(S,void 0,O,this.state.variables,this.state.context,this)),await((T=(C=this.options).onSettled)==null?void 0:T.call(C,void 0,O,t,this.state.context)),O}finally{ar(this,Fn,Ps).call(this,{type:"error",error:O})}}finally{J(this,fr).runNext(this)}}},Dn=new WeakMap,fr=new WeakMap,Ra=new WeakMap,Fn=new WeakSet,Ps=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),hr.batch(()=>{J(this,Dn).forEach(n=>{n.onMutationUpdate(t)}),J(this,fr).notify({mutation:this,type:"updated",action:t})})},Zy);function xT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var as,fn,kl,Yy,wT=(Yy=class extends sd{constructor(t={}){super();ct(this,as);ct(this,fn);ct(this,kl);this.config=t,qe(this,as,new Set),qe(this,fn,new Map),qe(this,kl,0)}build(t,r,n){const s=new yT({mutationCache:this,mutationId:++Hl(this,kl)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){J(this,as).add(t);const r=mc(t);if(typeof r=="string"){const n=J(this,fn).get(r);n?n.push(t):J(this,fn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(J(this,as).delete(t)){const r=mc(t);if(typeof r=="string"){const n=J(this,fn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&J(this,fn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=mc(t);if(typeof r=="string"){const n=J(this,fn).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=mc(t);if(typeof r=="string"){const s=(n=J(this,fn).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){hr.batch(()=>{J(this,as).forEach(t=>{this.notify({type:"removed",mutation:t})}),J(this,as).clear(),J(this,fn).clear()})}getAll(){return Array.from(J(this,as))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Dv(r,n))}findAll(t={}){return this.getAll().filter(r=>Dv(t,r))}notify(t){hr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return hr.batch(()=>Promise.all(t.map(r=>r.continue().catch(un))))}},as=new WeakMap,fn=new WeakMap,kl=new WeakMap,Yy);function mc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function zv(e){return{onFetch:(t,r)=>{var m,f,p,h,b;const n=t.options,s=(p=(f=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,a=((h=t.state.data)==null?void 0:h.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let y=!1;const w=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=Vb(t.options,t.fetchOptions),g=async(x,N,S)=>{if(y)return Promise.reject();if(N==null&&x.pages.length)return Promise.resolve(x);const C=(()=>{const z={client:t.client,queryKey:t.queryKey,pageParam:N,direction:S?"backward":"forward",meta:t.options.meta};return w(z),z})(),T=await v(C),{maxPages:O}=t.options,V=S?oT:iT;return{pages:V(x.pages,T,O),pageParams:V(x.pageParams,N,O)}};if(s&&a.length){const x=s==="backward",N=x?bT:Vv,S={pages:a,pageParams:o},j=N(n,S);l=await g(S,j,x)}else{const x=e??a.length;do{const N=c===0?o[0]??n.initialPageParam:Vv(n,l);if(c>0&&N==null)break;l=await g(l,N),c++}while(c<x)}return l};t.options.persister?t.fetchFn=()=>{var y,w;return(w=(y=t.options).persister)==null?void 0:w.call(y,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function Vv(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function bT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var zt,$s,Us,Ai,Ri,Bs,Ii,Oi,Xy,NT=(Xy=class{constructor(e={}){ct(this,zt);ct(this,$s);ct(this,Us);ct(this,Ai);ct(this,Ri);ct(this,Bs);ct(this,Ii);ct(this,Oi);qe(this,zt,e.queryCache||new vT),qe(this,$s,e.mutationCache||new wT),qe(this,Us,e.defaultOptions||{}),qe(this,Ai,new Map),qe(this,Ri,new Map),qe(this,Bs,0)}mount(){Hl(this,Bs)._++,J(this,Bs)===1&&(qe(this,Ii,$b.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,zt).onFocus())})),qe(this,Oi,vu.subscribe(async e=>{e&&(await this.resumePausedMutations(),J(this,zt).onOnline())})))}unmount(){var e,t;Hl(this,Bs)._--,J(this,Bs)===0&&((e=J(this,Ii))==null||e.call(this),qe(this,Ii,void 0),(t=J(this,Oi))==null||t.call(this),qe(this,Oi,void 0))}isFetching(e){return J(this,zt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return J(this,$s).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=J(this,zt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=J(this,zt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Em(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return J(this,zt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=J(this,zt).get(n.queryHash),a=s==null?void 0:s.state.data,o=eT(t,a);if(o!==void 0)return J(this,zt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return hr.batch(()=>J(this,zt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=J(this,zt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=J(this,zt);hr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=J(this,zt);return hr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=hr.batch(()=>J(this,zt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(un).catch(un)}invalidateQueries(e,t={}){return hr.batch(()=>(J(this,zt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=hr.batch(()=>J(this,zt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(un)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=J(this,zt).build(this,t);return r.isStaleByTime(Em(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(un).catch(un)}fetchInfiniteQuery(e){return e.behavior=zv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(un).catch(un)}ensureInfiniteQueryData(e){return e.behavior=zv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vu.isOnline()?J(this,$s).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,zt)}getMutationCache(){return J(this,$s)}getDefaultOptions(){return J(this,Us)}setDefaultOptions(e){qe(this,Us,e)}setQueryDefaults(e,t){J(this,Ai).set(vl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...J(this,Ai).values()],r={};return t.forEach(n=>{yl(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){J(this,Ri).set(vl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...J(this,Ri).values()],r={};return t.forEach(n=>{yl(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...J(this,Us).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=oh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...J(this,Us).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){J(this,zt).clear(),J(this,$s).clear()}},zt=new WeakMap,$s=new WeakMap,Us=new WeakMap,Ai=new WeakMap,Ri=new WeakMap,Bs=new WeakMap,Ii=new WeakMap,Oi=new WeakMap,Xy),ST=u.createContext(void 0),kT=({client:e,children:t})=>(u.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(ST.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(this,arguments)}var qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qs||(qs={}));const $v="popstate";function jT(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Pm("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Kb(s)}return ET(t,r,null,e)}function Yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qb(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function CT(){return Math.random().toString(36).substr(2,8)}function Uv(e,t){return{usr:e.state,key:e.key,idx:t}}function Pm(e,t,r,n){return r===void 0&&(r=null),xl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ro(t):t,{state:r,key:t&&t.key||n||CT()})}function Kb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ro(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ET(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=qs.Pop,c=null,d=m();d==null&&(d=0,o.replaceState(xl({},o.state,{idx:d}),""));function m(){return(o.state||{idx:null}).idx}function f(){l=qs.Pop;let w=m(),v=w==null?null:w-d;d=w,c&&c({action:l,location:y.location,delta:v})}function p(w,v){l=qs.Push;let g=Pm(y.location,w,v);d=m()+1;let x=Uv(g,d),N=y.createHref(g);try{o.pushState(x,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(N)}a&&c&&c({action:l,location:y.location,delta:1})}function h(w,v){l=qs.Replace;let g=Pm(y.location,w,v);d=m();let x=Uv(g,d),N=y.createHref(g);o.replaceState(x,"",N),a&&c&&c({action:l,location:y.location,delta:0})}function b(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:Kb(w);return g=g.replace(/ $/,"%20"),Yt(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($v,f),c=w,()=>{s.removeEventListener($v,f),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let v=b(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:h,go(w){return o.go(w)}};return y}var Bv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bv||(Bv={}));function _T(e,t,r){return r===void 0&&(r="/"),PT(e,t,r,!1)}function PT(e,t,r,n){let s=typeof t=="string"?ro(t):t,a=Zb(s.pathname||"/",r);if(a==null)return null;let o=Gb(e);TT(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=$T(a);l=zT(o[c],d,n)}return l}function Gb(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Yt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ma([n,c.relativePath]),m=r.concat(c);a.children&&a.children.length>0&&(Yt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Gb(a.children,t,m,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:FT(d,a.index),routesMeta:m})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Qb(a.path))s(a,o,c)}),t}function Qb(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Qb(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function TT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:LT(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const AT=/^:[\w-]+$/,RT=3,IT=2,OT=1,MT=10,DT=-2,Wv=e=>e==="*";function FT(e,t){let r=e.split("/"),n=r.length;return r.some(Wv)&&(n+=DT),t&&(n+=IT),r.filter(s=>!Wv(s)).reduce((s,a)=>s+(AT.test(a)?RT:a===""?OT:MT),n)}function LT(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function zT(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,m=a==="/"?t:t.slice(a.length)||"/",f=Hv({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),p=c.route;if(!f&&d&&r&&!n[n.length-1].route.index&&(f=Hv({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ma([a,f.pathname]),pathnameBase:KT(Ma([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=Ma([a,f.pathnameBase]))}return o}function Hv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=VT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,m,f)=>{let{paramName:p,isOptional:h}=m;if(p==="*"){let y=l[f]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[f];return h&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function VT(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qb(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function $T(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qb(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zb(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function UT(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ro(e):e;return{pathname:r?r.startsWith("/")?r:BT(r,t):t,search:GT(n),hash:QT(s)}}function BT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function lf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function HT(e,t){let r=WT(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qT(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ro(e):(s=xl({},e),Yt(!s.pathname||!s.pathname.includes("?"),lf("?","pathname","search",s)),Yt(!s.pathname||!s.pathname.includes("#"),lf("#","pathname","hash",s)),Yt(!s.search||!s.search.includes("#"),lf("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}l=f>=0?t[f]:"/"}let c=UT(s,l),d=o&&o!=="/"&&o.endsWith("/"),m=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const Ma=e=>e.join("/").replace(/\/\/+/g,"/"),KT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),GT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Yb=["post","put","patch","delete"];new Set(Yb);const YT=["get",...Yb];new Set(YT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wl.apply(this,arguments)}const ch=u.createContext(null),XT=u.createContext(null),id=u.createContext(null),od=u.createContext(null),no=u.createContext({outlet:null,matches:[],isDataRoute:!1}),Xb=u.createContext(null);function ld(){return u.useContext(od)!=null}function uh(){return ld()||Yt(!1),u.useContext(od).location}function Jb(e){u.useContext(id).static||u.useLayoutEffect(e)}function dh(){let{isDataRoute:e}=u.useContext(no);return e?dA():JT()}function JT(){ld()||Yt(!1);let e=u.useContext(ch),{basename:t,future:r,navigator:n}=u.useContext(id),{matches:s}=u.useContext(no),{pathname:a}=uh(),o=JSON.stringify(HT(s,r.v7_relativeSplatPath)),l=u.useRef(!1);return Jb(()=>{l.current=!0}),u.useCallback(function(d,m){if(m===void 0&&(m={}),!l.current)return;if(typeof d=="number"){n.go(d);return}let f=qT(d,JSON.parse(o),a,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ma([t,f.pathname])),(m.replace?n.replace:n.push)(f,m.state,m)},[t,n,o,a,e])}function eA(e,t){return tA(e,t)}function tA(e,t,r,n){ld()||Yt(!1);let{navigator:s}=u.useContext(id),{matches:a}=u.useContext(no),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=uh(),m;if(t){var f;let w=typeof t=="string"?ro(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||Yt(!1),m=w}else m=d;let p=m.pathname||"/",h=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=_T(e,{pathname:h}),y=iA(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ma([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ma([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&y?u.createElement(od.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:qs.Pop}},y):y}function rA(){let e=uA(),t=ZT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},t),r?u.createElement("pre",{style:s},r):null,null)}const nA=u.createElement(rA,null);class sA extends u.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?u.createElement(no.Provider,{value:this.props.routeContext},u.createElement(Xb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aA(e){let{routeContext:t,match:r,children:n}=e,s=u.useContext(ch);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),u.createElement(no.Provider,{value:t},n)}function iA(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let m=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);m>=0||Yt(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<o.length;m++){let f=o[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:p,errors:h}=r,b=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,f,p)=>{let h,b=!1,y=null,w=null;r&&(h=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||nA,c&&(d<0&&p===0?(b=!0,w=null):d===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,p+1)),g=()=>{let x;return h?x=y:b?x=w:f.route.Component?x=u.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=m,u.createElement(aA,{match:f,routeContext:{outlet:m,matches:v,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?u.createElement(sA,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var e1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(e1||{}),yu=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(yu||{});function oA(e){let t=u.useContext(ch);return t||Yt(!1),t}function lA(e){let t=u.useContext(XT);return t||Yt(!1),t}function cA(e){let t=u.useContext(no);return t||Yt(!1),t}function t1(e){let t=cA(),r=t.matches[t.matches.length-1];return r.route.id||Yt(!1),r.route.id}function uA(){var e;let t=u.useContext(Xb),r=lA(yu.UseRouteError),n=t1(yu.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dA(){let{router:e}=oA(e1.UseNavigateStable),t=t1(yu.UseNavigateStable),r=u.useRef(!1);return Jb(()=>{r.current=!0}),u.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,wl({fromRouteId:t},a)))},[e,t])}function fA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Fc(e){Yt(!1)}function mA(e){let{basename:t="/",children:r=null,location:n,navigationType:s=qs.Pop,navigator:a,static:o=!1,future:l}=e;ld()&&Yt(!1);let c=t.replace(/^\/*/,"/"),d=u.useMemo(()=>({basename:c,navigator:a,static:o,future:wl({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=ro(n));let{pathname:m="/",search:f="",hash:p="",state:h=null,key:b="default"}=n,y=u.useMemo(()=>{let w=Zb(m,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:h,key:b},navigationType:s}},[c,m,f,p,h,b,s]);return y==null?null:u.createElement(id.Provider,{value:d},u.createElement(od.Provider,{children:r,value:y}))}function pA(e){let{children:t,location:r}=e;return eA(Tm(t),r)}new Promise(()=>{});function Tm(e,t){t===void 0&&(t=[]);let r=[];return u.Children.forEach(e,(n,s)=>{if(!u.isValidElement(n))return;let a=[...t,s];if(n.type===u.Fragment){r.push.apply(r,Tm(n.props.children,a));return}n.type!==Fc&&Yt(!1),!n.props.index||!n.props.children||Yt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Tm(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const hA="6";try{window.__reactRouterVersion=hA}catch{}const gA="startTransition",qv=ep[gA];function vA(e){let{basename:t,children:r,future:n,window:s}=e,a=u.useRef();a.current==null&&(a.current=jT({window:s,v5Compat:!0}));let o=a.current,[l,c]=u.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},m=u.useCallback(f=>{d&&qv?qv(()=>c(f)):c(f)},[c,d]);return u.useLayoutEffect(()=>o.listen(m),[o,m]),u.useEffect(()=>fA(n),[n]),u.createElement(mA,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var Kv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kv||(Kv={}));var Gv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Gv||(Gv={}));const st=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));st.displayName="Card";const yA=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",e),...t}));yA.displayName="CardHeader";const xA=u.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));xA.displayName="CardTitle";const wA=u.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",e),...t}));wA.displayName="CardDescription";const bA=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("p-6 pt-0",e),...t}));bA.displayName="CardContent";const NA=u.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",e),...t}));NA.displayName="CardFooter";const Qv=({onNavigate:e})=>{const t=[{id:"scale",icon:oa,title:"Bscula",description:"Pesar alimentos",borderColor:"border-primary/70",hoverBorder:"hover:border-primary hover:shadow-[0_0_30px_hsl(180_100%_50%/0.5)]",iconBg:"bg-primary/40",iconHoverBg:"group-hover:bg-primary",glowClass:"shadow-[0_0_25px_hsl(180_100%_50%/0.6),0_0_50px_hsl(180_100%_50%/0.3)] hover:glow-cyan"},{id:"scanner",icon:Wo,title:"Escner",description:"Identificar alimentos",borderColor:"border-secondary/70",hoverBorder:"hover:border-secondary hover:shadow-[0_0_30px_hsl(300_80%_55%/0.5)]",iconBg:"bg-secondary/40",iconHoverBg:"group-hover:bg-secondary",glowClass:"shadow-[0_0_25px_hsl(300_80%_55%/0.6),0_0_50px_hsl(300_80%_55%/0.3)] hover:glow-magenta"},{id:"timer",icon:G2,title:"Temporizador",description:"Temporizador de cocina",borderColor:"border-success/70",hoverBorder:"hover:border-success hover:shadow-[0_0_30px_hsl(150_70%_50%/0.5)]",iconBg:"bg-success/40",iconHoverBg:"group-hover:bg-success",glowClass:"shadow-[0_0_25px_hsl(150_70%_50%/0.6),0_0_50px_hsl(150_70%_50%/0.3)] hover:glow-green"},{id:"recipes",icon:O2,title:"Recetas",description:"Asistente de recetas",borderColor:"border-warning/70",hoverBorder:"hover:border-warning hover:shadow-[0_0_30px_hsl(40_100%_55%/0.5)]",iconBg:"bg-warning/40",iconHoverBg:"group-hover:bg-warning",glowClass:"shadow-[0_0_25px_hsl(40_100%_55%/0.6),0_0_50px_hsl(40_100%_55%/0.3)] hover:glow-yellow"}];return i.jsx("div",{className:"flex h-[600px] items-center justify-center bg-background p-3",children:i.jsxs("div",{className:"w-full max-w-5xl relative",children:[i.jsx("button",{onClick:()=>e("settings"),className:"absolute -top-24 right-0 z-10 rounded-full bg-muted/50 p-3 hover:bg-muted transition-smooth border border-muted",children:i.jsx(Yu,{className:"h-9 w-9"})}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(({id:r,icon:n,title:s,description:a,borderColor:o,hoverBorder:l,iconBg:c,iconHoverBg:d,glowClass:m})=>{const f=p=>{p.preventDefault(),p.stopPropagation(),console.log("MainMenu: Navigating to:",r),e(r)};return i.jsxs(st,{className:`group cursor-pointer overflow-hidden border-2 ${o} ${l} ${m} transition-smooth hover:scale-[1.02] active:scale-[0.98]`,onClick:f,children:[i.jsx("div",{className:"gradient-holographic absolute inset-0 opacity-0 transition-smooth group-hover:opacity-20 pointer-events-none"}),i.jsxs("div",{className:"relative py-5 px-4 text-center pointer-events-none",children:[i.jsx("div",{className:"mb-2 flex justify-center",children:i.jsx("div",{className:`rounded-2xl ${c} ${d} p-4 transition-smooth group-hover:text-primary-foreground`,children:i.jsx(n,{className:"h-12 w-12"})})}),i.jsx("h2",{className:"mb-1 text-2xl font-bold leading-tight",children:s}),i.jsx("p",{className:"text-base text-muted-foreground leading-tight",children:a})]})]},r)})})]})})},fh=Zu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium ring-offset-background transition-smooth focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 glow-cyan",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border-2 border-border bg-card hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 glow-magenta",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90 glow-green",warning:"bg-warning text-warning-foreground hover:bg-warning/90",glow:"bg-gradient-to-r from-primary to-primary-glow text-primary-foreground hover:opacity-90 glow-cyan"},size:{default:"h-12 px-5 py-3 text-base [&_svg]:size-5",sm:"h-10 rounded-md px-4 text-sm [&_svg]:size-4",lg:"h-14 rounded-lg px-8 text-lg [&_svg]:size-6",icon:"h-12 w-12 [&_svg]:size-6",xl:"h-16 rounded-lg px-12 text-xl [&_svg]:size-7",xxl:"h-20 rounded-xl px-16 text-2xl [&_svg]:size-8"}},defaultVariants:{variant:"default",size:"default"}}),U=u.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?VC:"button";return i.jsx(o,{className:be(fh({variant:t,size:r,className:e})),ref:a,...s})});U.displayName="Button";const ko=4,Zv="storage_version",xu=e=>{if(e)try{return JSON.parse(e)}catch(t){console.error("Failed to parse JSON from storage:",t);return}},r1=e=>e==="barcode"||e==="ai"||e==="manual",SA=e=>r1(e)?e:e==="camera"?"ai":"manual",kA=e=>{if(!e||typeof e!="object")return!1;const t=e;return typeof t.name=="string"&&typeof t.timestamp=="string"&&typeof t.carbs=="number"&&typeof t.weight=="number"&&typeof t.carbsPer100g=="number"&&typeof t.proteinsPer100g=="number"&&typeof t.fatsPer100g=="number"&&typeof t.kcalPer100g=="number"&&r1(t.source)},jA=e=>{if(kA(e))return e;if(!e||typeof e!="object")return null;const t=e,r=typeof t.name=="string"?t.name:void 0,n=typeof t.weight=="number"?t.weight:void 0,s=typeof t.carbs=="number"?t.carbs:void 0;if(!r||typeof n!="number"||typeof s!="number")return null;const a=typeof t.proteins=="number"?t.proteins:0,o=typeof t.fats=="number"?t.fats:0,l=typeof t.glycemicIndex=="number"?t.glycemicIndex:0,c=n>0?n:typeof t.portionWeight=="number"&&t.portionWeight>0?t.portionWeight:100,d=typeof t.carbsPer100g=="number"?t.carbsPer100g:s/c*100,m=typeof t.proteinsPer100g=="number"?t.proteinsPer100g:a/c*100,f=typeof t.fatsPer100g=="number"?t.fatsPer100g:o/c*100,p=typeof t.kcalPer100g=="number"?t.kcalPer100g:d*4+m*4+f*9,b=typeof t.timestamp=="string"?t.timestamp:typeof t.timestamp=="number"?new Date(t.timestamp).toISOString():typeof t.capturedAt=="string"?t.capturedAt:typeof t.capturedAt=="number"?new Date(t.capturedAt).toISOString():new Date().toISOString(),y={name:r,weight:n,carbs:s,proteins:a,fats:o,glycemicIndex:l,carbsPer100g:d,proteinsPer100g:m,fatsPer100g:f,kcalPer100g:p,source:SA(t.source),timestamp:b};return typeof t.id=="string"&&t.id.length>0&&(y.id=t.id),typeof t.capturedAt=="string"?y.capturedAt=t.capturedAt:typeof t.capturedAt=="number"&&(y.capturedAt=new Date(t.capturedAt).toISOString()),typeof t.kcal=="number"&&(y.kcal=t.kcal),typeof t.confidence=="number"&&(y.confidence=t.confidence),typeof t.portionWeight=="number"&&(y.portionWeight=t.portionWeight),typeof t.photo=="string"&&(y.photo=t.photo),y},CA=e=>{if(!e||typeof e!="object")return!1;const t=e;return t.type==="exportBolus"&&typeof t.carbs=="number"&&typeof t.timestamp=="string"&&typeof t.queuedAt=="number"},n1="bascula_settings",mi=n1,wa="bascula_history",Yv=100,s1={navSafeExit:!1,voiceSelector:!1,timerAlarms:!1,calibrationV2:!1,networkModal:!1,miniEbStable:!1,otaCheck:!1,otaApply:!1,debugLogs:!1,mascotMotion:!1},mh=1,Am=e=>{if(e!=null){if(e===0||e==="0")return 0;if(e===1||e==="1")return 1;if(e===!1)return 0;if(e===!0)return 1;if(typeof e=="number")return e<=0?0:1;if(typeof e=="string"){const t=Number.parseInt(e,10);if(!Number.isNaN(t))return t<=0?0:1}}},Rm=(e,t=mh)=>Am(e)??t,ja={calibrationFactor:1,defaultUnit:"g",scale:{decimals:mh},chatGptKey:"",apiUrl:"http://127.0.0.1:8080",wsUrl:"ws://127.0.0.1:8080",nightscoutUrl:"",nightscoutToken:"",diabetesMode:!1,correctionFactor:50,carbRatio:10,targetGlucose:100,hypoAlarm:70,hyperAlarm:180,isVoiceActive:!1,voiceId:void 0,wakeWordEnabled:!1,theme:"dark",timerAlarmSoundEnabled:!0,timerVoiceAnnouncementsEnabled:!1,uiVolume:1,ui:{flags:{...s1}}},Im=e=>({...e,scale:{...e.scale},ui:{...e.ui,flags:{...e.ui.flags}}}),Xv=e=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("app-settings-updated",{detail:{settings:e}}))},Si=(e,t)=>{const r=Im(e);if(!t)return r.scale.decimals=Rm(r.scale.decimals),r;const{ui:n,scale:s,...a}=t,o={...a};return"decimals"in o&&delete o.decimals,"showDecimal"in o&&delete o.showDecimal,Object.assign(r,o),s&&(r.scale={...r.scale,...s}),r.scale.decimals=Rm(r.scale.decimals),r.ui={...r.ui,...n,flags:{...r.ui.flags,...(n==null?void 0:n.flags)??{}}},r},Jv={1:e=>e,2:e=>(e.settings=Si(ja,e.settings),e),3:e=>(e.settings=Si(ja,e.settings),e),4:e=>{const t={...e.settings??{}},r=typeof t.scale=="object"&&t.scale!==null?{...t.scale}:{},n=Am(r.decimals)??Am(t.decimals)??(typeof t.showDecimal=="boolean"?t.showDecimal?1:0:void 0)??mh,s={...t};return s.scale={...r,decimals:n},delete s.decimals,delete s.showDecimal,s.scale&&(s.scale.decimals=Rm(s.scale.decimals)),e.settings=Si(ja,s),e}};function EA(){try{const e=parseInt(localStorage.getItem(Zv)||"0");if(e===ko)return;console.log(` Migrating storage from v${e} to v${ko}`);let t={settings:xu(localStorage.getItem(mi))??{},history:xu(localStorage.getItem(wa))??[]};for(let r=e+1;r<=ko;r++)Jv[r]&&(t=Jv[r](t),console.log(` Applied migration to v${r}`));localStorage.setItem(mi,JSON.stringify(t.settings??{})),localStorage.setItem(wa,JSON.stringify(Array.isArray(t.history)?t.history:[])),localStorage.setItem(Zv,ko.toString()),console.log(` Migration complete to v${ko}`)}catch(e){console.error(" Storage migration failed:",e)}}class _A{constructor(){EA()}getSettings(){try{const t=localStorage.getItem(mi);if(t){const r=JSON.parse(t);return Si(ja,r)}}catch(t){console.error("Error loading settings:",t)}return Im(ja)}saveSettings(t){try{const r=this.getSettings(),n=Si(r,t);localStorage.setItem(mi,JSON.stringify(n)),Xv(n)}catch(r){console.error("Error saving settings:",r)}}resetSettings(){try{localStorage.removeItem(mi),Xv(Im(ja))}catch(t){console.error("Error resetting settings:",t)}}getWeightHistory(){try{const t=localStorage.getItem(wa);if(t)return JSON.parse(t)}catch(t){console.error("Error loading history:",t)}return[]}addWeightRecord(t,r,n,s){try{const a=this.getWeightHistory(),o={id:Date.now().toString(),weight:t,unit:r,stable:n,timestamp:Date.now(),note:s};a.unshift(o);const l=a.slice(0,Yv);localStorage.setItem(wa,JSON.stringify(l))}catch(a){console.error("Error saving weight record:",a)}}deleteWeightRecord(t){try{const n=this.getWeightHistory().filter(s=>s.id!==t);localStorage.setItem(wa,JSON.stringify(n))}catch(r){console.error("Error deleting weight record:",r)}}clearWeightHistory(){try{localStorage.removeItem(wa)}catch(t){console.error("Error clearing history:",t)}}getScannerHistory(){try{const t=xu(localStorage.getItem("scanner_history"));if(Array.isArray(t))return t.map(jA).filter(r=>r!==null)}catch(t){console.error("Error loading scanner history:",t)}return[]}saveScannerHistory(t){try{localStorage.setItem("scanner_history",JSON.stringify(t))}catch(r){console.error("Error saving scanner history:",r)}}addScannerRecord(t){try{const r=this.getScannerHistory(),n=t.timestamp instanceof Date?t.timestamp.toISOString():t.timestamp??new Date().toISOString();r.unshift({...t,timestamp:n});const s=r.slice(0,Yv);this.saveScannerHistory(s)}catch(r){console.error("Error adding scanner record:",r)}}getScannerQueue(){try{const t=xu(localStorage.getItem("scanner_history_queue"));if(Array.isArray(t))return t.filter(CA)}catch(t){console.error("Error loading scanner queue:",t)}return[]}enqueueScannerAction(t){try{const r=this.getScannerQueue(),n=t.timestamp instanceof Date?t.timestamp.toISOString():t.timestamp;r.push({...t,timestamp:n,queuedAt:Date.now()}),localStorage.setItem("scanner_history_queue",JSON.stringify(r))}catch(r){console.error("Error enqueuing scanner action:",r)}}dequeueScannerAction(){try{const t=this.getScannerQueue();if(t.length===0)return null;const r=t.shift();return localStorage.setItem("scanner_history_queue",JSON.stringify(t)),r?{type:r.type,carbs:r.carbs,insulin:r.insulin,timestamp:r.timestamp}:null}catch(t){return console.error("Error dequeuing scanner action:",t),null}}clearScannerQueue(){try{localStorage.removeItem("scanner_history_queue")}catch(t){console.error("Error clearing scanner queue:",t)}}exportData(){const t={settings:this.getSettings(),history:this.getWeightHistory(),exportDate:new Date().toISOString()};return JSON.stringify(t,null,2)}importData(t){try{const r=JSON.parse(t);if(!r||typeof r!="object")return!1;const n=r;if(n.settings&&typeof n.settings=="object"){const s=Si(ja,n.settings);localStorage.setItem(mi,JSON.stringify(s))}return Array.isArray(n.history)&&localStorage.setItem(wa,JSON.stringify(n.history)),!0}catch(r){return console.error("Error importing data:",r),!1}}}const Te=new _A,PA=new Set(["localhost","127.0.0.1","::1"]),TA=(()=>{const e=[void 0,void 0,void 0,void 0],t=[];for(const r of e){if(typeof r!="string")continue;const n=r.split(",").map(s=>s.trim()).filter(Boolean);t.push(...n)}return t})(),cd=()=>{if(typeof window>"u")return!0;const t=(window.location.hostname||"").trim().toLowerCase();return!t||PA.has(t)?!0:TA.some(r=>r.toLowerCase()===t)},AA="ws://127.0.0.1:8080",cf=10,RA=1e3,IA=3e4,OA=500,MA=5e3,ud=()=>{const[e,t]=u.useState(0),[r,n]=u.useState(!1),[s,a]=u.useState("g"),[o,l]=u.useState(!1),[c,d]=u.useState(null),[m,f]=u.useState(0),[p,h]=u.useState(0),[b,y]=u.useState("reconnecting"),w=u.useRef(null),v=u.useRef(null),g=u.useRef(!0),x=u.useRef(null),N=u.useRef(null),S=u.useRef(!1),j=u.useRef(!1),C=u.useRef(0),T=u.useRef(null),O=u.useRef(null),V=u.useRef(!1),z=Te.getSettings(),D=typeof window<"u"?window.location.origin:"",F=cd(),I=(z.apiUrl||D).replace(/\/$/,""),Y=(z.wsUrl||AA).replace(/\/$/,""),X=F?I:D||I,ee=F?Y:D?D.replace(/^http/i,D.startsWith("https")?"wss":"ws"):Y,P=typeof window<"u"?window.location.hostname:"",E=/\.lovable\.app$/i.test(P),W=u.useCallback(()=>{const ve=Date.now(),$=C.current>0&&ve-C.current<=MA,q=j.current;l(q||$),y(q?"connected":$?"reconnecting":"no-data"),d(!q&&!$?"Error de conexin con la bscula":null)},[y,d,l]),A=u.useCallback(()=>{if(C.current===0){const ve=Date.now();C.current=ve,h(ve)}},[h]),ae=u.useCallback(()=>{C.current=0,h(0)},[h]),Q=u.useCallback(()=>{x.current&&(clearInterval(x.current),x.current=null),N.current&&(N.current.abort(),N.current=null),S.current=!1},[]),xe=u.useCallback(ve=>{if(ve){const $=Date.now();C.current=$,h($)}else if(C.current===0){const $=Date.now();C.current=$,h($)}W()},[h,W]),Ne=u.useCallback(()=>{if(E||x.current)return;A(),W();const ve=async()=>{var q;if(S.current)return;S.current=!0,(q=N.current)==null||q.abort();const $=new AbortController;N.current=$;try{const se=await fetch(`${X}/api/scale/weight`,{signal:$.signal});if(!se.ok){xe(!1);return}const L=await se.json(),K=L==null?void 0:L.value;let re=0;if(typeof K=="number"&&Number.isFinite(K))re=K;else if(typeof K=="string"){const ne=Number(K);if(Number.isNaN(ne)){xe(!1);return}re=ne}else if(K!==null){xe(!1);return}t(re),a("g"),n(!1),xe(!0)}catch(se){se.name!=="AbortError"&&xe(!1)}finally{S.current=!1}};ve(),x.current=setInterval(()=>{ve()},OA)},[X,A,xe,E,n,a,t,W]),Xe=ve=>Math.min(RA*Math.pow(2,ve),IA)+Math.random()*1e3,ie=u.useCallback(()=>{if(!F)return null;if(v.current&&(clearTimeout(v.current),v.current=null),m>=cf){j.current=!1,Ne(),W();return}try{const ve=new WebSocket(`${ee}/ws/scale`);return w.current=ve,ve.onopen=()=>{Q(),j.current=!0,ae(),f(0),W()},ve.onmessage=$=>{try{const q=JSON.parse($.data);typeof q.weight=="number"&&t(q.weight),typeof q.stable=="boolean"&&n(q.stable),(q.unit==="g"||q.unit==="ml")&&a(q.unit)}catch(q){console.error("Failed to parse WebSocket message:",q)}},ve.onerror=$=>{console.error("WebSocket error:",$)},ve.onclose=$=>{if(console.log("Scale WebSocket disconnected",$.code,$.reason),j.current=!1,w.current=null,Ne(),W(),g.current&&m<cf){const q=Xe(m);v.current=setTimeout(()=>{f(se=>se+1),ie()},q)}},ve}catch(ve){if(console.error("Failed to create WebSocket:",ve),j.current=!1,Ne(),W(),g.current&&m<cf){const $=Xe(m);v.current=setTimeout(()=>{f(q=>q+1),ie()},$)}return null}},[F,m,ae,n,a,t,Ne,Q,W,ee]);return u.useEffect(()=>{if(E){Q(),w.current&&(w.current.close(),w.current=null),T.current&&(T.current.close(),T.current=null),O.current&&(clearTimeout(O.current),O.current=null),V.current=!1,j.current=!0;const ve=Date.now();return C.current=ve,h(ve),t(127.5),n(!0),a("g"),l(!0),d(null),y("connected"),()=>{j.current=!1,Q(),v.current&&(clearTimeout(v.current),v.current=null),O.current&&(clearTimeout(O.current),O.current=null),W()}}return F?(g.current=!0,ie(),()=>{g.current=!1,Q(),v.current&&(clearTimeout(v.current),v.current=null),w.current&&(w.current.close(),w.current=null),j.current=!1,W()}):(g.current=!1,v.current&&(clearTimeout(v.current),v.current=null),w.current&&(w.current.close(),w.current=null),j.current=!1,W(),()=>{Q(),v.current&&(clearTimeout(v.current),v.current=null),w.current&&(w.current.close(),w.current=null)})},[ie,E,F,Q,W]),u.useEffect(()=>{C.current=p},[p]),u.useEffect(()=>{if(E||F)return;if(typeof window>"u"||typeof window.EventSource>"u")return j.current=!1,W(),Ne(),()=>{Q()};V.current=!0;const ve=()=>{V.current&&(O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{V.current&&(j.current=!1,W(),$())},1500))},$=()=>{if(V.current){T.current&&(T.current.close(),T.current=null);try{const q=new EventSource("/api/scale/events");T.current=q,q.onopen=()=>{V.current&&(j.current=!0,ae(),Q(),d(null),f(0),W())},q.addEventListener("weight",se=>{if(V.current)try{const K=JSON.parse(se.data),re=K==null?void 0:K.value;let ne=0;if(typeof re=="number"&&Number.isFinite(re))ne=re;else if(typeof re=="string"){const We=Number(re);Number.isNaN(We)||(ne=We)}t(ne),n(!1),a("g"),j.current=!0,W()}catch(L){console.error("Failed to parse SSE weight event",L)}}),q.onerror=()=>{V.current&&(j.current=!1,W(),Ne(),ve())}}catch(q){console.error("Failed to initialise SSE connection",q),j.current=!1,W(),Ne(),ve()}}};return $(),()=>{V.current=!1,O.current&&(clearTimeout(O.current),O.current=null),T.current&&(T.current.close(),T.current=null),Q(),j.current=!1,W()}},[E,F,ae,d,n,f,a,t,Ne,Q,W]),{weight:e,isStable:r,unit:s,isConnected:o,error:c,reconnectAttempts:m,connectionState:b}};class DA{constructor(){Or(this,"logs",[]);Or(this,"maxLogs",100);Or(this,"minLevel","info")}isDebugFlagEnabled(){try{return Te.getSettings().ui.flags.debugLogs}catch{return!1}}shouldLog(t){const r=["debug","info","warn","error"];return t==="debug"&&!this.isDebugFlagEnabled()?!1:r.indexOf(t)>=r.indexOf(this.minLevel)}log(t,r,n){if(!this.shouldLog(t))return;const s={level:t,message:r,timestamp:new Date().toISOString(),context:n};this.logs.push(s),this.logs.length>this.maxLogs&&this.logs.shift();const a={debug:"color: #888",info:"color: #0ea5e9",warn:"color: #f59e0b; font-weight: bold",error:"color: #ef4444; font-weight: bold"};if((t==="debug"?console.debug:console.log)(`%c${{debug:"",info:"",warn:"",error:""}[t]} [${t.toUpperCase()}] ${r}`,a[t],n??""),t==="error")try{const c=JSON.parse(localStorage.getItem("error_logs")||"[]");c.push(s),c.length>20&&c.shift(),localStorage.setItem("error_logs",JSON.stringify(c))}catch{}}debug(t,r){this.log("debug",t,r)}info(t,r){this.log("info",t,r)}warn(t,r){this.log("warn",t,r)}error(t,r){this.log("error",t,r)}getLogs(){return[...this.logs]}clearLogs(){this.logs=[],localStorage.removeItem("error_logs")}exportLogs(){return JSON.stringify(this.logs,null,2)}}const ue=new DA;class FA{constructor(){Or(this,"queue",[]);Or(this,"isProcessing",!1);Or(this,"maxRetries",3);Or(this,"storageKey","offline_queue");this.loadQueue(),this.setupOnlineListener()}loadQueue(){try{const t=localStorage.getItem(this.storageKey);t&&(this.queue=JSON.parse(t),ue.info("Loaded offline queue",{count:this.queue.length}))}catch(t){ue.error("Failed to load offline queue",{error:t})}}saveQueue(){try{localStorage.setItem(this.storageKey,JSON.stringify(this.queue))}catch(t){ue.error("Failed to save offline queue",{error:t})}}setupOnlineListener(){window.addEventListener("online",()=>{ue.info("Connection restored, processing offline queue"),this.processQueue()})}enqueue(t,r,n,s){const a=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,o={id:a,url:t,method:r,body:n,headers:s,timestamp:Date.now(),retries:0};return this.queue.push(o),this.saveQueue(),ue.info("Request queued for offline sync",{id:a,url:t,method:r}),navigator.onLine&&this.processQueue(),a}async processQueue(){if(this.isProcessing||this.queue.length===0||!navigator.onLine)return;this.isProcessing=!0,ue.info("Processing offline queue",{count:this.queue.length});const t=[];for(const r of this.queue)try{const n=await fetch(r.url,{method:r.method,headers:r.headers,body:r.body!==void 0?JSON.stringify(r.body):void 0});if(n.ok)ue.info("Successfully synced queued request",{id:r.id});else throw new Error(`HTTP ${n.status}`)}catch(n){r.retries++,ue.warn("Failed to sync request",{id:r.id,retries:r.retries,error:n}),r.retries<this.maxRetries?t.push(r):ue.error("Request exceeded max retries, discarding",{id:r.id})}this.queue=t,this.saveQueue(),this.isProcessing=!1,ue.info("Offline queue processed",{remaining:this.queue.length})}getQueueSize(){return this.queue.length}clearQueue(){this.queue=[],this.saveQueue(),ue.info("Offline queue cleared")}}const LA=new FA;class Mt extends Error{constructor(t,r,n){super(t),this.status=r,this.code=n,this.name="ApiError"}}class zA{constructor(){Or(this,"baseUrl");Or(this,"defaultTimeout",3e4);const t=Te.getSettings();this.baseUrl=t.apiUrl}updateBaseUrl(t){this.baseUrl=t}getBaseUrl(){return this.baseUrl}async fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n);try{const o=await fetch(t,{...r,signal:s.signal});return clearTimeout(a),o}catch(o){throw clearTimeout(a),o}}async request(t,r={}){const{method:n="GET",body:s,headers:a={},skipQueue:o=!1,timeout:l=this.defaultTimeout}=r,c=`${this.baseUrl}${t}`,d=["POST","PUT","DELETE","PATCH"].includes(n);if(!navigator.onLine&&d&&!o)throw ue.warn("Offline: Queueing request",{url:c,method:n}),LA.enqueue(c,n,s,a),new Mt("Sin conexin. La operacin se sincronizar cuando haya conexin.",0,"OFFLINE");const m={"Content-Type":"application/json",...a};try{ue.debug("API Request",{url:c,method:n});const f=await this.fetchWithTimeout(c,{method:n,headers:m,body:s!==void 0?JSON.stringify(s):void 0},l);if(!f.ok){let p=`HTTP ${f.status}`,h=`HTTP_${f.status}`;try{const b=await f.json();p=b.message||p,h=b.code||h}catch{}throw ue.error("API Error",{url:c,status:f.status,message:p}),new Mt(p,f.status,h)}try{const p=await f.json();return ue.debug("API Response",{url:c,status:f.status}),p}catch{return{}}}catch(f){throw f instanceof Mt?f:f instanceof Error?f.name==="AbortError"?(ue.error("Request timeout",{url:c,timeout:l}),new Mt("Tiempo de espera agotado",0,"TIMEOUT")):(ue.error("Network error",{url:c,error:f.message}),new Mt("Error de conexin. Verifica tu red.",0,"NETWORK_ERROR")):new Mt("Error desconocido",0,"UNKNOWN")}}get(t){return this.request(t)}post(t,r){return this.request(t,{method:"POST",body:r})}put(t,r){return this.request(t,{method:"PUT",body:r})}delete(t){return this.request(t,{method:"DELETE"})}}const it=new zA,a1=e=>{it.updateBaseUrl(e)};class VA{constructor(){const t=Te.getSettings();a1(t.apiUrl)}async scaleTare(){await it.post("/api/scale/tare")}async scaleZero(){await it.post("/api/scale/zero")}async getScaleWeight(){return it.get("/api/scale/weight")}async setCalibrationFactor(t){await it.post("/api/scale/calibrate",{factor:t})}async applyCalibration(t){return it.post("/api/scale/calibrate/apply",{reference_grams:t})}async analyzeFood(t,r){const n=Te.getSettings(),s=new FormData;s.append("image",t),s.append("weight",r.toString());const a=await fetch(`${n.apiUrl}/api/scanner/analyze`,{method:"POST",body:s});if(!a.ok)throw new Mt("Failed to analyze food");return a.json()}async scanBarcode(t){return it.get(`/api/scanner/barcode/${t}`)}async analyzeFoodPhoto(t){try{const r=await it.post("/api/scanner/analyze-photo",{image:t});return r.confidence<.7?null:r}catch(r){return ue.error("Photo analysis failed:",r),null}}async startTimer(t){await it.post("/api/timer/start",{seconds:t})}async stopTimer(){await it.post("/api/timer/stop")}async getTimerStatus(){return it.get("/api/timer/status")}async getGlucose(){if(!Te.getSettings().nightscoutUrl)throw new Mt("Nightscout no configurado",0,"NOT_CONFIGURED");return it.get("/api/nightscout/glucose")}async exportBolus(t,r,n){await it.post("/api/nightscout/bolus",{carbs:t,insulin:r,timestamp:n})}async speak(t,r){const n=r?{text:t,voice:r}:{text:t};try{await it.post("/api/voice/speak",n)}catch{const s=new URLSearchParams({text:t});r&&s.set("voice",r),await it.post(`/api/voice/tts/say?${s.toString()}`)}}async getWakeStatus(){return it.get("/api/voice/wake/status")}async enableWake(){await it.post("/api/voice/wake/enable")}async disableWake(){await it.post("/api/voice/wake/disable")}async simulateWake(t){return it.post("/api/voice/wake/simulate",{text:t})}async getRecipe(t,r){return it.post("/api/recipes/generate",{prompt:t,servings:r})}async nextRecipeStep(t,r,n){return it.post("/api/recipes/next",{recipeId:t,currentStep:r,userResponse:n})}async fetchBackendSettings(){return it.get("/api/settings")}async updateBackendSettings(t){return it.post("/api/settings",t)}async testOpenAI(t,r){const n={};return t&&(n.apiKey=t),r&&(n.pin=r),it.post("/api/settings/test/openai",n)}async testNightscout(t,r,n){const s=new URLSearchParams;t&&s.set("url",t),r&&s.set("token",r),n&&s.set("pin",n);const a=s.toString(),o=a?`/api/nightscout/test?${a}`:"/api/nightscout/test";return it.get(o)}async getOtaStatus(){const t=await it.get("/api/ota/check");let r=null;try{r=await this.getOtaJobStatus()}catch(d){ue.warn("No se pudo obtener el estado OTA actual",{error:d})}const n=d=>{if(!d)return"";const m=d.trim();return!m||m.toLowerCase()==="unknown"?"":m},s=n(t.current_version)||n(r==null?void 0:r.current),a=n(t.available_version),o=n(r==null?void 0:r.target),l=a||o||s,c=!!(t.available&&a&&a!==s);return{current:s,latest:l,availableVersion:a||void 0,hasUpdate:c,reason:t.reason,notes:t.notes}}async getOtaJobStatus(){return it.get("/api/ota/status")}async applyOtaUpdate(t){const r=t?{target:t}:{};return it.post("/api/ota/apply",r)}async getOtaLogs(t=400){const r=typeof window<"u"?window.location.origin:"",a=`${(it.getBaseUrl()||Te.getSettings().apiUrl||r).replace(/\/+$/,"")}/api/ota/logs?lines=${Math.max(1,t)}`;try{const o=await fetch(a,{method:"GET",cache:"no-store"});if(!o.ok)throw new Mt(`HTTP ${o.status}`,o.status);const l=await o.text();return ue.debug("OTA logs descargados",{lines:t}),l}catch(o){throw o instanceof Mt?o:(ue.warn("No se pudieron descargar los logs OTA",{error:o}),new Mt("No se pudieron obtener los logs OTA",0,"NETWORK_ERROR"))}}async getNetworkStatus(){return it.get("/api/network/status")}async miniwebStatus(){return it.get("/api/miniweb/status")}}const et=new VA;function bn(e,t,r="es-ES"){if(e==null||!Number.isFinite(e))return"";const n=Number(e),s=t===0&&Math.abs(n)<.5?0:n,a={minimumFractionDigits:t,maximumFractionDigits:t,useGrouping:!1};return new Intl.NumberFormat(r,a).format(s/1)}const uf=()=>{var e;try{return((e=Te.getSettings().scale)==null?void 0:e.decimals)===0?0:1}catch{return 1}},so=()=>{const[e,t]=u.useState(()=>uf());return u.useEffect(()=>{if(typeof window>"u")return;const r=s=>{var l,c;const a=s.detail,o=(c=(l=a==null?void 0:a.settings)==null?void 0:l.scale)==null?void 0:c.decimals;if(o===0||o===1){t(o);return}t(uf())},n=s=>{s.key&&s.key!==n1||t(uf())};return window.addEventListener("app-settings-updated",r),window.addEventListener("storage",n),()=>{window.removeEventListener("app-settings-updated",r),window.removeEventListener("storage",n)}},[]),e},$A=({onNavigate:e})=>{const{weight:t,isStable:r,unit:n,isConnected:s,error:a,reconnectAttempts:o,connectionState:l}=ud(),[c,d]=u.useState("g"),m=so(),[f,p]=u.useState(()=>{try{return Te.getSettings().ui.flags.calibrationV2}catch{return!1}}),{toast:h}=en(),b=cd(),y={connected:"Conectado",reconnecting:"Reconectando","no-data":"Sin datos"},w={connected:"bg-success",reconnecting:"bg-amber-500","no-data":"bg-destructive"},v=y[l],g=w[l];u.useEffect(()=>{const j=()=>{try{p(Te.getSettings().ui.flags.calibrationV2)}catch{p(!1)}};if(!(typeof window>"u"))return window.addEventListener("storage",j),()=>{window.removeEventListener("storage",j)}},[]),u.useEffect(()=>{a&&h({title:"Error de conexin",description:a,variant:"destructive"})},[a,h]);const x=async()=>{try{await et.scaleTare(),h({title:f?"Tara aplicada":"Tara realizada"})}catch{h({title:"Error",description:f?"No se pudo aplicar la tara":"No se pudo realizar la tara",variant:"destructive"})}},N=()=>{d(j=>j==="g"?"ml":"g"),navigator.vibrate&&navigator.vibrate(30)},S=t;return i.jsxs("div",{className:"flex h-full flex-col bg-background p-4",children:[l!=="connected"&&i.jsx("div",{className:"mb-4 rounded-lg border-warning/50 bg-warning/10 p-3 text-center animate-fade-in",children:i.jsx("p",{className:"text-sm font-medium text-warning",children:l==="reconnecting"?b&&o>0?`Reconectando... Intento ${o}/10`:"Reconectando con la bscula...":"Sin datos de la bscula"})}),i.jsxs(st,{className:be("relative mb-4 flex-1 overflow-hidden transition-smooth",r?"border-success/50 glow-green":"border-primary/30"),children:[i.jsx("div",{className:"gradient-holographic absolute inset-0 opacity-30"}),i.jsxs("div",{className:"absolute right-4 top-4 flex items-center gap-2 rounded-full border border-border bg-background/80 px-3 py-1 text-sm font-medium shadow-sm backdrop-blur",children:[i.jsx("span",{className:be("h-2.5 w-2.5 rounded-full",g)}),i.jsx("span",{children:v})]}),i.jsxs("div",{className:"relative flex h-full flex-col items-center justify-center",children:[i.jsx("div",{className:be("mb-3 rounded-full p-4 transition-smooth",r?"bg-success/20":"bg-primary/20"),children:i.jsx(oa,{className:be("h-12 w-12 transition-smooth",r?"text-success":"text-primary animate-pulse")})}),i.jsx("div",{className:be("mb-3 min-h-[140px] flex items-center text-8xl font-bold tracking-tight transition-smooth",r?"text-success text-glow-green":"text-primary text-glow-cyan"),style:{fontFeatureSettings:'"tnum"'},children:bn(S,m)}),i.jsx(U,{onClick:N,variant:"ghost",size:"lg",className:"text-2xl mb-2",children:c}),i.jsxs("div",{className:be("inline-flex items-center gap-2 rounded-full px-4 py-2 text-base font-medium transition-smooth",r?"bg-success/20 text-success":"bg-primary/20 text-primary"),children:[i.jsx("span",{className:be("h-2 w-2 rounded-full",r?"bg-success animate-pulse":"bg-primary animate-pulse")}),r?"Peso Estable":"Estabilizando..."]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(U,{onClick:x,size:"lg",variant:"outline",disabled:!s,className:"h-16 text-xl",children:f?"Cero":"TARA"}),i.jsxs(U,{onClick:N,size:"lg",variant:"secondary",className:"h-16 text-xl",children:[i.jsx(M2,{className:"mr-2 h-6 w-6"}),"g  ml"]})]})]})},UA=({totalCarbs:e,currentGlucose:t,onClose:r})=>{const{toast:n}=en(),[s,a]=u.useState(!1),o=Te.getSettings(),l=o.carbRatio||10,c=o.correctionFactor||30,d=o.targetGlucose||100,m=e/l,f=typeof t=="number"?Math.max(0,(t-d)/c):0,p=m+f,h=()=>e>50?"Inyectar 15 minutos ANTES de comer":"Inyectar JUSTO ANTES de comer",b=async()=>{if(!o.nightscoutUrl){n({title:"Nightscout no configurado",description:"Configura Nightscout en Ajustes  Diabetes",variant:"destructive"});return}a(!0);try{const y=new Date().toISOString();await et.exportBolus(e,p,y),ue.info("Bolus exported to Nightscout",{carbs:e,insulin:p,glucose:t}),n({title:"Exportado a Nightscout!",description:`${e}g HC  ${p.toFixed(1)}U insulina`}),navigator.vibrate&&navigator.vibrate([50,100,50]),r()}catch(y){ue.error("Failed to export to Nightscout",{error:y}),n({title:"Error al exportar",description:"Verifica la configuracin de Nightscout",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 p-4 backdrop-blur-sm",children:i.jsxs(st,{className:"w-full max-w-2xl border-primary/50 p-8 glow-cyan",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-4",children:i.jsx(Zw,{className:"h-12 w-12 text-primary"})})}),i.jsx("h2",{className:"text-3xl font-bold",children:"Recomendacin de Bolo"})]}),i.jsx("div",{className:"mb-6 rounded-lg border-warning/50 bg-warning/5 p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Hn,{className:"h-6 w-6 flex-shrink-0 text-warning"}),i.jsxs("p",{className:"text-sm",children:[i.jsx("strong",{children:"AVISO:"})," Esta es una estimacin automatizada y NO debe tomarse como consejo mdico. Consulta siempre con tu endocrinlogo."]})]})}),i.jsxs("div",{className:"mb-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"rounded-lg bg-muted/30 p-4",children:[i.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:"Total Carbohidratos"}),i.jsxs("p",{className:"text-3xl font-bold text-warning",children:[e.toFixed(1),"g"]})]}),t!==void 0&&i.jsxs("div",{className:"rounded-lg bg-muted/30 p-4",children:[i.jsx("p",{className:"mb-1 text-sm text-muted-foreground",children:"Glucosa Actual"}),i.jsxs("p",{className:"text-3xl font-bold text-primary",children:[t," mg/dl"]})]})]}),i.jsxs("div",{className:"rounded-lg border border-border p-4 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Insulina por HC:"}),i.jsxs("span",{className:"font-medium",children:[m.toFixed(1),"U"]})]}),f>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Correccin:"}),i.jsxs("span",{className:"font-medium",children:["+",f.toFixed(1),"U"]})]}),i.jsxs("div",{className:"border-t border-border pt-2 flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total:"}),i.jsxs("span",{className:"text-3xl font-bold text-primary",children:[p.toFixed(1),"U"]})]})]})]}),i.jsxs("div",{className:"mb-6 rounded-lg bg-primary/10 p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(ym,{className:"h-6 w-6 text-primary"}),i.jsx("h3",{className:"text-xl font-bold",children:"Momento Recomendado"})]}),i.jsx("p",{className:"text-2xl font-semibold text-primary",children:h()})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(U,{onClick:r,variant:"outline",size:"xl",className:"text-xl",children:"Cerrar"}),i.jsx(U,{onClick:b,variant:"success",size:"xl",className:"text-xl",disabled:s,children:s?"Exportando...":i.jsxs(i.Fragment,{children:[i.jsx(q2,{className:"mr-2 h-6 w-6"}),"Exportar a Nightscout"]})})]})]})})},BA="modulepreload",WA=function(e){return"/"+e},ey={},HA=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=WA(c),c in ey)return;ey[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":BA,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((p,h)=>{f.addEventListener("load",p),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};var df="focusScope.autoFocusOnMount",ff="focusScope.autoFocusOnUnmount",ty={bubbles:!1,cancelable:!0},qA="FocusScope",i1=u.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=u.useState(null),d=Sn(s),m=Sn(a),f=u.useRef(null),p=vt(t,y=>c(y)),h=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(n){let y=function(x){if(h.paused||!l)return;const N=x.target;l.contains(N)?f.current=N:Ts(f.current,{select:!0})},w=function(x){if(h.paused||!l)return;const N=x.relatedTarget;N!==null&&(l.contains(N)||Ts(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const S of x)S.removedNodes.length>0&&Ts(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",w);const g=new MutationObserver(v);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),g.disconnect()}}},[n,l,h.paused]),u.useEffect(()=>{if(l){ny.add(h);const y=document.activeElement;if(!l.contains(y)){const v=new CustomEvent(df,ty);l.addEventListener(df,d),l.dispatchEvent(v),v.defaultPrevented||(KA(XA(o1(l)),{select:!0}),document.activeElement===y&&Ts(l))}return()=>{l.removeEventListener(df,d),setTimeout(()=>{const v=new CustomEvent(ff,ty);l.addEventListener(ff,m),l.dispatchEvent(v),v.defaultPrevented||Ts(y??document.body,{select:!0}),l.removeEventListener(ff,m),ny.remove(h)},0)}}},[l,d,m,h]);const b=u.useCallback(y=>{if(!r&&!n||h.paused)return;const w=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(w&&v){const g=y.currentTarget,[x,N]=GA(g);x&&N?!y.shiftKey&&v===N?(y.preventDefault(),r&&Ts(x,{select:!0})):y.shiftKey&&v===x&&(y.preventDefault(),r&&Ts(N,{select:!0})):v===g&&y.preventDefault()}},[r,n,h.paused]);return i.jsx(tt.div,{tabIndex:-1,...o,ref:p,onKeyDown:b})});i1.displayName=qA;function KA(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ts(n,{select:t}),document.activeElement!==r)return}function GA(e){const t=o1(e),r=ry(t,e),n=ry(t.reverse(),e);return[r,n]}function o1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ry(e,t){for(const r of e)if(!QA(r,{upTo:t}))return r}function QA(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZA(e){return e instanceof HTMLInputElement&&"select"in e}function Ts(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ZA(e)&&t&&e.select()}}var ny=YA();function YA(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=sy(e,t),e.unshift(t)},remove(t){var r;e=sy(e,t),(r=e[0])==null||r.resume()}}}function sy(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function XA(e){return e.filter(t=>t.tagName!=="A")}var mf=0;function JA(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ay()),document.body.insertAdjacentElement("beforeend",e[1]??ay()),mf++,()=>{mf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),mf--}},[])}function ay(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zn=function(){return zn=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},zn.apply(this,arguments)};function l1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function eR(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Lc="right-scroll-bar-position",zc="width-before-scroll-bar",tR="with-scroll-bars-hidden",rR="--removed-body-scroll-bar-size";function pf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nR(e,t){var r=u.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var sR=typeof window<"u"?u.useLayoutEffect:u.useEffect,iy=new WeakMap;function aR(e,t){var r=nR(null,function(n){return e.forEach(function(s){return pf(s,n)})});return sR(function(){var n=iy.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||pf(l,null)}),a.forEach(function(l){s.has(l)||pf(l,o)})}iy.set(r,e)},[e]),r}function iR(e){return e}function oR(e,t){t===void 0&&(t=iR);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var m=o;o=[],m.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(m){o.push(m),d()},filter:function(m){return o=o.filter(m),r}}}};return s}function lR(e){e===void 0&&(e={});var t=oR(null);return t.options=zn({async:!0,ssr:!1},e),t}var c1=function(e){var t=e.sideCar,r=l1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return u.createElement(n,zn({},r))};c1.isSideCarExport=!0;function cR(e,t){return e.useMedium(t),c1}var u1=lR(),hf=function(){},dd=u.forwardRef(function(e,t){var r=u.useRef(null),n=u.useState({onScrollCapture:hf,onWheelCapture:hf,onTouchMoveCapture:hf}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,f=e.shards,p=e.sideCar,h=e.noRelative,b=e.noIsolation,y=e.inert,w=e.allowPinchZoom,v=e.as,g=v===void 0?"div":v,x=e.gapMode,N=l1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,j=aR([r,t]),C=zn(zn({},N),s);return u.createElement(u.Fragment,null,m&&u.createElement(S,{sideCar:u1,removeScrollBar:d,shards:f,noRelative:h,noIsolation:b,inert:y,setCallbacks:a,allowPinchZoom:!!w,lockRef:r,gapMode:x}),o?u.cloneElement(u.Children.only(l),zn(zn({},C),{ref:j})):u.createElement(g,zn({},C,{className:c,ref:j}),l))});dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dd.classNames={fullWidth:zc,zeroRight:Lc};var uR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=uR();return t&&e.setAttribute("nonce",t),e}function fR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pR=function(){var e=0,t=null;return{add:function(r){e==0&&(t=dR())&&(fR(t,r),mR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hR=function(){var e=pR();return function(t,r){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},d1=function(){var e=hR(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},gR={left:0,top:0,right:0,gap:0},gf=function(e){return parseInt(e||"",10)||0},vR=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[gf(r),gf(n),gf(s)]},yR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return gR;var t=vR(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},xR=d1(),ki="data-scroll-locked",wR=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(tR,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ki,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(zc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Lc," .").concat(Lc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ki,`] {
    `).concat(rR,": ").concat(l,`px;
  }
`)},oy=function(){var e=parseInt(document.body.getAttribute(ki)||"0",10);return isFinite(e)?e:0},bR=function(){u.useEffect(function(){return document.body.setAttribute(ki,(oy()+1).toString()),function(){var e=oy()-1;e<=0?document.body.removeAttribute(ki):document.body.setAttribute(ki,e.toString())}},[])},NR=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;bR();var a=u.useMemo(function(){return yR(s)},[s]);return u.createElement(xR,{styles:wR(a,!t,s,r?"":"!important")})},Om=!1;if(typeof window<"u")try{var pc=Object.defineProperty({},"passive",{get:function(){return Om=!0,!0}});window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{Om=!1}var Za=Om?{passive:!1}:!1,SR=function(e){return e.tagName==="TEXTAREA"},f1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!SR(e)&&r[t]==="visible")},kR=function(e){return f1(e,"overflowY")},jR=function(e){return f1(e,"overflowX")},ly=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=m1(e,n);if(s){var a=p1(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CR=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ER=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},m1=function(e,t){return e==="v"?kR(t):jR(t)},p1=function(e,t){return e==="v"?CR(t):ER(t)},_R=function(e,t){return e==="h"&&t==="rtl"?-1:1},PR=function(e,t,r,n,s){var a=_R(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),d=!1,m=o>0,f=0,p=0;do{if(!l)break;var h=p1(e,l),b=h[0],y=h[1],w=h[2],v=y-w-a*b;(b||v)&&m1(e,l)&&(f+=v,p+=b);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&(Math.abs(f)<1||!s)||!m&&(Math.abs(p)<1||!s))&&(d=!0),d},hc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cy=function(e){return[e.deltaX,e.deltaY]},uy=function(e){return e&&"current"in e?e.current:e},TR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},RR=0,Ya=[];function IR(e){var t=u.useRef([]),r=u.useRef([0,0]),n=u.useRef(),s=u.useState(RR++)[0],a=u.useState(d1)[0],o=u.useRef(e);u.useEffect(function(){o.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=eR([e.lockRef.current],(e.shards||[]).map(uy),!0).filter(Boolean);return y.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(y,w){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=hc(y),g=r.current,x="deltaX"in y?y.deltaX:g[0]-v[0],N="deltaY"in y?y.deltaY:g[1]-v[1],S,j=y.target,C=Math.abs(x)>Math.abs(N)?"h":"v";if("touches"in y&&C==="h"&&j.type==="range")return!1;var T=ly(C,j);if(!T)return!0;if(T?S=C:(S=C==="v"?"h":"v",T=ly(C,j)),!T)return!1;if(!n.current&&"changedTouches"in y&&(x||N)&&(n.current=S),!S)return!0;var O=n.current||S;return PR(O,w,y,O==="h"?x:N,!0)},[]),c=u.useCallback(function(y){var w=y;if(!(!Ya.length||Ya[Ya.length-1]!==a)){var v="deltaY"in w?cy(w):hc(w),g=t.current.filter(function(S){return S.name===w.type&&(S.target===w.target||w.target===S.shadowParent)&&TR(S.delta,v)})[0];if(g&&g.should){w.cancelable&&w.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(uy).filter(Boolean).filter(function(S){return S.contains(w.target)}),N=x.length>0?l(w,x[0]):!o.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),d=u.useCallback(function(y,w,v,g){var x={name:y,delta:w,target:v,should:g,shadowParent:OR(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(N){return N!==x})},1)},[]),m=u.useCallback(function(y){r.current=hc(y),n.current=void 0},[]),f=u.useCallback(function(y){d(y.type,cy(y),y.target,l(y,e.lockRef.current))},[]),p=u.useCallback(function(y){d(y.type,hc(y),y.target,l(y,e.lockRef.current))},[]);u.useEffect(function(){return Ya.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Za),document.addEventListener("touchmove",c,Za),document.addEventListener("touchstart",m,Za),function(){Ya=Ya.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Za),document.removeEventListener("touchmove",c,Za),document.removeEventListener("touchstart",m,Za)}},[]);var h=e.removeScrollBar,b=e.inert;return u.createElement(u.Fragment,null,b?u.createElement(a,{styles:AR(s)}):null,h?u.createElement(NR,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function OR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const MR=cR(u1,IR);var h1=u.forwardRef(function(e,t){return u.createElement(dd,zn({},e,{ref:t,sideCar:MR}))});h1.classNames=dd.classNames;var DR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xa=new WeakMap,gc=new WeakMap,vc={},vf=0,g1=function(e){return e&&(e.host||g1(e.parentNode))},FR=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=g1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},LR=function(e,t,r,n){var s=FR(t,Array.isArray(e)?e:[e]);vc[r]||(vc[r]=new WeakMap);var a=vc[r],o=[],l=new Set,c=new Set(s),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};s.forEach(d);var m=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(l.has(p))m(p);else try{var h=p.getAttribute(n),b=h!==null&&h!=="false",y=(Xa.get(p)||0)+1,w=(a.get(p)||0)+1;Xa.set(p,y),a.set(p,w),o.push(p),y===1&&b&&gc.set(p,!0),w===1&&p.setAttribute(r,"true"),b||p.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",p,v)}})};return m(t),l.clear(),vf++,function(){o.forEach(function(f){var p=Xa.get(f)-1,h=a.get(f)-1;Xa.set(f,p),a.set(f,h),p||(gc.has(f)||f.removeAttribute(n),gc.delete(f)),h||f.removeAttribute(r)}),vf--,vf||(Xa=new WeakMap,Xa=new WeakMap,gc=new WeakMap,vc={})}},zR=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=DR(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),LR(n,s,r,"aria-hidden")):function(){return null}},fd="Dialog",[v1,y1]=tn(fd),[VR,Cn]=v1(fd),x1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=u.useRef(null),c=u.useRef(null),[d,m]=qa({prop:n,defaultProp:s??!1,onChange:a,caller:fd});return i.jsx(VR,{scope:t,triggerRef:l,contentRef:c,contentId:qo(),titleId:qo(),descriptionId:qo(),open:d,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(f=>!f),[m]),modal:o,children:r})};x1.displayName=fd;var w1="DialogTrigger",b1=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(w1,r),a=vt(t,s.triggerRef);return i.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gh(s.open),...n,ref:a,onClick:Ke(e.onClick,s.onOpenToggle)})});b1.displayName=w1;var ph="DialogPortal",[$R,N1]=v1(ph,{forceMount:void 0}),S1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Cn(ph,t);return i.jsx($R,{scope:t,forceMount:r,children:u.Children.map(n,o=>i.jsx(ha,{present:r||a.open,children:i.jsx(qp,{asChild:!0,container:s,children:o})}))})};S1.displayName=ph;var wu="DialogOverlay",k1=u.forwardRef((e,t)=>{const r=N1(wu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Cn(wu,e.__scopeDialog);return a.modal?i.jsx(ha,{present:n||a.open,children:i.jsx(BR,{...s,ref:t})}):null});k1.displayName=wu;var UR=fl("DialogOverlay.RemoveScroll"),BR=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(wu,r);return i.jsx(h1,{as:UR,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(tt.div,{"data-state":gh(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ua="DialogContent",j1=u.forwardRef((e,t)=>{const r=N1(Ua,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Cn(Ua,e.__scopeDialog);return i.jsx(ha,{present:n||a.open,children:a.modal?i.jsx(WR,{...s,ref:t}):i.jsx(HR,{...s,ref:t})})});j1.displayName=Ua;var WR=u.forwardRef((e,t)=>{const r=Cn(Ua,e.__scopeDialog),n=u.useRef(null),s=vt(t,r.contentRef,n);return u.useEffect(()=>{const a=n.current;if(a)return zR(a)},[]),i.jsx(C1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,a=>a.preventDefault())})}),HR=u.forwardRef((e,t)=>{const r=Cn(Ua,e.__scopeDialog),n=u.useRef(!1),s=u.useRef(!1);return i.jsx(C1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),C1=u.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Cn(Ua,r),c=u.useRef(null),d=vt(t,c);return JA(),i.jsxs(i.Fragment,{children:[i.jsx(i1,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Ku,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gh(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(KR,{titleId:l.titleId}),i.jsx(QR,{contentRef:c,descriptionId:l.descriptionId})]})]})}),hh="DialogTitle",E1=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(hh,r);return i.jsx(tt.h2,{id:s.titleId,...n,ref:t})});E1.displayName=hh;var _1="DialogDescription",P1=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(_1,r);return i.jsx(tt.p,{id:s.descriptionId,...n,ref:t})});P1.displayName=_1;var T1="DialogClose",A1=u.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Cn(T1,r);return i.jsx(tt.button,{type:"button",...n,ref:t,onClick:Ke(e.onClick,()=>s.onOpenChange(!1))})});A1.displayName=T1;function gh(e){return e?"open":"closed"}var R1="DialogTitleWarning",[qR,I1]=LC(R1,{contentName:Ua,titleName:hh,docsSlug:"dialog"}),KR=({titleId:e})=>{const t=I1(R1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},GR="DialogDescriptionWarning",QR=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${I1(GR).contentName}}.`;return u.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},O1=x1,ZR=b1,M1=S1,vh=k1,yh=j1,xh=E1,wh=P1,bh=A1;const ra=O1,YR=M1,D1=u.forwardRef(({className:e,...t},r)=>i.jsx(vh,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));D1.displayName=vh.displayName;const cs=u.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(YR,{children:[i.jsx(D1,{}),i.jsxs(yh,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(bh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(yn,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cs.displayName=yh.displayName;const us=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});us.displayName="DialogHeader";const Vc=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vc.displayName="DialogFooter";const ds=u.forwardRef(({className:e,...t},r)=>i.jsx(xh,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",e),...t}));ds.displayName=xh.displayName;const $c=u.forwardRef(({className:e,...t},r)=>i.jsx(wh,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));$c.displayName=wh.displayName;const nt=u.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));nt.displayName="Input";var XR="Label",F1=u.forwardRef((e,t)=>i.jsx(tt.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));F1.displayName=XR;var L1=F1;const JR=Zu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=u.forwardRef(({className:e,...t},r)=>i.jsx(L1,{ref:r,className:be(JR(),e),...t}));Fe.displayName=L1.displayName;var Nh="Progress",Sh=100,[eI,fO]=tn(Nh),[tI,rI]=eI(Nh),z1=u.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=nI,...o}=e;(s||s===0)&&!dy(s)&&console.error(sI(`${s}`,"Progress"));const l=dy(s)?s:Sh;n!==null&&!fy(n,l)&&console.error(aI(`${n}`,"Progress"));const c=fy(n,l)?n:null,d=bu(c)?a(c,l):void 0;return i.jsx(tI,{scope:r,value:c,max:l,children:i.jsx(tt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":bu(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":U1(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});z1.displayName=Nh;var V1="ProgressIndicator",$1=u.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=rI(V1,r);return i.jsx(tt.div,{"data-state":U1(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});$1.displayName=V1;function nI(e,t){return`${Math.round(e/t*100)}%`}function U1(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function bu(e){return typeof e=="number"}function dy(e){return bu(e)&&!isNaN(e)&&e>0}function fy(e,t){return bu(e)&&!isNaN(e)&&e<=t&&e>=0}function sI(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Sh}\`.`}function aI(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Sh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var B1=z1,iI=$1;const Wi=u.forwardRef(({className:e,value:t,...r},n)=>i.jsx(B1,{ref:n,className:be("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(iI,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Wi.displayName=B1.displayName;function W1(e,[t,r]){return Math.min(r,Math.max(t,e))}var oI=u.createContext(void 0);function kh(e){const t=u.useContext(oI);return e||t||"ltr"}function jh(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var H1=["PageUp","PageDown"],q1=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],K1={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ao="Slider",[Mm,lI,cI]=Hp(ao),[G1,mO]=tn(ao,[cI]),[uI,md]=G1(ao),Q1=u.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:d=[n],value:m,onValueChange:f=()=>{},onValueCommit:p=()=>{},inverted:h=!1,form:b,...y}=e,w=u.useRef(new Set),v=u.useRef(0),x=o==="horizontal"?dI:fI,[N=[],S]=qa({prop:m,defaultProp:d,onChange:z=>{var F;(F=[...w.current][v.current])==null||F.focus(),f(z)}}),j=u.useRef(N);function C(z){const D=vI(N,z);V(z,D)}function T(z){V(z,v.current)}function O(){const z=j.current[v.current];N[v.current]!==z&&p(N)}function V(z,D,{commit:F}={commit:!1}){const I=bI(a),Y=NI(Math.round((z-n)/a)*a+n,I),X=W1(Y,[n,s]);S((ee=[])=>{const P=hI(ee,X,D);if(wI(P,c*a)){v.current=P.indexOf(X);const E=String(P)!==String(ee);return E&&F&&p(P),E?P:ee}else return ee})}return i.jsx(uI,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:v,thumbs:w.current,values:N,orientation:o,form:b,children:i.jsx(Mm.Provider,{scope:e.__scopeSlider,children:i.jsx(Mm.Slot,{scope:e.__scopeSlider,children:i.jsx(x,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:t,onPointerDown:Ke(y.onPointerDown,()=>{l||(j.current=N)}),min:n,max:s,inverted:h,onSlideStart:l?void 0:C,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:O,onHomeKeyDown:()=>!l&&V(n,0,{commit:!0}),onEndKeyDown:()=>!l&&V(s,N.length-1,{commit:!0}),onStepKeyDown:({event:z,direction:D})=>{if(!l){const Y=H1.includes(z.key)||z.shiftKey&&q1.includes(z.key)?10:1,X=v.current,ee=N[X],P=a*Y*D;V(ee+P,X,{commit:!0})}}})})})})});Q1.displayName=ao;var[Z1,Y1]=G1(ao,{startEdge:"left",endEdge:"right",size:"width",direction:1}),dI=u.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:d,...m}=e,[f,p]=u.useState(null),h=vt(t,x=>p(x)),b=u.useRef(void 0),y=kh(s),w=y==="ltr",v=w&&!a||!w&&a;function g(x){const N=b.current||f.getBoundingClientRect(),S=[0,N.width],C=Ch(S,v?[r,n]:[n,r]);return b.current=N,C(x-N.left)}return i.jsx(Z1,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:i.jsx(X1,{dir:y,"data-orientation":"horizontal",...m,ref:h,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const N=g(x.clientX);o==null||o(N)},onSlideMove:x=>{const N=g(x.clientX);l==null||l(N)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:x=>{const S=K1[v?"from-left":"from-right"].includes(x.key);d==null||d({event:x,direction:S?-1:1})}})})}),fI=u.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=e,m=u.useRef(null),f=vt(t,m),p=u.useRef(void 0),h=!s;function b(y){const w=p.current||m.current.getBoundingClientRect(),v=[0,w.height],x=Ch(v,h?[n,r]:[r,n]);return p.current=w,x(y-w.top)}return i.jsx(Z1,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:i.jsx(X1,{"data-orientation":"vertical",...d,ref:f,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const w=b(y.clientY);a==null||a(w)},onSlideMove:y=>{const w=b(y.clientY);o==null||o(w)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:y=>{const v=K1[h?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:v?-1:1})}})})}),X1=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...d}=e,m=md(ao,r);return i.jsx(tt.span,{...d,ref:t,onKeyDown:Ke(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):H1.concat(q1).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ke(e.onPointerDown,f=>{const p=f.target;p.setPointerCapture(f.pointerId),f.preventDefault(),m.thumbs.has(p)?p.focus():n(f)}),onPointerMove:Ke(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Ke(e.onPointerUp,f=>{const p=f.target;p.hasPointerCapture(f.pointerId)&&(p.releasePointerCapture(f.pointerId),a(f))})})}),J1="SliderTrack",eN=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=md(J1,r);return i.jsx(tt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});eN.displayName=J1;var Dm="SliderRange",tN=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=md(Dm,r),a=Y1(Dm,r),o=u.useRef(null),l=vt(t,o),c=s.values.length,d=s.values.map(p=>sN(p,s.min,s.max)),m=c>1?Math.min(...d):0,f=100-Math.max(...d);return i.jsx(tt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...e.style,[a.startEdge]:m+"%",[a.endEdge]:f+"%"}})});tN.displayName=Dm;var Fm="SliderThumb",rN=u.forwardRef((e,t)=>{const r=lI(e.__scopeSlider),[n,s]=u.useState(null),a=vt(t,l=>s(l)),o=u.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(mI,{...e,ref:a,index:o})}),mI=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...a}=e,o=md(Fm,r),l=Y1(Fm,r),[c,d]=u.useState(null),m=vt(t,g=>d(g)),f=c?o.form||!!c.closest("form"):!0,p=td(c),h=o.values[n],b=h===void 0?0:sN(h,o.min,o.max),y=gI(n,o.values.length),w=p==null?void 0:p[l.size],v=w?yI(w,b,l.direction):0;return u.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${v}px)`},children:[i.jsx(Mm.ItemSlot,{scope:e.__scopeSlider,children:i.jsx(tt.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":h,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:m,style:h===void 0?{display:"none"}:e.style,onFocus:Ke(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(nN,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:h},n)]})});rN.displayName=Fm;var pI="RadioBubbleInput",nN=u.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=u.useRef(null),a=vt(s,n),o=jh(t);return u.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&m){const f=new Event("input",{bubbles:!0});m.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(tt.input,{style:{display:"none"},...r,ref:a,defaultValue:t})});nN.displayName=pI;function hI(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,a)=>s-a)}function sN(e,t,r){const a=100/(r-t)*(e-t);return W1(a,[0,100])}function gI(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function vI(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function yI(e,t,r){const n=e/2,a=Ch([0,50],[0,n]);return(n-a(t)*r)*r}function xI(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function wI(e,t){if(t>0){const r=xI(e);return Math.min(...r)>=t}return!0}function Ch(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function bI(e){return(String(e).split(".")[1]||"").length}function NI(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var aN=Q1,SI=eN,kI=tN,jI=rN;const Eh=u.forwardRef(({className:e,...t},r)=>i.jsxs(aN,{ref:r,className:be("relative flex w-full touch-none select-none items-center",e),...t,children:[i.jsx(SI,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(kI,{className:"absolute h-full bg-primary"})}),i.jsx(jI,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Eh.displayName=aN.displayName;var yf="rovingFocusGroup.onEntryFocus",CI={bubbles:!1,cancelable:!0},Il="RovingFocusGroup",[Lm,iN,EI]=Hp(Il),[_I,oN]=tn(Il,[EI]),[PI,TI]=_I(Il),lN=u.forwardRef((e,t)=>i.jsx(Lm.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Lm.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(AI,{...e,ref:t})})}));lN.displayName=Il;var AI=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...f}=e,p=u.useRef(null),h=vt(t,p),b=kh(a),[y,w]=qa({prop:o,defaultProp:l??null,onChange:c,caller:Il}),[v,g]=u.useState(!1),x=Sn(d),N=iN(r),S=u.useRef(!1),[j,C]=u.useState(0);return u.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(yf,x),()=>T.removeEventListener(yf,x)},[x]),i.jsx(PI,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:y,onItemFocus:u.useCallback(T=>w(T),[w]),onItemShiftTab:u.useCallback(()=>g(!0),[]),onFocusableItemAdd:u.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:u.useCallback(()=>C(T=>T-1),[]),children:i.jsx(tt.div,{tabIndex:v||j===0?-1:0,"data-orientation":n,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{S.current=!0}),onFocus:Ke(e.onFocus,T=>{const O=!S.current;if(T.target===T.currentTarget&&O&&!v){const V=new CustomEvent(yf,CI);if(T.currentTarget.dispatchEvent(V),!V.defaultPrevented){const z=N().filter(X=>X.focusable),D=z.find(X=>X.active),F=z.find(X=>X.id===y),Y=[D,F,...z].filter(Boolean).map(X=>X.ref.current);dN(Y,m)}}S.current=!1}),onBlur:Ke(e.onBlur,()=>g(!1))})})}),cN="RovingFocusGroupItem",uN=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=qo(),d=a||c,m=TI(cN,r),f=m.currentTabStopId===d,p=iN(r),{onFocusableItemAdd:h,onFocusableItemRemove:b,currentTabStopId:y}=m;return u.useEffect(()=>{if(n)return h(),()=>b()},[n,h,b]),i.jsx(Lm.ItemSlot,{scope:r,id:d,focusable:n,active:s,children:i.jsx(tt.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...l,ref:t,onMouseDown:Ke(e.onMouseDown,w=>{n?m.onItemFocus(d):w.preventDefault()}),onFocus:Ke(e.onFocus,()=>m.onItemFocus(d)),onKeyDown:Ke(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){m.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const v=OI(w,m.orientation,m.dir);if(v!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=p().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")x.reverse();else if(v==="prev"||v==="next"){v==="prev"&&x.reverse();const N=x.indexOf(w.currentTarget);x=m.loop?MI(x,N+1):x.slice(N+1)}setTimeout(()=>dN(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});uN.displayName=cN;var RI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function II(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OI(e,t,r){const n=II(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return RI[n]}function dN(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function MI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var DI=lN,FI=uN,pd="Tabs",[LI,pO]=tn(pd,[oN]),fN=oN(),[zI,_h]=LI(pd),mN=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=kh(l),[f,p]=qa({prop:n,onChange:s,defaultProp:a??"",caller:pd});return i.jsx(zI,{scope:r,baseId:qo(),value:f,onValueChange:p,orientation:o,dir:m,activationMode:c,children:i.jsx(tt.div,{dir:m,"data-orientation":o,...d,ref:t})})});mN.displayName=pd;var pN="TabsList",hN=u.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=_h(pN,r),o=fN(r);return i.jsx(DI,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(tt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});hN.displayName=pN;var gN="TabsTrigger",vN=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=_h(gN,r),l=fN(r),c=wN(o.baseId,n),d=bN(o.baseId,n),m=n===o.value;return i.jsx(FI,{asChild:!0,...l,focusable:!s,active:m,children:i.jsx(tt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Ke(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ke(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ke(e.onFocus,()=>{const f=o.activationMode!=="manual";!m&&!s&&f&&o.onValueChange(n)})})})});vN.displayName=gN;var yN="TabsContent",xN=u.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=_h(yN,r),c=wN(l.baseId,n),d=bN(l.baseId,n),m=n===l.value,f=u.useRef(m);return u.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(ha,{present:s||m,children:({present:p})=>i.jsx(tt.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&a})})});xN.displayName=yN;function wN(e,t){return`${e}-trigger-${t}`}function bN(e,t){return`${e}-content-${t}`}var VI=mN,NN=hN,SN=vN,kN=xN;const jN=VI,Ph=u.forwardRef(({className:e,...t},r)=>i.jsx(NN,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ph.displayName=NN.displayName;const Ds=u.forwardRef(({className:e,...t},r)=>i.jsx(SN,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Ds.displayName=SN.displayName;const Fs=u.forwardRef(({className:e,...t},r)=>i.jsx(kN,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Fs.displayName=kN.displayName;const $I=Zu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ji({className:e,variant:t,...r}){return i.jsx("div",{className:be($I({variant:t}),e),...r})}var hd="Checkbox",[UI,hO]=tn(hd),[BI,Th]=UI(hd);function WI(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:a,form:o,name:l,onCheckedChange:c,required:d,value:m="on",internal_do_not_use_render:f}=e,[p,h]=qa({prop:r,defaultProp:s??!1,onChange:c,caller:hd}),[b,y]=u.useState(null),[w,v]=u.useState(null),g=u.useRef(!1),x=b?!!o||!!b.closest("form"):!0,N={checked:p,disabled:a,setChecked:h,control:b,setControl:y,name:l,form:o,value:m,hasConsumerStoppedPropagationRef:g,required:d,defaultChecked:na(s)?!1:s,isFormControl:x,bubbleInput:w,setBubbleInput:v};return i.jsx(BI,{scope:t,...N,children:HI(f)?f(N):n})}var CN="CheckboxTrigger",EN=u.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:a,value:o,disabled:l,checked:c,required:d,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:h,bubbleInput:b}=Th(CN,e),y=vt(s,m),w=u.useRef(c);return u.useEffect(()=>{const v=a==null?void 0:a.form;if(v){const g=()=>f(w.current);return v.addEventListener("reset",g),()=>v.removeEventListener("reset",g)}},[a,f]),i.jsx(tt.button,{type:"button",role:"checkbox","aria-checked":na(c)?"mixed":c,"aria-required":d,"data-state":RN(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:Ke(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:Ke(r,v=>{f(g=>na(g)?!0:!g),b&&h&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})})});EN.displayName=CN;var Ah=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:d,form:m,...f}=e;return i.jsx(WI,{__scopeCheckbox:r,checked:s,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:n,form:m,value:c,internal_do_not_use_render:({isFormControl:p})=>i.jsxs(i.Fragment,{children:[i.jsx(EN,{...f,ref:t,__scopeCheckbox:r}),p&&i.jsx(AN,{__scopeCheckbox:r})]})})});Ah.displayName=hd;var _N="CheckboxIndicator",PN=u.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,a=Th(_N,r);return i.jsx(ha,{present:n||na(a.checked)||a.checked===!0,children:i.jsx(tt.span,{"data-state":RN(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});PN.displayName=_N;var TN="CheckboxBubbleInput",AN=u.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:o,required:l,disabled:c,name:d,value:m,form:f,bubbleInput:p,setBubbleInput:h}=Th(TN,e),b=vt(r,h),y=jh(a),w=td(n);u.useEffect(()=>{const g=p;if(!g)return;const x=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(x,"checked").set,j=!s.current;if(y!==a&&S){const C=new Event("click",{bubbles:j});g.indeterminate=na(a),S.call(g,na(a)?!1:a),g.dispatchEvent(C)}},[p,y,a,s]);const v=u.useRef(na(a)?!1:a);return i.jsx(tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:l,disabled:c,name:d,value:m,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});AN.displayName=TN;function HI(e){return typeof e=="function"}function na(e){return e==="indeterminate"}function RN(e){return na(e)?"indeterminate":e?"checked":"unchecked"}const IN=u.forwardRef(({className:e,...t},r)=>i.jsx(Ah,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:i.jsx(PN,{className:be("flex items-center justify-center text-current"),children:i.jsx(pl,{className:"h-4 w-4"})})}));IN.displayName=Ah.displayName;var Ol=e=>e.type==="checkbox",Ca=e=>e instanceof Date,pr=e=>e==null;const ON=e=>typeof e=="object";var Ht=e=>!pr(e)&&!Array.isArray(e)&&ON(e)&&!Ca(e),qI=e=>Ht(e)&&e.target?Ol(e.target)?e.target.checked:e.target.value:e,KI=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,GI=(e,t)=>e.has(KI(t)),QI=e=>{const t=e.constructor&&e.constructor.prototype;return Ht(t)&&t.hasOwnProperty("isPrototypeOf")},Rh=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Rh&&(e instanceof Blob||n))&&(r||Ht(e)))if(t=r?[]:{},!r&&!QI(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Jt(e[s]));else return e;return t}var gd=e=>/^\w*$/.test(e),Kt=e=>e===void 0,Ih=e=>Array.isArray(e)?e.filter(Boolean):[],Oh=e=>Ih(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(e,t,r)=>{if(!t||!Ht(e))return r;const n=(gd(t)?[t]:Oh(t)).reduce((s,a)=>pr(s)?s:s[a],e);return Kt(n)||n===e?Kt(e[t])?r:e[t]:n},On=e=>typeof e=="boolean",xt=(e,t,r)=>{let n=-1;const s=gd(t)?[t]:Oh(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const d=e[l];c=Ht(d)||Array.isArray(d)?d:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const my={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},es={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZI=ce.createContext(null);ZI.displayName="HookFormContext";var YI=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==gn.all&&(t._proxyFormState[o]=!n||gn.all),e[o]}});return s};const XI=typeof window<"u"?ce.useLayoutEffect:ce.useEffect;var Un=e=>typeof e=="string",JI=(e,t,r,n,s)=>Un(e)?(n&&t.watch.add(e),Ee(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ee(r,a))):(n&&(t.watchAll=!0),r),zm=e=>pr(e)||!ON(e);function Ls(e,t,r=new WeakSet){if(zm(e)||zm(t))return e===t;if(Ca(e)&&Ca(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Ca(o)&&Ca(l)||Ht(o)&&Ht(l)||Array.isArray(o)&&Array.isArray(l)?!Ls(o,l,r):o!==l)return!1}}return!0}var MN=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ko=e=>Array.isArray(e)?e:[e],py=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},br=e=>Ht(e)&&!Object.keys(e).length,Mh=e=>e.type==="file",vn=e=>typeof e=="function",Nu=e=>{if(!Rh)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},DN=e=>e.type==="select-multiple",Dh=e=>e.type==="radio",e4=e=>Dh(e)||Ol(e),xf=e=>Nu(e)&&e.isConnected;function t4(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Kt(e)?n++:e[t[n++]];return e}function r4(e){for(const t in e)if(e.hasOwnProperty(t)&&!Kt(e[t]))return!1;return!0}function qt(e,t){const r=Array.isArray(t)?t:gd(t)?[t]:Oh(t),n=r.length===1?e:t4(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Ht(n)&&br(n)||Array.isArray(n)&&r4(n))&&qt(e,r.slice(0,-1)),e}var FN=e=>{for(const t in e)if(vn(e[t]))return!0;return!1};function Su(e,t={}){const r=Array.isArray(e);if(Ht(e)||r)for(const n in e)Array.isArray(e[n])||Ht(e[n])&&!FN(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Su(e[n],t[n])):pr(e[n])||(t[n]=!0);return t}function LN(e,t,r){const n=Array.isArray(e);if(Ht(e)||n)for(const s in e)Array.isArray(e[s])||Ht(e[s])&&!FN(e[s])?Kt(t)||zm(r[s])?r[s]=Array.isArray(e[s])?Su(e[s],[]):{...Su(e[s])}:LN(e[s],pr(t)?{}:t[s],r[s]):r[s]=!Ls(e[s],t[s]);return r}var jo=(e,t)=>LN(e,t,Su(t));const hy={value:!1,isValid:!1},gy={value:!0,isValid:!0};var zN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Kt(e[0].attributes.value)?Kt(e[0].value)||e[0].value===""?gy:{value:e[0].value,isValid:!0}:gy:hy}return hy},VN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Kt(e)?e:t?e===""?NaN:e&&+e:r&&Un(e)?new Date(e):n?n(e):e;const vy={isValid:!1,value:null};var $N=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,vy):vy;function yy(e){const t=e.ref;return Mh(t)?t.files:Dh(t)?$N(e.refs).value:DN(t)?[...t.selectedOptions].map(({value:r})=>r):Ol(t)?zN(e.refs).value:VN(Kt(t.value)?e.ref.value:t.value,e)}var n4=(e,t,r,n)=>{const s={};for(const a of e){const o=Ee(t,a);o&&xt(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ku=e=>e instanceof RegExp,Co=e=>Kt(e)?e:ku(e)?e.source:Ht(e)?ku(e.value)?e.value.source:e.value:e,xy=e=>({isOnSubmit:!e||e===gn.onSubmit,isOnBlur:e===gn.onBlur,isOnChange:e===gn.onChange,isOnAll:e===gn.all,isOnTouch:e===gn.onTouched});const wy="AsyncFunction";var s4=e=>!!e&&!!e.validate&&!!(vn(e.validate)&&e.validate.constructor.name===wy||Ht(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wy)),a4=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),by=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Go=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Ee(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Go(l,t))break}else if(Ht(l)&&Go(l,t))break}}};function Ny(e,t,r){const n=Ee(e,r);if(n||gd(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=Ee(t,a),l=Ee(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var i4=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return br(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||gn.all))},o4=(e,t,r)=>!e||!t||e===t||Ko(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),l4=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,c4=(e,t)=>!Ih(Ee(e,t)).length&&qt(e,t),u4=(e,t,r)=>{const n=Ko(Ee(e,r));return xt(n,"root",t[r]),xt(e,r,n),e},Uc=e=>Un(e);function Sy(e,t,r="validate"){if(Uc(e)||Array.isArray(e)&&e.every(Uc)||On(e)&&!e)return{type:r,message:Uc(e)?e:"",ref:t}}var Ja=e=>Ht(e)&&!ku(e)?e:{value:e,message:""},ky=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:m,min:f,max:p,pattern:h,validate:b,name:y,valueAsNumber:w,mount:v}=e._f,g=Ee(r,y);if(!v||t.has(y))return{};const x=l?l[0]:o,N=D=>{s&&x.reportValidity&&(x.setCustomValidity(On(D)?"":D||""),x.reportValidity())},S={},j=Dh(o),C=Ol(o),T=j||C,O=(w||Mh(o))&&Kt(o.value)&&Kt(g)||Nu(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,V=MN.bind(null,y,n,S),z=(D,F,I,Y=es.maxLength,X=es.minLength)=>{const ee=D?F:I;S[y]={type:D?Y:X,message:ee,ref:o,...V(D?Y:X,ee)}};if(a?!Array.isArray(g)||!g.length:c&&(!T&&(O||pr(g))||On(g)&&!g||C&&!zN(l).isValid||j&&!$N(l).isValid)){const{value:D,message:F}=Uc(c)?{value:!!c,message:c}:Ja(c);if(D&&(S[y]={type:es.required,message:F,ref:x,...V(es.required,F)},!n))return N(F),S}if(!O&&(!pr(f)||!pr(p))){let D,F;const I=Ja(p),Y=Ja(f);if(!pr(g)&&!isNaN(g)){const X=o.valueAsNumber||g&&+g;pr(I.value)||(D=X>I.value),pr(Y.value)||(F=X<Y.value)}else{const X=o.valueAsDate||new Date(g),ee=W=>new Date(new Date().toDateString()+" "+W),P=o.type=="time",E=o.type=="week";Un(I.value)&&g&&(D=P?ee(g)>ee(I.value):E?g>I.value:X>new Date(I.value)),Un(Y.value)&&g&&(F=P?ee(g)<ee(Y.value):E?g<Y.value:X<new Date(Y.value))}if((D||F)&&(z(!!D,I.message,Y.message,es.max,es.min),!n))return N(S[y].message),S}if((d||m)&&!O&&(Un(g)||a&&Array.isArray(g))){const D=Ja(d),F=Ja(m),I=!pr(D.value)&&g.length>+D.value,Y=!pr(F.value)&&g.length<+F.value;if((I||Y)&&(z(I,D.message,F.message),!n))return N(S[y].message),S}if(h&&!O&&Un(g)){const{value:D,message:F}=Ja(h);if(ku(D)&&!g.match(D)&&(S[y]={type:es.pattern,message:F,ref:o,...V(es.pattern,F)},!n))return N(F),S}if(b){if(vn(b)){const D=await b(g,r),F=Sy(D,x);if(F&&(S[y]={...F,...V(es.validate,F.message)},!n))return N(F.message),S}else if(Ht(b)){let D={};for(const F in b){if(!br(D)&&!n)break;const I=Sy(await b[F](g,r),x,F);I&&(D={...I,...V(F,I.message)},N(I.message),n&&(S[y]=D))}if(!br(D)&&(S[y]={ref:x,...D},!n))return S}}return N(!0),S};const d4={mode:gn.onSubmit,reValidateMode:gn.onChange,shouldFocusError:!0};function f4(e={}){let t={...d4,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:vn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ht(t.defaultValues)||Ht(t.values)?Jt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Jt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...m};const p={array:py(),state:py()},h=t.criteriaMode===gn.all,b=k=>R=>{clearTimeout(d),d=setTimeout(k,R)},y=async k=>{if(!t.disabled&&(m.isValid||f.isValid||k)){const R=t.resolver?br((await C()).errors):await O(n,!0);R!==r.isValid&&p.state.next({isValid:R})}},w=(k,R)=>{!t.disabled&&(m.isValidating||m.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(l.mount)).forEach(B=>{B&&(R?xt(r.validatingFields,B,R):qt(r.validatingFields,B))}),p.state.next({validatingFields:r.validatingFields,isValidating:!br(r.validatingFields)}))},v=(k,R=[],B,ge,fe=!0,G=!0)=>{if(ge&&B&&!t.disabled){if(o.action=!0,G&&Array.isArray(Ee(n,k))){const oe=B(Ee(n,k),ge.argA,ge.argB);fe&&xt(n,k,oe)}if(G&&Array.isArray(Ee(r.errors,k))){const oe=B(Ee(r.errors,k),ge.argA,ge.argB);fe&&xt(r.errors,k,oe),c4(r.errors,k)}if((m.touchedFields||f.touchedFields)&&G&&Array.isArray(Ee(r.touchedFields,k))){const oe=B(Ee(r.touchedFields,k),ge.argA,ge.argB);fe&&xt(r.touchedFields,k,oe)}(m.dirtyFields||f.dirtyFields)&&(r.dirtyFields=jo(s,a)),p.state.next({name:k,isDirty:z(k,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(a,k,R)},g=(k,R)=>{xt(r.errors,k,R),p.state.next({errors:r.errors})},x=k=>{r.errors=k,p.state.next({errors:r.errors,isValid:!1})},N=(k,R,B,ge)=>{const fe=Ee(n,k);if(fe){const G=Ee(a,k,Kt(B)?Ee(s,k):B);Kt(G)||ge&&ge.defaultChecked||R?xt(a,k,R?G:yy(fe._f)):I(k,G),o.mount&&y()}},S=(k,R,B,ge,fe)=>{let G=!1,oe=!1;const Le={name:k};if(!t.disabled){if(!B||ge){(m.isDirty||f.isDirty)&&(oe=r.isDirty,r.isDirty=Le.isDirty=z(),G=oe!==Le.isDirty);const $e=Ls(Ee(s,k),R);oe=!!Ee(r.dirtyFields,k),$e?qt(r.dirtyFields,k):xt(r.dirtyFields,k,!0),Le.dirtyFields=r.dirtyFields,G=G||(m.dirtyFields||f.dirtyFields)&&oe!==!$e}if(B){const $e=Ee(r.touchedFields,k);$e||(xt(r.touchedFields,k,B),Le.touchedFields=r.touchedFields,G=G||(m.touchedFields||f.touchedFields)&&$e!==B)}G&&fe&&p.state.next(Le)}return G?Le:{}},j=(k,R,B,ge)=>{const fe=Ee(r.errors,k),G=(m.isValid||f.isValid)&&On(R)&&r.isValid!==R;if(t.delayError&&B?(c=b(()=>g(k,B)),c(t.delayError)):(clearTimeout(d),c=null,B?xt(r.errors,k,B):qt(r.errors,k)),(B?!Ls(fe,B):fe)||!br(ge)||G){const oe={...ge,...G&&On(R)?{isValid:R}:{},errors:r.errors,name:k};r={...r,...oe},p.state.next(oe)}},C=async k=>{w(k,!0);const R=await t.resolver(a,t.context,n4(k||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return w(k),R},T=async k=>{const{errors:R}=await C(k);if(k)for(const B of k){const ge=Ee(R,B);ge?xt(r.errors,B,ge):qt(r.errors,B)}else r.errors=R;return R},O=async(k,R,B={valid:!0})=>{for(const ge in k){const fe=k[ge];if(fe){const{_f:G,...oe}=fe;if(G){const Le=l.array.has(G.name),$e=fe._f&&s4(fe._f);$e&&m.validatingFields&&w([ge],!0);const wt=await ky(fe,l.disabled,a,h,t.shouldUseNativeValidation&&!R,Le);if($e&&m.validatingFields&&w([ge]),wt[G.name]&&(B.valid=!1,R))break;!R&&(Ee(wt,G.name)?Le?u4(r.errors,wt,G.name):xt(r.errors,G.name,wt[G.name]):qt(r.errors,G.name))}!br(oe)&&await O(oe,R,B)}}return B.valid},V=()=>{for(const k of l.unMount){const R=Ee(n,k);R&&(R._f.refs?R._f.refs.every(B=>!xf(B)):!xf(R._f.ref))&&ie(k)}l.unMount=new Set},z=(k,R)=>!t.disabled&&(k&&R&&xt(a,k,R),!Ls(W(),s)),D=(k,R,B)=>JI(k,l,{...o.mount?a:Kt(R)?s:Un(k)?{[k]:R}:R},B,R),F=k=>Ih(Ee(o.mount?a:s,k,t.shouldUnregister?Ee(s,k,[]):[])),I=(k,R,B={})=>{const ge=Ee(n,k);let fe=R;if(ge){const G=ge._f;G&&(!G.disabled&&xt(a,k,VN(R,G)),fe=Nu(G.ref)&&pr(R)?"":R,DN(G.ref)?[...G.ref.options].forEach(oe=>oe.selected=fe.includes(oe.value)):G.refs?Ol(G.ref)?G.refs.forEach(oe=>{(!oe.defaultChecked||!oe.disabled)&&(Array.isArray(fe)?oe.checked=!!fe.find(Le=>Le===oe.value):oe.checked=fe===oe.value||!!fe)}):G.refs.forEach(oe=>oe.checked=oe.value===fe):Mh(G.ref)?G.ref.value="":(G.ref.value=fe,G.ref.type||p.state.next({name:k,values:Jt(a)})))}(B.shouldDirty||B.shouldTouch)&&S(k,fe,B.shouldTouch,B.shouldDirty,!0),B.shouldValidate&&E(k)},Y=(k,R,B)=>{for(const ge in R){if(!R.hasOwnProperty(ge))return;const fe=R[ge],G=k+"."+ge,oe=Ee(n,G);(l.array.has(k)||Ht(fe)||oe&&!oe._f)&&!Ca(fe)?Y(G,fe,B):I(G,fe,B)}},X=(k,R,B={})=>{const ge=Ee(n,k),fe=l.array.has(k),G=Jt(R);xt(a,k,G),fe?(p.array.next({name:k,values:Jt(a)}),(m.isDirty||m.dirtyFields||f.isDirty||f.dirtyFields)&&B.shouldDirty&&p.state.next({name:k,dirtyFields:jo(s,a),isDirty:z(k,G)})):ge&&!ge._f&&!pr(G)?Y(k,G,B):I(k,G,B),by(k,l)&&p.state.next({...r,name:k}),p.state.next({name:o.mount?k:void 0,values:Jt(a)})},ee=async k=>{o.mount=!0;const R=k.target;let B=R.name,ge=!0;const fe=Ee(n,B),G=$e=>{ge=Number.isNaN($e)||Ca($e)&&isNaN($e.getTime())||Ls($e,Ee(a,B,$e))},oe=xy(t.mode),Le=xy(t.reValidateMode);if(fe){let $e,wt;const Ut=R.type?yy(fe._f):qI(k),bt=k.type===my.BLUR||k.type===my.FOCUS_OUT,nn=!a4(fe._f)&&!t.resolver&&!Ee(r.errors,B)&&!fe._f.deps||l4(bt,Ee(r.touchedFields,B),r.isSubmitted,Le,oe),ft=by(B,l,bt);xt(a,B,Ut),bt?(fe._f.onBlur&&fe._f.onBlur(k),c&&c(0)):fe._f.onChange&&fe._f.onChange(k);const mt=S(B,Ut,bt),_r=!br(mt)||ft;if(!bt&&p.state.next({name:B,type:k.type,values:Jt(a)}),nn)return(m.isValid||f.isValid)&&(t.mode==="onBlur"?bt&&y():bt||y()),_r&&p.state.next({name:B,...ft?{}:mt});if(!bt&&ft&&p.state.next({...r}),t.resolver){const{errors:Xt}=await C([B]);if(G(Ut),ge){const Pt=Ny(r.errors,n,B),xr=Ny(Xt,n,Pt.name||B);$e=xr.error,B=xr.name,wt=br(Xt)}}else w([B],!0),$e=(await ky(fe,l.disabled,a,h,t.shouldUseNativeValidation))[B],w([B]),G(Ut),ge&&($e?wt=!1:(m.isValid||f.isValid)&&(wt=await O(n,!0)));ge&&(fe._f.deps&&E(fe._f.deps),j(B,wt,$e,mt))}},P=(k,R)=>{if(Ee(r.errors,R)&&k.focus)return k.focus(),1},E=async(k,R={})=>{let B,ge;const fe=Ko(k);if(t.resolver){const G=await T(Kt(k)?k:fe);B=br(G),ge=k?!fe.some(oe=>Ee(G,oe)):B}else k?(ge=(await Promise.all(fe.map(async G=>{const oe=Ee(n,G);return await O(oe&&oe._f?{[G]:oe}:oe)}))).every(Boolean),!(!ge&&!r.isValid)&&y()):ge=B=await O(n);return p.state.next({...!Un(k)||(m.isValid||f.isValid)&&B!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:B}:{},errors:r.errors}),R.shouldFocus&&!ge&&Go(n,P,k?fe:l.mount),ge},W=k=>{const R={...o.mount?a:s};return Kt(k)?R:Un(k)?Ee(R,k):k.map(B=>Ee(R,B))},A=(k,R)=>({invalid:!!Ee((R||r).errors,k),isDirty:!!Ee((R||r).dirtyFields,k),error:Ee((R||r).errors,k),isValidating:!!Ee(r.validatingFields,k),isTouched:!!Ee((R||r).touchedFields,k)}),ae=k=>{k&&Ko(k).forEach(R=>qt(r.errors,R)),p.state.next({errors:k?r.errors:{}})},Q=(k,R,B)=>{const ge=(Ee(n,k,{_f:{}})._f||{}).ref,fe=Ee(r.errors,k)||{},{ref:G,message:oe,type:Le,...$e}=fe;xt(r.errors,k,{...$e,...R,ref:ge}),p.state.next({name:k,errors:r.errors,isValid:!1}),B&&B.shouldFocus&&ge&&ge.focus&&ge.focus()},xe=(k,R)=>vn(k)?p.state.subscribe({next:B=>"values"in B&&k(D(void 0,R),B)}):D(k,R,!0),Ne=k=>p.state.subscribe({next:R=>{o4(k.name,R.name,k.exact)&&i4(R,k.formState||m,At,k.reRenderRoot)&&k.callback({values:{...a},...r,...R,defaultValues:s})}}).unsubscribe,Xe=k=>(o.mount=!0,f={...f,...k.formState},Ne({...k,formState:f})),ie=(k,R={})=>{for(const B of k?Ko(k):l.mount)l.mount.delete(B),l.array.delete(B),R.keepValue||(qt(n,B),qt(a,B)),!R.keepError&&qt(r.errors,B),!R.keepDirty&&qt(r.dirtyFields,B),!R.keepTouched&&qt(r.touchedFields,B),!R.keepIsValidating&&qt(r.validatingFields,B),!t.shouldUnregister&&!R.keepDefaultValue&&qt(s,B);p.state.next({values:Jt(a)}),p.state.next({...r,...R.keepDirty?{isDirty:z()}:{}}),!R.keepIsValid&&y()},ve=({disabled:k,name:R})=>{(On(k)&&o.mount||k||l.disabled.has(R))&&(k?l.disabled.add(R):l.disabled.delete(R))},$=(k,R={})=>{let B=Ee(n,k);const ge=On(R.disabled)||On(t.disabled);return xt(n,k,{...B||{},_f:{...B&&B._f?B._f:{ref:{name:k}},name:k,mount:!0,...R}}),l.mount.add(k),B?ve({disabled:On(R.disabled)?R.disabled:t.disabled,name:k}):N(k,!0,R.value),{...ge?{disabled:R.disabled||t.disabled}:{},...t.progressive?{required:!!R.required,min:Co(R.min),max:Co(R.max),minLength:Co(R.minLength),maxLength:Co(R.maxLength),pattern:Co(R.pattern)}:{},name:k,onChange:ee,onBlur:ee,ref:fe=>{if(fe){$(k,R),B=Ee(n,k);const G=Kt(fe.value)&&fe.querySelectorAll&&fe.querySelectorAll("input,select,textarea")[0]||fe,oe=e4(G),Le=B._f.refs||[];if(oe?Le.find($e=>$e===G):G===B._f.ref)return;xt(n,k,{_f:{...B._f,...oe?{refs:[...Le.filter(xf),G,...Array.isArray(Ee(s,k))?[{}]:[]],ref:{type:G.type,name:k}}:{ref:G}}}),N(k,!1,void 0,G)}else B=Ee(n,k,{}),B._f&&(B._f.mount=!1),(t.shouldUnregister||R.shouldUnregister)&&!(GI(l.array,k)&&o.action)&&l.unMount.add(k)}}},q=()=>t.shouldFocusError&&Go(n,P,l.mount),se=k=>{On(k)&&(p.state.next({disabled:k}),Go(n,(R,B)=>{const ge=Ee(n,B);ge&&(R.disabled=ge._f.disabled||k,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(fe=>{fe.disabled=ge._f.disabled||k}))},0,!1))},L=(k,R)=>async B=>{let ge;B&&(B.preventDefault&&B.preventDefault(),B.persist&&B.persist());let fe=Jt(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:G,values:oe}=await C();r.errors=G,fe=Jt(oe)}else await O(n);if(l.disabled.size)for(const G of l.disabled)qt(fe,G);if(qt(r.errors,"root"),br(r.errors)){p.state.next({errors:{}});try{await k(fe,B)}catch(G){ge=G}}else R&&await R({...r.errors},B),q(),setTimeout(q);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:br(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},K=(k,R={})=>{Ee(n,k)&&(Kt(R.defaultValue)?X(k,Jt(Ee(s,k))):(X(k,R.defaultValue),xt(s,k,Jt(R.defaultValue))),R.keepTouched||qt(r.touchedFields,k),R.keepDirty||(qt(r.dirtyFields,k),r.isDirty=R.defaultValue?z(k,Jt(Ee(s,k))):z()),R.keepError||(qt(r.errors,k),m.isValid&&y()),p.state.next({...r}))},re=(k,R={})=>{const B=k?Jt(k):s,ge=Jt(B),fe=br(k),G=fe?s:ge;if(R.keepDefaultValues||(s=B),!R.keepValues){if(R.keepDirtyValues){const oe=new Set([...l.mount,...Object.keys(jo(s,a))]);for(const Le of Array.from(oe))Ee(r.dirtyFields,Le)?xt(G,Le,Ee(a,Le)):X(Le,Ee(G,Le))}else{if(Rh&&Kt(k))for(const oe of l.mount){const Le=Ee(n,oe);if(Le&&Le._f){const $e=Array.isArray(Le._f.refs)?Le._f.refs[0]:Le._f.ref;if(Nu($e)){const wt=$e.closest("form");if(wt){wt.reset();break}}}}if(R.keepFieldsRef)for(const oe of l.mount)X(oe,Ee(G,oe));else n={}}a=t.shouldUnregister?R.keepDefaultValues?Jt(s):{}:Jt(G),p.array.next({values:{...G}}),p.state.next({values:{...G}})}l={mount:R.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!R.keepIsValid||!!R.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:fe?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!Ls(k,s)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:fe?{}:R.keepDirtyValues?R.keepDefaultValues&&a?jo(s,a):r.dirtyFields:R.keepDefaultValues&&k?jo(s,k):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ne=(k,R)=>re(vn(k)?k(a):k,R),We=(k,R={})=>{const B=Ee(n,k),ge=B&&B._f;if(ge){const fe=ge.refs?ge.refs[0]:ge.ref;fe.focus&&(fe.focus(),R.shouldSelect&&vn(fe.select)&&fe.select())}},At=k=>{r={...r,...k}},St={control:{register:$,unregister:ie,getFieldState:A,handleSubmit:L,setError:Q,_subscribe:Ne,_runSchema:C,_focusError:q,_getWatch:D,_getDirty:z,_setValid:y,_setFieldArray:v,_setDisabledField:ve,_setErrors:x,_getFieldArray:F,_reset:re,_resetDefaultValues:()=>vn(t.defaultValues)&&t.defaultValues().then(k=>{ne(k,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:se,_subjects:p,_proxyFormState:m,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(k){o=k},get _defaultValues(){return s},get _names(){return l},set _names(k){l=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:Xe,trigger:E,register:$,handleSubmit:L,watch:xe,setValue:X,getValues:W,reset:ne,resetField:K,clearErrors:ae,unregister:ie,setError:Q,setFocus:We,getFieldState:A};return{...St,formControl:St}}function jy(e={}){const t=ce.useRef(void 0),r=ce.useRef(void 0),[n,s]=ce.useState({isDirty:!1,isValidating:!1,isLoading:vn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!vn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=f4(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,XI(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),ce.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ce.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),ce.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),ce.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),ce.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),ce.useEffect(()=>{e.values&&!Ls(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),ce.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=YI(n,a),t.current}var ut;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ut||(ut={}));var Cy;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Cy||(Cy={}));const Pe=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Is=e=>{switch(typeof e){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return Number.isNaN(e)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(e)?Pe.array:e===null?Pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pe.promise:typeof Map<"u"&&e instanceof Map?Pe.map:typeof Set<"u"&&e instanceof Set?Pe.set:typeof Date<"u"&&e instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},he=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class xs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return s(this),n}static assert(t){if(!(t instanceof xs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}xs.create=e=>new xs(e);const Vm=(e,t)=>{let r;switch(e.code){case he.invalid_type:e.received===Pe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case he.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case he.unrecognized_keys:r=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case he.invalid_union:r="Invalid input";break;case he.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case he.invalid_enum_value:r=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case he.invalid_arguments:r="Invalid function arguments";break;case he.invalid_return_type:r="Invalid function return type";break;case he.invalid_date:r="Invalid date";break;case he.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case he.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case he.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case he.custom:r="Invalid input";break;case he.invalid_intersection_types:r="Intersection results could not be merged";break;case he.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case he.not_finite:r="Number must be finite";break;default:r=t.defaultError,ut.assertNever(e)}return{message:r}};let m4=Vm;function p4(){return m4}const h4=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function Se(e,t){const r=p4(),n=h4({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Vm?void 0:Vm].filter(s=>!!s)});e.common.issues.push(n)}class $r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ue;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return $r.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ue;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Ue=Object.freeze({status:"aborted"}),Io=e=>({status:"dirty",value:e}),rn=e=>({status:"valid",value:e}),Ey=e=>e.status==="aborted",_y=e=>e.status==="dirty",Hi=e=>e.status==="valid",ju=e=>typeof Promise<"u"&&e instanceof Promise;var Ae;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ae||(Ae={}));class ua{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Py=(e,t)=>{if(Hi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new xs(e.common.issues);return this._error=r,this._error}}};function rt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class lt{get description(){return this._def.description}_getType(t){return Is(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new $r,ctx:{common:t.parent.common,data:t.data,parsedType:Is(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ju(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Py(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Hi(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Hi(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Is(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(ju(s)?s:Promise.resolve(s));return Py(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:he.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Gi({schema:this,typeName:Be.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return sa.create(this,this._def)}nullable(){return Qi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Kn.create(this)}promise(){return Pu.create(this,this._def)}or(t){return Eu.create([this,t],this._def)}and(t){return _u.create(this,t,this._def)}transform(t){return new Gi({...rt(this._def),schema:this,typeName:Be.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Wm({...rt(this._def),innerType:this,defaultValue:r,typeName:Be.ZodDefault})}brand(){return new L4({typeName:Be.ZodBranded,type:this,...rt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Hm({...rt(this._def),innerType:this,catchValue:r,typeName:Be.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Fh.create(this,t)}readonly(){return Km.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const g4=/^c[^\s-]{8,}$/i,v4=/^[0-9a-z]+$/,y4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,x4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,w4=/^[a-z0-9_-]{21}$/i,b4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,N4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,S4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,k4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wf;const j4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,C4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,E4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,_4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,P4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,T4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,UN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",A4=new RegExp(`^${UN}$`);function BN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function R4(e){return new RegExp(`^${BN(e)}$`)}function I4(e){let t=`${UN}T${BN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function O4(e,t){return!!((t==="v4"||!t)&&j4.test(e)||(t==="v6"||!t)&&E4.test(e))}function M4(e,t){if(!b4.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function D4(e,t){return!!((t==="v4"||!t)&&C4.test(e)||(t==="v6"||!t)&&_4.test(e))}class Ks extends lt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pe.string){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_type,expected:Pe.string,received:a.parsedType}),Ue}const n=new $r;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Se(s,{code:he.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Se(s,{code:he.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")S4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"email",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")wf||(wf=new RegExp(k4,"u")),wf.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"emoji",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")x4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"uuid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")w4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"nanoid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")g4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")v4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cuid2",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")y4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ulid",code:he.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Se(s,{validation:"url",code:he.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"regex",code:he.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),Se(s,{code:he.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:he.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),Se(s,{code:he.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?I4(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:he.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?A4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:he.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?R4(a).test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{code:he.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?N4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"duration",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?O4(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"ip",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?M4(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"jwt",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?D4(t.data,a.version)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"cidr",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?P4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"base64",code:he.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?T4.test(t.data)||(s=this._getOrReturnCtx(t,s),Se(s,{validation:"base64url",code:he.invalid_string,message:a.message}),n.dirty()):ut.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:he.invalid_string,...Ae.errToObj(n)})}_addCheck(t){return new Ks({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ae.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ae.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ae.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ae.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ae.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ae.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ae.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ae.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ae.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ae.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ae.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ae.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ae.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ae.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ae.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ae.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ae.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ae.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ae.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ae.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ae.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ae.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ae.errToObj(r)})}nonempty(t){return this.min(1,Ae.errToObj(t))}trim(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ks.create=e=>new Ks({checks:[],typeName:Be.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});function F4(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class qi extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pe.number){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_type,expected:Pe.number,received:a.parsedType}),Ue}let n;const s=new $r;for(const a of this._def.checks)a.kind==="int"?ut.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:he.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:he.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:he.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?F4(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),Se(n,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:he.not_finite,message:a.message}),s.dirty()):ut.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,n,s){return new qi({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ae.toString(s)}]})}_addCheck(t){return new qi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ae.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ae.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ut.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}qi.create=e=>new qi({checks:[],typeName:Be.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class bl extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pe.bigint)return this._getInvalidInput(t);let n;const s=new $r;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:he.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:he.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:he.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ut.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Pe.bigint,received:r.parsedType}),Ue}gte(t,r){return this.setLimit("min",t,!0,Ae.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ae.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ae.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ae.toString(r))}setLimit(t,r,n,s){return new bl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ae.toString(s)}]})}_addCheck(t){return new bl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ae.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bl.create=e=>new bl({checks:[],typeName:Be.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});class $m extends lt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pe.boolean){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Pe.boolean,received:n.parsedType}),Ue}return rn(t.data)}}$m.create=e=>new $m({typeName:Be.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class Cu extends lt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pe.date){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_type,expected:Pe.date,received:a.parsedType}),Ue}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Se(a,{code:he.invalid_date}),Ue}const n=new $r;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:he.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),Se(s,{code:he.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ut.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Cu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ae.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ae.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Cu.create=e=>new Cu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Be.ZodDate,...rt(e)});class Ty extends lt{_parse(t){if(this._getType(t)!==Pe.symbol){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Pe.symbol,received:n.parsedType}),Ue}return rn(t.data)}}Ty.create=e=>new Ty({typeName:Be.ZodSymbol,...rt(e)});class Um extends lt{_parse(t){if(this._getType(t)!==Pe.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Pe.undefined,received:n.parsedType}),Ue}return rn(t.data)}}Um.create=e=>new Um({typeName:Be.ZodUndefined,...rt(e)});class Ay extends lt{_parse(t){if(this._getType(t)!==Pe.null){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Pe.null,received:n.parsedType}),Ue}return rn(t.data)}}Ay.create=e=>new Ay({typeName:Be.ZodNull,...rt(e)});class Ry extends lt{constructor(){super(...arguments),this._any=!0}_parse(t){return rn(t.data)}}Ry.create=e=>new Ry({typeName:Be.ZodAny,...rt(e)});class Iy extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rn(t.data)}}Iy.create=e=>new Iy({typeName:Be.ZodUnknown,...rt(e)});class da extends lt{_parse(t){const r=this._getOrReturnCtx(t);return Se(r,{code:he.invalid_type,expected:Pe.never,received:r.parsedType}),Ue}}da.create=e=>new da({typeName:Be.ZodNever,...rt(e)});class Oy extends lt{_parse(t){if(this._getType(t)!==Pe.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Pe.void,received:n.parsedType}),Ue}return rn(t.data)}}Oy.create=e=>new Oy({typeName:Be.ZodVoid,...rt(e)});class Kn extends lt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Pe.array)return Se(r,{code:he.invalid_type,expected:Pe.array,received:r.parsedType}),Ue;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Se(r,{code:o?he.too_big:he.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Se(r,{code:he.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Se(r,{code:he.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ua(r,o,r.path,l)))).then(o=>$r.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new ua(r,o,r.path,l)));return $r.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Kn({...this._def,minLength:{value:t,message:Ae.toString(r)}})}max(t,r){return new Kn({...this._def,maxLength:{value:t,message:Ae.toString(r)}})}length(t,r){return new Kn({...this._def,exactLength:{value:t,message:Ae.toString(r)}})}nonempty(t){return this.min(1,t)}}Kn.create=(e,t)=>new Kn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Be.ZodArray,...rt(t)});function ei(e){if(e instanceof Vt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=sa.create(ei(n))}return new Vt({...e._def,shape:()=>t})}else return e instanceof Kn?new Kn({...e._def,type:ei(e.element)}):e instanceof sa?sa.create(ei(e.unwrap())):e instanceof Qi?Qi.create(ei(e.unwrap())):e instanceof Ba?Ba.create(e.items.map(t=>ei(t))):e}class Vt extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ut.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Pe.object){const d=this._getOrReturnCtx(t);return Se(d,{code:he.invalid_type,expected:Pe.object,received:d.parsedType}),Ue}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof da&&this._def.unknownKeys==="strip"))for(const d in s.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const m=a[d],f=s.data[d];c.push({key:{status:"valid",value:d},value:m._parse(new ua(s,f,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof da){const d=this._def.unknownKeys;if(d==="passthrough")for(const m of l)c.push({key:{status:"valid",value:m},value:{status:"valid",value:s.data[m]}});else if(d==="strict")l.length>0&&(Se(s,{code:he.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const m of l){const f=s.data[m];c.push({key:{status:"valid",value:m},value:d._parse(new ua(s,f,s.path,m)),alwaysSet:m in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const m of c){const f=await m.key,p=await m.value;d.push({key:f,value:p,alwaysSet:m.alwaysSet})}return d}).then(d=>$r.mergeObjectSync(n,d)):$r.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ae.errToObj,new Vt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ae.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Vt({...this._def,unknownKeys:"strip"})}passthrough(){return new Vt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Vt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Vt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Be.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Vt({...this._def,catchall:t})}pick(t){const r={};for(const n of ut.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Vt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ut.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Vt({...this._def,shape:()=>r})}deepPartial(){return ei(this)}partial(t){const r={};for(const n of ut.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Vt({...this._def,shape:()=>r})}required(t){const r={};for(const n of ut.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof sa;)a=a._def.innerType;r[n]=a}return new Vt({...this._def,shape:()=>r})}keyof(){return WN(ut.objectKeys(this.shape))}}Vt.create=(e,t)=>new Vt({shape:()=>e,unknownKeys:"strip",catchall:da.create(),typeName:Be.ZodObject,...rt(t)});Vt.strictCreate=(e,t)=>new Vt({shape:()=>e,unknownKeys:"strict",catchall:da.create(),typeName:Be.ZodObject,...rt(t)});Vt.lazycreate=(e,t)=>new Vt({shape:e,unknownKeys:"strip",catchall:da.create(),typeName:Be.ZodObject,...rt(t)});class Eu extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new xs(l.ctx.common.issues));return Se(r,{code:he.invalid_union,unionErrors:o}),Ue}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},m=c._parseSync({data:r.data,path:r.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new xs(c));return Se(r,{code:he.invalid_union,unionErrors:l}),Ue}}get options(){return this._def.options}}Eu.create=(e,t)=>new Eu({options:e,typeName:Be.ZodUnion,...rt(t)});function Bm(e,t){const r=Is(e),n=Is(t);if(e===t)return{valid:!0,data:e};if(r===Pe.object&&n===Pe.object){const s=ut.objectKeys(t),a=ut.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Bm(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Pe.array&&n===Pe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Bm(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Pe.date&&n===Pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class _u extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(Ey(a)||Ey(o))return Ue;const l=Bm(a.value,o.value);return l.valid?((_y(a)||_y(o))&&r.dirty(),{status:r.value,value:l.data}):(Se(n,{code:he.invalid_intersection_types}),Ue)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}_u.create=(e,t,r)=>new _u({left:e,right:t,typeName:Be.ZodIntersection,...rt(r)});class Ba extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.array)return Se(n,{code:he.invalid_type,expected:Pe.array,received:n.parsedType}),Ue;if(n.data.length<this._def.items.length)return Se(n,{code:he.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ue;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:he.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ua(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>$r.mergeArray(r,o)):$r.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Ba({...this._def,rest:t})}}Ba.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ba({items:e,typeName:Be.ZodTuple,rest:null,...rt(t)})};class My extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.map)return Se(n,{code:he.invalid_type,expected:Pe.map,received:n.parsedType}),Ue;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:s._parse(new ua(n,l,n.path,[d,"key"])),value:a._parse(new ua(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,m=await c.value;if(d.status==="aborted"||m.status==="aborted")return Ue;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),l.set(d.value,m.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,m=c.value;if(d.status==="aborted"||m.status==="aborted")return Ue;(d.status==="dirty"||m.status==="dirty")&&r.dirty(),l.set(d.value,m.value)}return{status:r.value,value:l}}}}My.create=(e,t,r)=>new My({valueType:t,keyType:e,typeName:Be.ZodMap,...rt(r)});class Nl extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.set)return Se(n,{code:he.invalid_type,expected:Pe.set,received:n.parsedType}),Ue;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Se(n,{code:he.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Se(n,{code:he.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const m of c){if(m.status==="aborted")return Ue;m.status==="dirty"&&r.dirty(),d.add(m.value)}return{status:r.value,value:d}}const l=[...n.data.values()].map((c,d)=>a._parse(new ua(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Nl({...this._def,minSize:{value:t,message:Ae.toString(r)}})}max(t,r){return new Nl({...this._def,maxSize:{value:t,message:Ae.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Nl.create=(e,t)=>new Nl({valueType:e,minSize:null,maxSize:null,typeName:Be.ZodSet,...rt(t)});class Dy extends lt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Dy.create=(e,t)=>new Dy({getter:e,typeName:Be.ZodLazy,...rt(t)});class Fy extends lt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Se(r,{received:r.data,code:he.invalid_literal,expected:this._def.value}),Ue}return{status:"valid",value:t.data}}get value(){return this._def.value}}Fy.create=(e,t)=>new Fy({value:e,typeName:Be.ZodLiteral,...rt(t)});function WN(e,t){return new Ki({values:e,typeName:Be.ZodEnum,...rt(t)})}class Ki extends lt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{expected:ut.joinValues(n),received:r.parsedType,code:he.invalid_type}),Ue}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{received:r.data,code:he.invalid_enum_value,options:n}),Ue}return rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ki.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ki.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ki.create=WN;class Ly extends lt{_parse(t){const r=ut.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Pe.string&&n.parsedType!==Pe.number){const s=ut.objectValues(r);return Se(n,{expected:ut.joinValues(s),received:n.parsedType,code:he.invalid_type}),Ue}if(this._cache||(this._cache=new Set(ut.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ut.objectValues(r);return Se(n,{received:n.data,code:he.invalid_enum_value,options:s}),Ue}return rn(t.data)}get enum(){return this._def.values}}Ly.create=(e,t)=>new Ly({values:e,typeName:Be.ZodNativeEnum,...rt(t)});class Pu extends lt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pe.promise&&r.common.async===!1)return Se(r,{code:he.invalid_type,expected:Pe.promise,received:r.parsedType}),Ue;const n=r.parsedType===Pe.promise?r.data:Promise.resolve(r.data);return rn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Pu.create=(e,t)=>new Pu({type:e,typeName:Be.ZodPromise,...rt(t)});class Gi extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{Se(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ue;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ue:c.status==="dirty"||r.value==="dirty"?Io(c.value):c});{if(r.value==="aborted")return Ue;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ue:l.status==="dirty"||r.value==="dirty"?Io(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ue:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Hi(o))return Ue;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Hi(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Ue);ut.assertNever(s)}}Gi.create=(e,t,r)=>new Gi({schema:e,typeName:Be.ZodEffects,effect:t,...rt(r)});Gi.createWithPreprocess=(e,t,r)=>new Gi({schema:t,effect:{type:"preprocess",transform:e},typeName:Be.ZodEffects,...rt(r)});class sa extends lt{_parse(t){return this._getType(t)===Pe.undefined?rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}sa.create=(e,t)=>new sa({innerType:e,typeName:Be.ZodOptional,...rt(t)});class Qi extends lt{_parse(t){return this._getType(t)===Pe.null?rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Qi.create=(e,t)=>new Qi({innerType:e,typeName:Be.ZodNullable,...rt(t)});class Wm extends lt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Pe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Wm.create=(e,t)=>new Wm({innerType:e,typeName:Be.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...rt(t)});class Hm extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ju(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new xs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Hm.create=(e,t)=>new Hm({innerType:e,typeName:Be.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...rt(t)});class qm extends lt{_parse(t){if(this._getType(t)!==Pe.nan){const n=this._getOrReturnCtx(t);return Se(n,{code:he.invalid_type,expected:Pe.nan,received:n.parsedType}),Ue}return{status:"valid",value:t.data}}}qm.create=e=>new qm({typeName:Be.ZodNaN,...rt(e)});class L4 extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Fh extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ue:a.status==="dirty"?(r.dirty(),Io(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ue:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Fh({in:t,out:r,typeName:Be.ZodPipeline})}}class Km extends lt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Hi(s)&&(s.value=Object.freeze(s.value)),s);return ju(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Km.create=(e,t)=>new Km({innerType:e,typeName:Be.ZodReadonly,...rt(t)});Vt.lazycreate;var Be;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Be||(Be={}));const HN=Ks.create,hn=qi.create,z4=qm.create,zy=$m.create,V4=Um.create;da.create;Kn.create;const qN=Vt.create;Vt.strictCreate;const $4=Eu.create;_u.create;Ba.create;const U4=Ki.create;Pu.create;sa.create;Qi.create;const Vy=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ee(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},KN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Vy(n.ref,r,e):n.refs&&n.refs.forEach(s=>Vy(s,r,e))}},B4=(e,t)=>{t.shouldUseNativeValidation&&KN(e,t);const r={};for(const n in e){const s=Ee(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(W4(t.names||Object.keys(e),n)){const o=Object.assign({},Ee(r,n));xt(o,"root",a),xt(r,n,o)}else xt(r,n,a)}return r},W4=(e,t)=>e.some(r=>r.startsWith(t+"."));var H4=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,d=c&&c[n.code];r[o]=MN(o,t,r,s,d?[].concat(d,n.message):n.message)}e.shift()}return r},$y=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return a.shouldUseNativeValidation&&KN({},a),{errors:{},values:r.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:B4(H4(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const pt=e=>Number(e.toFixed(2)),q4=e=>e.avg_color?{r:e.avg_color.r,g:e.avg_color.g,b:e.avg_color.b}:void 0,K4=e=>e.nutrition??{carbs:0,proteins:0,fats:0,glycemic_index:0},G4=e=>{const t=e.carbs??0,r=e.proteins??0,n=e.fats??0,s=t*4+r*4+n*9;return s>0?pt(s):void 0},Q4=(e,t)=>{const r=K4(e);return{name:e.name||"Alimento sin nombre",weight:t,carbs:pt(r.carbs??0),proteins:pt(r.proteins??0),fats:pt(r.fats??0),glycemicIndex:Math.round(r.glycemic_index??0),kcal:G4(r),confidence:e.confidence,avgColor:q4(e),timestamp:new Date}},GN=(e,t)=>({id:`${Date.now()}-${Math.random().toString(36).slice(2)}`,name:e.name,weight:e.weight,carbs:e.carbs,proteins:e.proteins,fats:e.fats,glycemicIndex:e.glycemicIndex,kcal:e.kcal,confidence:e.confidence,source:t,capturedAt:e.timestamp.getTime(),avgColor:e.avgColor,photo:e.photo}),Z4=(e,t,r)=>GN(Q4(e,t),r),Y4=qN({name:HN().min(2,"Ingresa al menos 2 caracteres"),carbsPer100g:hn({invalid_type_error:"Requerido"}).positive("Debe ser mayor a 0"),proteinsPer100g:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser >= 0"),fatsPer100g:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser >= 0"),kcalPer100g:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser >= 0"),glycemicIndex:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser >= 0").max(150,"Valor fuera de rango")}),Eo=3,X4=10,J4=10,e5=5e3,t5=2e4,r5=qN({entryMode:U4(["per100g","perTotal"]),name:HN().min(2,"Ingresa al menos 2 caracteres"),carbs:hn({invalid_type_error:"Ingresa un nmero"}).positive("Debe ser mayor a 0"),proteins:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser  0"),fats:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser  0"),kcal:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser  0"),weight:$4([hn({invalid_type_error:"Ingresa un nmero"}).positive("Debe ser mayor a 0"),z4(),V4()]).transform(e=>typeof e=="number"&&!Number.isNaN(e)?e:void 0),glycemicIndex:hn({invalid_type_error:"Ingresa un nmero"}).min(0,"Debe ser  0").max(150,"Valor fuera de rango"),confirmEstimatedCarbs:zy().optional(),requiresConfirmation:zy().optional()}).superRefine((e,t)=>{e.entryMode==="perTotal"&&(!e.weight||e.weight<=0)&&t.addIssue({code:he.custom,path:["weight"],message:"Ingresa un peso para convertir por total"}),e.requiresConfirmation&&!e.confirmEstimatedCarbs&&t.addIssue({code:he.custom,path:["confirmEstimatedCarbs"],message:"Confirma carbs estimados"})});function n5({onKey:e,onDelete:t,onClear:r}){const n=["7","8","9","4","5","6","1","2","3","0",".","00"];return i.jsxs("div",{className:"grid grid-cols-3 gap-2",role:"group","aria-label":"Teclado numrico",children:[n.map(s=>i.jsx(U,{variant:"secondary",onClick:()=>e(s),children:s},s)),i.jsxs(U,{variant:"outline",onClick:t,children:[i.jsx(Zp,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Borrar dgito"})]}),i.jsxs(U,{variant:"outline",onClick:r,children:[i.jsx(An,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Limpiar"})]})]})}function s5({open:e,onClose:t,prefilledBarcode:r,onFoodConfirmed:n,aiTimeoutSeconds:s,autoCaptureDelayMs:a}){const o=s??J4,l=a??e5,{toast:c}=en(),{weight:d}=ud(),[m,f]=u.useState("mode-select"),[p,h]=u.useState("barcode"),[b,y]=u.useState(!1),[w,v]=u.useState(100),[g,x]=u.useState(0),[N,S]=u.useState("Selecciona un modo de escaneo para comenzar"),[j,C]=u.useState(null),T=u.useRef(null),[O,V]=u.useState(100),[z,D]=u.useState(0),[F,I]=u.useState(void 0),[Y,X]=u.useState(""),[ee,P]=u.useState("idle"),[E,W]=u.useState(null),A=jy({resolver:$y(r5),mode:"onChange",defaultValues:{entryMode:"per100g",name:"",carbs:0,proteins:0,fats:0,kcal:0,weight:100,glycemicIndex:50,confirmEstimatedCarbs:!1,requiresConfirmation:!1}}),ae=u.useRef("per100g"),[Q,xe]=u.useState({name:"",carbsPer100g:0,proteinsPer100g:0,fatsPer100g:0,kcalPer100g:0,glycemicIndex:50,confidence:0,source:"barcode"});u.useEffect(()=>{A.reset({entryMode:"per100g",name:Q.name,carbs:Q.carbsPer100g,proteins:Q.proteinsPer100g??0,fats:Q.fatsPer100g??0,kcal:Q.kcalPer100g??0,weight:Q.portionWeight??100,glycemicIndex:Q.glycemicIndex,confirmEstimatedCarbs:!1,requiresConfirmation:Q.source==="ai"}),ae.current="per100g",A.trigger()},[A,Q]),u.useEffect(()=>{A.register("entryMode"),A.register("requiresConfirmation"),A.register("confirmEstimatedCarbs")},[A]);const Ne=u.useRef(null),Xe=u.useRef(null),ie=u.useRef(null),ve=u.useRef(null),$=u.useRef(null),q=u.useRef(null),se=u.useRef(null),L=u.useRef(!1),K=u.useRef(null),re=u.useRef(null),ne=u.useRef(null),We=u.useRef(null),At=u.useRef(o),dt=typeof window<"u",St=dt&&(window.SpeechRecognition||window.webkitSpeechRecognition)||null,k=!!St,R=u.useCallback((H,M)=>dt?window.setTimeout(H,M):setTimeout(H,M),[dt]),B=u.useCallback(H=>{H&&(dt?window.clearTimeout(H):clearTimeout(H))},[dt]),ge=u.useCallback((H,M)=>dt?window.setInterval(H,M):setInterval(H,M),[dt]),fe=u.useCallback(H=>{H&&(dt?window.clearInterval(H):clearInterval(H))},[dt]),G=jy({resolver:$y(Y4),defaultValues:{name:"",carbsPer100g:0,proteinsPer100g:0,fatsPer100g:0,kcalPer100g:0,glycemicIndex:50},mode:"onChange"});u.useEffect(()=>{G.reset({name:Q.name,carbsPer100g:Q.carbsPer100g,proteinsPer100g:Q.proteinsPer100g,fatsPer100g:Q.fatsPer100g,kcalPer100g:Q.kcalPer100g,glycemicIndex:Q.glycemicIndex})},[Q,G]);const oe=A.watch("entryMode"),Le=A.watch("carbs"),$e=A.watch("proteins"),wt=A.watch("fats"),Ut=A.watch("kcal"),bt=A.watch("weight"),nn=A.watch("confirmEstimatedCarbs"),ft=u.useMemo(()=>{const H=typeof bt=="number"&&Number.isFinite(bt)&&bt>0?bt:void 0,M=typeof Le=="number"&&Number.isFinite(Le)?Le:0,_e=typeof $e=="number"&&Number.isFinite($e)?$e:0,Re=typeof wt=="number"&&Number.isFinite(wt)?wt:0,Me=typeof Ut=="number"&&Number.isFinite(Ut)?Ut:0;return oe==="perTotal"?{weight:H,perTotal:{carbs:pt(M),proteins:pt(_e),fats:pt(Re),kcal:Math.round(Me)},per100g:H&&H>0?{carbs:pt(M/H*100),proteins:pt(_e/H*100),fats:pt(Re/H*100),kcal:Math.round(Me/H*100)}:void 0}:{weight:H,per100g:{carbs:pt(M),proteins:pt(_e),fats:pt(Re),kcal:Math.round(Me)},perTotal:H&&H>0?{carbs:pt(M*H/100),proteins:pt(_e*H/100),fats:pt(Re*H/100),kcal:Math.round(Me*H/100)}:void 0}},[oe,Le,$e,wt,Ut,bt]);u.useEffect(()=>{const H=ae.current;if(H===oe)return;const M=A.getValues("weight"),_e=typeof M=="number"&&Number.isFinite(M)&&M>0?M:void 0;if(!_e){ae.current=oe,We.current=null;return}const Re=A.getValues("carbs"),Me=A.getValues("proteins"),Ye=A.getValues("fats"),Lt=A.getValues("kcal"),kt=jt=>typeof jt=="number"&&Number.isFinite(jt)?jt:0;if(H==="per100g"&&oe==="perTotal"){const jt=_e/100;A.setValue("carbs",pt(kt(Re)*jt),{shouldDirty:!0,shouldValidate:!0}),A.setValue("proteins",pt(kt(Me)*jt),{shouldDirty:!0,shouldValidate:!0}),A.setValue("fats",pt(kt(Ye)*jt),{shouldDirty:!0,shouldValidate:!0}),A.setValue("kcal",Math.round(kt(Lt)*jt),{shouldDirty:!0,shouldValidate:!0}),We.current=_e}else if(H==="perTotal"&&oe==="per100g"){const jt=100/_e;A.setValue("carbs",pt(kt(Re)*jt),{shouldDirty:!0,shouldValidate:!0}),A.setValue("proteins",pt(kt(Me)*jt),{shouldDirty:!0,shouldValidate:!0}),A.setValue("fats",pt(kt(Ye)*jt),{shouldDirty:!0,shouldValidate:!0}),A.setValue("kcal",Math.round(kt(Lt)*jt),{shouldDirty:!0,shouldValidate:!0}),We.current=_e}ae.current=oe},[oe,A]),u.useEffect(()=>{const H=A.getValues("weight"),M=typeof H=="number"&&Number.isFinite(H)&&H>0?H:void 0;if(oe!=="perTotal"){We.current=M??null;return}const _e=We.current;if(We.current=M??null,!M||!_e||!Number.isFinite(_e)||M===_e)return;const Re=M/_e;if(!Number.isFinite(Re)||Re<=0)return;const Me=Ye=>typeof Ye=="number"&&Number.isFinite(Ye)?Ye:0;A.setValue("carbs",pt(Me(A.getValues("carbs"))*Re),{shouldDirty:!0,shouldValidate:!0}),A.setValue("proteins",pt(Me(A.getValues("proteins"))*Re),{shouldDirty:!0,shouldValidate:!0}),A.setValue("fats",pt(Me(A.getValues("fats"))*Re),{shouldDirty:!0,shouldValidate:!0}),A.setValue("kcal",Math.round(Me(A.getValues("kcal"))*Re),{shouldDirty:!0,shouldValidate:!0})},[oe,A,bt]);const mt=u.useCallback(()=>{var H;if(ie.current){try{ie.current.clear()}catch{}ie.current=null}if($.current&&(fe($.current),$.current=null),q.current&&(B(q.current),q.current=null),se.current&&(B(se.current),se.current=null),(H=Ne.current)!=null&&H.srcObject&&(Ne.current.srcObject.getTracks().forEach(_e=>_e.stop()),Ne.current.srcObject=null),ve.current){try{ve.current.stop()}catch{}ve.current=null}K.current=null,re.current=null},[fe,B]),_r=u.useCallback(async H=>{y(!0),mt(),S("Buscando informacin nutricional");try{const M=await et.scanBarcode(H),_e=Math.round(M.nutrition.carbs*4+M.nutrition.proteins*4+M.nutrition.fats*9),Re={name:M.name,carbsPer100g:M.nutrition.carbs,proteinsPer100g:M.nutrition.proteins,fatsPer100g:M.nutrition.fats,kcalPer100g:_e,glycemicIndex:Math.round(M.nutrition.glycemic_index??0),confidence:M.confidence??1,source:"barcode",photo:F,portionWeight:100};xe(Re),f("preview"),S(`Producto encontrado: ${M.name}`),ue.info("Barcode scanned successfully",{barcode:H,name:M.name})}catch(M){ue.error("Barcode lookup failed",{error:M});const Re=Te.getScannerHistory().find(Me=>Me.barcode===H);Re?(xe({name:Re.name,carbsPer100g:Re.carbsPer100g,proteinsPer100g:Re.proteinsPer100g||0,fatsPer100g:Re.fatsPer100g||0,kcalPer100g:Re.kcalPer100g||0,glycemicIndex:Re.glycemicIndex??50,confidence:Re.confidence||0,source:"manual",photo:Re.photo,portionWeight:100}),f("preview"),c({title:"Encontrado en historial",description:"Verifica los datos antes de confirmar"})):(c({title:"Producto no encontrado",description:"Usa la entrada manual o por voz para continuar"}),f("fallback"))}finally{y(!1)}},[F,mt,c]),Xt=u.useCallback(async()=>{if(navigator.onLine)for(;;){const H=Te.dequeueScannerAction();if(!H)break;try{if(H.type==="exportBolus"){const M=typeof H.timestamp=="string"?H.timestamp:H.timestamp.toISOString();await et.exportBolus(H.carbs,H.insulin??0,M)}}catch(M){ue.error("Failed to flush offline queue",{error:M}),Te.enqueueScannerAction(H);break}}},[]);u.useEffect(()=>{if(!e)return;const H=()=>{c({title:"Conexin restaurada",description:"Reintentando exportaciones pendientes"}),Xt()};return window.addEventListener("online",H),Xt(),()=>{window.removeEventListener("online",H)}},[e,Xt,c]),u.useEffect(()=>{if(!e){mt();return}f("mode-select"),x(0),v(100),D(0),V(100),S("Selecciona un modo de escaneo para comenzar"),xe({name:"",carbsPer100g:0,proteinsPer100g:0,fatsPer100g:0,kcalPer100g:0,glycemicIndex:50,confidence:0,source:"barcode",portionWeight:100}),I(void 0),X(""),P("idle")},[e,mt]),u.useEffect(()=>{!e||!r||_r(r)},[e,r,_r]),u.useEffect(()=>mt,[mt]);const Pt=u.useCallback(()=>{T.current=null,C(null)},[]),xr=u.useCallback(()=>{const H=Date.now(),M=T.current;if(M&&H<M){const Re=Math.ceil((M-H)/1e3);return c({title:"Espera un momento",description:`Puedes volver a intentar en ${Re}s`,variant:"destructive"}),!1}const _e=H+t5;return T.current=_e,C(_e),!0},[c]),Bt=u.useCallback((H,M)=>{L.current=!0,se.current&&(B(se.current),se.current=null),mt(),f("fallback"),S(H),c(M)},[mt,c,B]),Pr=u.useCallback(()=>{L.current||(re.current=null,x(H=>H+1),Bt("Tiempo agotado en modo IA, usa voz o cdigo de barras",{title:"Tiempo agotado",description:"Pasando a voz o cdigo de barras"}))},[Bt]),En=u.useCallback(async()=>{if(g>=Eo){Bt("Lmite de intentos alcanzado, usa voz o cdigo de barras",{title:"Lmite de intentos",description:"Prueba la voz o el cdigo de barras",variant:"destructive"});return}if(xr()){h("barcode"),f("scanning"),y(!0),v(100),S("Iniciando escner de cdigo de barras");try{const{Html5QrcodeScanner:H}=await HA(async()=>{const{Html5QrcodeScanner:_e}=await import("./index-DoiUNqNe.js");return{Html5QrcodeScanner:_e}},[]),M=new H("barcode-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);M.render(_e=>{S(`Cdigo detectado: ${_e}`),_r(_e),M.clear(),ie.current=null},()=>{}),ie.current=M,$.current&&clearInterval($.current),$.current=setInterval(()=>{v(_e=>_e<=0?($.current&&(clearInterval($.current),$.current=null),x(Re=>Re+1),Bt("Tiempo agotado, usa voz o cdigo de barras",{title:"Tiempo agotado",description:"Intenta de nuevo o usa voz/cdigo de barras"}),0):_e-100/X4)},1e3)}catch(H){ue.error("Barcode scanner error",{error:H}),Bt("Error al iniciar escner, usa voz o cdigo de barras",{title:"Error al iniciar escner",description:"Usa la voz o el cdigo de barras como respaldo",variant:"destructive"})}finally{y(!1)}}},[g,xr,_r,Bt]),wr=u.useCallback(()=>{if(!Ne.current||!Xe.current||L.current){!L.current&&!q.current&&(q.current=R(()=>{q.current=null,wr()},200));return}q.current&&(B(q.current),q.current=null);const H=Xe.current,M=Ne.current;H.width=M.videoWidth,H.height=M.videoHeight;const _e=H.getContext("2d");if(!_e)return;_e.drawImage(M,0,0);const Re=H.toDataURL("image/jpeg",.8);I(Re),y(!0),S("Analizando imagen con IA"),et.analyzeFoodPhoto(Re).then(Me=>{if(L.current)return;if(!Me||Me.confidence<.7){let jt=0;if(x(Zn=>{const sn=Zn+1;return jt=sn,sn}),jt>=Eo){Bt("Deteccin IA incierta, usa voz o cdigo de barras",{title:"Deteccin IA incierta",description:"Usa voz o cdigo de barras para continuar",variant:"destructive"});return}c({title:"Deteccin IA incierta, probando barcode",description:"Intenta escanear el cdigo de barras"}),L.current=!0,mt(),h("barcode"),Pt(),En();return}const Ye=Me.kcalPer100g??Math.round(Me.carbsPer100g*4+(Me.fatsPer100g||0)*9),Lt="glycemicIndex"in Me&&typeof Me.glycemicIndex=="number"?Me.glycemicIndex:void 0,kt={name:Me.name,carbsPer100g:Me.carbsPer100g,proteinsPer100g:Me.proteinsPer100g||0,fatsPer100g:Me.fatsPer100g||0,kcalPer100g:Ye,glycemicIndex:Math.round(Lt??50),confidence:Me.confidence,source:"ai",photo:Re,portionWeight:100};xe(kt),S(`Reconocido: ${Me.name} (confianza ${(Me.confidence*100).toFixed(0)}%)`),f("preview"),mt(),ue.info("AI analysis successful",{name:Me.name,confidence:Me.confidence})}).catch(Me=>{ue.error("AI analysis failed",{error:Me});let Ye=0;x(Lt=>{const kt=Lt+1;return Ye=kt,kt}),Ye>=Eo?Bt("Error en anlisis IA, usa voz o cdigo de barras",{title:"Error en anlisis IA",description:"Usa voz o cdigo de barras para continuar",variant:"destructive"}):(c({title:"Error en anlisis IA",description:"Intenta de nuevo o usa cdigo de barras",variant:"destructive"}),L.current=!0,mt(),f("fallback"))}).finally(()=>{y(!1)})},[c,mt,En,Pt,Bt,B,R]),dr=u.useCallback(()=>{wr()},[wr]),Ns=u.useCallback(async()=>{if(g>=Eo){Bt("Lmite de intentos de IA, usa voz o cdigo de barras",{title:"Lmite de intentos alcanzado",description:"Usa voz o cdigo de barras para continuar",variant:"destructive"});return}if(!xr())return;const H=Date.now();K.current=H,re.current=H+o*1e3,At.current=o,L.current=!1,h("ai"),f("scanning"),y(!0),S("Activando cmara para analizar el alimento"),v(100),$.current&&fe($.current),$.current=ge(()=>{const Lt=(re.current??Date.now())-Date.now(),kt=Math.max(0,Math.ceil(Lt/1e3));At.current=kt,v(Math.max(0,Math.round(kt/o*100))),kt<=0&&($.current&&(fe($.current),$.current=null),Pr())},1e3);const M=Date.now()-(K.current??Date.now()),_e=Math.max(0,l-M);q.current&&B(q.current),q.current=R(()=>{q.current=null,wr()},_e),se.current&&B(se.current);const Me=(re.current??Date.now()+o*1e3)-Date.now();if(Me<=0){Pr();return}se.current=R(Pr,Me);try{const Ye=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});Ne.current&&(Ne.current.srcObject=Ye,await Ne.current.play())}catch(Ye){ue.error("Camera access error",{error:Ye}),Bt("Error al acceder a la cmara, usa voz o cdigo de barras",{title:"Error al acceder a la cmara",description:"Usa voz o cdigo de barras para continuar",variant:"destructive"})}finally{y(!1)}},[g,xr,wr,Bt,Pr,ge,fe,R,B,o,l]),De=A.handleSubmit(H=>{const M=H.weight,_e=H.entryMode==="perTotal"&&M?100/M:1,Re={...Q,name:H.name,carbsPer100g:pt(H.carbs*_e),proteinsPer100g:pt(H.proteins*_e),fatsPer100g:pt(H.fats*_e),kcalPer100g:Math.round(H.kcal*_e),glycemicIndex:H.glycemicIndex,portionWeight:M,photo:F??Q.photo};if(!Re.name||Re.carbsPer100g<=0){c({title:"Datos incompletos",description:"Completa nombre y carbohidratos",variant:"destructive"});return}xe(Re),f("weighing"),D(d),S("Coloca el alimento sobre la bscula y espera estabilizacin")}),Qe=u.useMemo(()=>pt(Q.carbsPer100g*d/100),[Q.carbsPer100g,d]),Z=u.useMemo(()=>pt(Q.proteinsPer100g*d/100),[Q.proteinsPer100g,d]),me=u.useMemo(()=>pt(Q.fatsPer100g*d/100),[Q.fatsPer100g,d]),we=u.useMemo(()=>Math.round(Q.kcalPer100g*d/100),[Q.kcalPer100g,d]),ke=u.useCallback(async()=>{if(d<=0){c({title:"Peso invlido",description:"Coloca el alimento en la bscula",variant:"destructive"});return}const H=new Date,M=Q.photo??F,_e={name:Q.name,weight:d,carbs:Qe,proteins:Z,fats:me,glycemicIndex:Q.glycemicIndex,kcal:we>0?we:void 0,confidence:Q.confidence||void 0,timestamp:H,photo:M};Te.addScannerRecord({..._e,timestamp:H.toISOString(),carbsPer100g:Q.carbsPer100g,proteinsPer100g:Q.proteinsPer100g,fatsPer100g:Q.fatsPer100g,kcalPer100g:Q.kcalPer100g,glycemicIndex:Q.glycemicIndex,source:Q.source,confidence:Q.confidence});const Re=Te.getSettings();if(Re.nightscoutUrl&&Re.nightscoutToken)try{navigator.onLine?(await et.exportBolus(Qe,0,H.toISOString()),c({title:"Exportado a Nightscout",description:"Revisa tu registro en Nightscout"})):(Te.enqueueScannerAction({type:"exportBolus",carbs:Qe,insulin:0,timestamp:H.toISOString()}),c({title:"Sin conexin",description:"Se exportar automticamente al volver la conexin"}))}catch(Me){ue.error("Nightscout export failed",{error:Me}),c({title:"Error al exportar",description:"Se reintentar ms tarde",variant:"destructive"}),Te.enqueueScannerAction({type:"exportBolus",carbs:Qe,insulin:0,timestamp:H.toISOString()})}n(_e),t(),c({title:"Alimento registrado",description:`${Q.name}: ${Qe}g carbos`}),navigator.vibrate&&navigator.vibrate(200)},[d,Q,Qe,Z,me,we,n,t,c,F]),Oe=u.useCallback(H=>{var jt;const M=H.toLowerCase(),_e=Array.from(M.matchAll(/(\d+[.,]?\d*)\s*(carbohidratos|carbos|calor[i]as|kcal)?/g));let Re,Me;_e.forEach(Zn=>{const sn=Number(Zn[1].replace(",",".")),Ss=Zn[2];if(!Ss){Re===void 0?Re=sn:Me===void 0&&(Me=sn);return}Ss.includes("carb")&&(Re=sn),Ss.includes("cal")&&(Me=sn)});const Ye=(jt=_e[0])==null?void 0:jt[0],kt=(Ye?M.split(Ye)[0]:M).replace(/^(registrar|agregar|aadir)/,"").trim();return{name:kt?kt.replace(/(^|\s)\w/g,Zn=>Zn.toUpperCase()):void 0,carbsPer100g:Re,kcalPer100g:Me}},[]),Je=u.useCallback(()=>{if(!k||!St){P("error"),c({title:"Reconocimiento de voz no disponible",description:"Verifica permisos o usa entrada manual",variant:"destructive"});return}ve.current&&ve.current.stop();const H=new St;H.lang="es-ES",H.interimResults=!0,H.continuous=!1,H.onresult=M=>{const _e=Array.from(M.results);let Re="";for(let Ye=M.resultIndex;Ye<_e.length;Ye++){const Lt=_e[Ye],kt=Lt==null?void 0:Lt[0];kt&&(Re+=kt.transcript)}X(Re),S(`Escuchando: ${Re}`);const Me=_e[_e.length-1];if(Me!=null&&Me.isFinal){P("processing");const Ye=Oe(Re);Ye.name&&G.setValue("name",Ye.name,{shouldDirty:!0,shouldTouch:!0}),Ye.carbsPer100g!==void 0&&G.setValue("carbsPer100g",Ye.carbsPer100g,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0}),Ye.kcalPer100g!==void 0&&G.setValue("kcalPer100g",Ye.kcalPer100g,{shouldDirty:!0,shouldTouch:!0,shouldValidate:!0}),c({title:"Transcripcin completada",description:"Revisa y confirma los datos detectados"}),P("idle")}},H.onerror=M=>{P("error"),c({title:"Error al reconocer voz",description:"Intenta nuevamente o usa entrada manual",variant:"destructive"})},H.onend=()=>{P("idle"),ve.current=null},ve.current=H,H.start(),P("listening"),S("Escuchando instrucciones...")},[G,Oe,St,k,c]),Ge=u.useCallback(()=>{ve.current&&(ve.current.stop(),ve.current=null),P("idle"),S("Reconocimiento de voz detenido")},[]),Ve=G.handleSubmit(H=>{const M={...Q,name:H.name,carbsPer100g:H.carbsPer100g,proteinsPer100g:H.proteinsPer100g,fatsPer100g:H.fatsPer100g,kcalPer100g:H.kcalPer100g,glycemicIndex:H.glycemicIndex,source:"manual",photo:F,portionWeight:Q.portionWeight??100};xe(M),f("weighing"),D(d),S("Datos guardados manualmente, procede a pesar")}),He=u.useCallback(H=>{if(!E)return;const M=G.getValues(E),_e=M?String(M):"";if(H==="."&&_e.includes("."))return;const Ye=`${_e==="0"&&H!=="."?"":_e}${H}`.replace(/^0+(?=\d)/,"").replace(",","."),Lt=Number(Ye||"0");G.setValue(E,isNaN(Lt)?0:Lt,{shouldDirty:!0,shouldValidate:!0})},[E,G]),Tr=u.useCallback(()=>{if(!E)return;const H=G.getValues(E),_e=(H?String(H):"").slice(0,-1),Re=Number(_e||"0");G.setValue(E,Re,{shouldDirty:!0,shouldValidate:!0})},[E,G]),Ar=u.useCallback(()=>{E&&G.setValue(E,0,{shouldDirty:!0,shouldValidate:!0})},[E,G]);return i.jsx(ra,{open:e,onOpenChange:t,children:i.jsxs(cs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",onOpenAutoFocus:H=>{var M;H.preventDefault(),(M=ne.current)==null||M.focus()},onPointerDownOutside:H=>{m==="scanning"&&H.preventDefault()},children:[i.jsx(us,{children:i.jsx(ds,{children:"Escanear Alimento"})}),i.jsx("p",{className:"sr-only","aria-live":"assertive",children:N}),i.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-md border p-3","aria-live":"polite",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Estado"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:N})]}),i.jsxs(ji,{variant:"outline",children:["Intentos: ",g,"/",Eo]})]}),m==="mode-select"&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"Elige cmo escanear el alimento:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(U,{ref:ne,size:"lg",variant:"default",className:"h-32 flex-col gap-2",onClick:En,children:[i.jsx(Bw,{className:"h-12 w-12","aria-hidden":"true"}),i.jsx("span",{children:"Cdigo de Barras"})]}),i.jsxs(U,{size:"lg",variant:"secondary",className:"h-32 flex-col gap-2",onClick:Ns,children:[i.jsx(Wo,{className:"h-12 w-12","aria-hidden":"true"}),i.jsx("span",{children:"Foto IA"})]})]})]}),m==="scanning"&&i.jsxs("div",{className:"space-y-4",children:[p==="barcode"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-black/50 rounded-lg p-4 text-center text-white",children:[i.jsx("p",{className:"mb-2",children:"Apunta la cmara al cdigo de barras"}),i.jsx(Wi,{value:w,className:"h-2","aria-label":"Progreso de escaneo"})]}),i.jsx("div",{id:"barcode-reader",className:"w-full","aria-live":"polite"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-black/50 rounded-lg p-4 text-center text-white",children:[i.jsx("p",{className:"mb-2",children:"Apunta al alimento y espera"}),i.jsx(Wi,{value:w,className:"h-2","aria-label":"Progreso de escaneo IA"}),b&&i.jsx(qr,{className:"h-6 w-6 animate-spin mx-auto mt-2","aria-hidden":"true"})]}),i.jsx("video",{ref:Ne,className:"w-full rounded-lg",autoPlay:!0,playsInline:!0,muted:!0,"aria-label":"Vista previa de cmara"}),i.jsx("canvas",{ref:Xe,className:"hidden"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(U,{onClick:dr,disabled:b,className:"flex-1",children:[i.jsx(L2,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),b?"Analizando...":"Capturar Ahora"]}),i.jsx(U,{variant:"outline",onClick:()=>f("mode-select"),children:"Cancelar"})]})]}),i.jsx(U,{variant:"outline",onClick:()=>f("fallback"),className:"w-full",children:"Entrada Manual / Voz"})]}),m==="preview"&&i.jsx("div",{className:"space-y-4",children:i.jsx(st,{className:"p-4 space-y-4","aria-live":"polite",children:i.jsxs("form",{onSubmit:De,className:"space-y-4","aria-label":"Revisin del alimento detectado",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Fe,{htmlFor:"preview-name",children:"Nombre del alimento"}),i.jsx(nt,{id:"preview-name",placeholder:"Ej: Manzana",...A.register("name"),"aria-invalid":A.formState.errors.name?"true":"false"}),A.formState.errors.name&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.name.message})]}),i.jsxs("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:[i.jsx(ji,{variant:Q.source==="ai"?"secondary":"default",children:Q.source==="ai"?"IA":Q.source==="barcode"?"Cdigo de barras":"Manual"}),Q.confidence>0&&i.jsxs(ji,{variant:"outline",children:["Confianza ",(Q.confidence*100).toFixed(0),"%"]})]})]}),i.jsxs("div",{children:[i.jsx(Fe,{className:"text-sm font-medium",children:"Modo de macros"}),i.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",role:"group","aria-label":"Modo de edicin de macros",children:[i.jsx(U,{type:"button",variant:oe==="per100g"?"default":"outline",onClick:()=>A.setValue("entryMode","per100g",{shouldDirty:!0,shouldValidate:!0}),children:"Por 100 g"}),i.jsx(U,{type:"button",variant:oe==="perTotal"?"default":"outline",onClick:()=>A.setValue("entryMode","perTotal",{shouldDirty:!0,shouldValidate:!0}),children:"Por total"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Fe,{htmlFor:"preview-carbs",children:["Carbohidratos ",oe==="per100g"?"/ 100 g":"totales"]}),i.jsx(nt,{id:"preview-carbs",type:"number",step:"0.1",...A.register("carbs",{valueAsNumber:!0}),"aria-invalid":A.formState.errors.carbs?"true":"false"}),A.formState.errors.carbs&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.carbs.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Fe,{htmlFor:"preview-proteins",children:["Protenas ",oe==="per100g"?"/ 100 g":"totales"]}),i.jsx(nt,{id:"preview-proteins",type:"number",step:"0.1",...A.register("proteins",{valueAsNumber:!0}),"aria-invalid":A.formState.errors.proteins?"true":"false"}),A.formState.errors.proteins&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.proteins.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Fe,{htmlFor:"preview-fats",children:["Grasas ",oe==="per100g"?"/ 100 g":"totales"]}),i.jsx(nt,{id:"preview-fats",type:"number",step:"0.1",...A.register("fats",{valueAsNumber:!0}),"aria-invalid":A.formState.errors.fats?"true":"false"}),A.formState.errors.fats&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.fats.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Fe,{htmlFor:"preview-kcal",children:["Caloras ",oe==="per100g"?"/ 100 g":"totales"]}),i.jsx(nt,{id:"preview-kcal",type:"number",step:"1",...A.register("kcal",{valueAsNumber:!0}),"aria-invalid":A.formState.errors.kcal?"true":"false"}),A.formState.errors.kcal&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.kcal.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{htmlFor:"preview-weight",children:"Peso de la porcin (g, opcional)"}),i.jsx(nt,{id:"preview-weight",type:"number",step:"1",...A.register("weight",{valueAsNumber:!0}),"aria-invalid":A.formState.errors.weight?"true":"false"}),A.formState.errors.weight&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.weight.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{htmlFor:"preview-glycemic",children:"ndice glucmico"}),i.jsx(nt,{id:"preview-glycemic",type:"number",step:"1",...A.register("glycemicIndex",{valueAsNumber:!0}),"aria-invalid":A.formState.errors.glycemicIndex?"true":"false"}),A.formState.errors.glycemicIndex&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.glycemicIndex.message})]})]}),Q.source==="ai"&&i.jsxs("div",{className:"flex items-start gap-2 rounded-md border p-3",children:[i.jsx(IN,{id:"confirm-carbs",checked:!!nn,onCheckedChange:H=>A.setValue("confirmEstimatedCarbs",H===!0,{shouldDirty:!0,shouldValidate:!0})}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx(Fe,{htmlFor:"confirm-carbs",children:"Confirma carbs estimados"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifica manualmente los valores antes de continuar."}),A.formState.errors.confirmEstimatedCarbs&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:A.formState.errors.confirmEstimatedCarbs.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg border p-4",children:[i.jsx("h4",{className:"mb-2 font-semibold",children:"Por 100 g"}),ft.per100g?i.jsxs("dl",{className:"space-y-1 text-sm sm:text-base",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Carbohidratos"}),i.jsxs("dd",{children:[ft.per100g.carbs.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Protenas"}),i.jsxs("dd",{children:[ft.per100g.proteins.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Grasas"}),i.jsxs("dd",{children:[ft.per100g.fats.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Caloras"}),i.jsxs("dd",{children:[ft.per100g.kcal.toLocaleString("es-ES",{maximumFractionDigits:0})," ","kcal"]})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Agrega un peso para convertir a 100 g."})]}),i.jsxs("div",{className:"rounded-lg border p-4",children:[i.jsxs("h4",{className:"mb-2 font-semibold",children:["Porcin total",ft.weight?` (${ft.weight} g)`:""]}),ft.perTotal?i.jsxs("dl",{className:"space-y-1 text-sm sm:text-base",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Carbohidratos"}),i.jsxs("dd",{children:[ft.perTotal.carbs.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Protenas"}),i.jsxs("dd",{children:[ft.perTotal.proteins.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Grasas"}),i.jsxs("dd",{children:[ft.perTotal.fats.toLocaleString("es-ES",{maximumFractionDigits:2})," ","g"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("dt",{children:"Caloras"}),i.jsxs("dd",{children:[ft.perTotal.kcal.toLocaleString("es-ES",{maximumFractionDigits:0})," ","kcal"]})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresa un peso para ver los totales."})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(U,{type:"submit",className:"flex-1 min-w-[150px]",disabled:!A.formState.isValid,children:"Continuar a pesar"}),i.jsx(U,{type:"button",variant:"outline",onClick:()=>f("mode-select"),className:"min-w-[150px]",children:"Escanear de nuevo"}),i.jsx(U,{type:"button",variant:"outline",onClick:()=>f("fallback"),className:"min-w-[150px]",children:"Ajustar manualmente"})]})]})})}),m==="weighing"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(st,{className:"p-4","aria-live":"polite",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Peso actual"}),i.jsxs("div",{className:"text-3xl font-bold",children:[d," g"]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",d-z>0?"+":"",d-z," g"]})]}),i.jsxs(st,{className:"p-4","aria-live":"polite",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Nutricin estimada"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-lg",children:[i.jsxs("span",{className:"font-bold",children:[Qe," g"]})," carbohidratos"]}),i.jsxs("p",{className:"text-lg",children:[i.jsx("span",{className:"font-bold",children:we})," kcal"]})]})]})]}),i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"expected-portion",children:"Ajustar porcin esperada (g)"}),i.jsx(Eh,{id:"expected-portion",value:[O],onValueChange:([H])=>V(H),min:1,max:1e3,step:1,className:"mt-2","aria-label":"Porcin esperada"}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[O," g"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(U,{onClick:ke,className:"flex-1",disabled:d<=0,children:[i.jsx(Vn,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Confirmar"]}),i.jsx(U,{variant:"outline",onClick:()=>f("preview"),children:"Volver"})]})]}),m==="fallback"&&i.jsxs("div",{className:"space-y-4",children:[k&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dicta el alimento y sus datos o ajusta la informacin manualmente."}),i.jsxs(jN,{defaultValue:k?"voice":"manual",className:"w-full",children:[i.jsxs(Ph,{className:"grid w-full grid-cols-2",children:[i.jsx(Ds,{value:"voice",disabled:!k,children:"Voz"}),i.jsx(Ds,{value:"manual",children:"Manual"})]}),i.jsx(Fs,{value:"voice",className:"space-y-4",forceMount:!0,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"rounded-lg border p-4","aria-live":"polite",children:[i.jsx("p",{className:"font-medium mb-2",children:"Dicta el alimento y sus datos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ejemplo: Manzana 12 carbohidratos 50 caloras"}),i.jsxs("p",{className:"mt-2 text-sm","aria-live":"polite",children:["Transcripcin: ",Y||"Sin entrada todava"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(U,{className:"flex-1",variant:ee==="listening"?"destructive":"default",onClick:ee==="listening"?Ge:Je,children:ee==="listening"?i.jsxs(i.Fragment,{children:[i.jsx(Oc,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Detener"]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"Escuchar"]})}),i.jsx(U,{variant:"outline",onClick:()=>X(""),children:"Limpiar"})]}),i.jsx(U,{className:"w-full",onClick:Ve,children:"Usar datos transcritos"})]})}),i.jsx(Fs,{value:"manual",className:"space-y-4",forceMount:!0,children:i.jsxs("form",{onSubmit:Ve,className:"space-y-4","aria-label":"Formulario manual",children:[i.jsxs("div",{children:[i.jsx(Fe,{htmlFor:"manual-name",children:"Nombre del alimento"}),i.jsx(nt,{id:"manual-name",placeholder:"Ej: Manzana",...G.register("name"),"aria-invalid":G.formState.errors.name?"true":"false"}),G.formState.errors.name&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:G.formState.errors.name.message})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Fe,{htmlFor:"carbs",children:"Carbos / 100g"}),i.jsxs(U,{type:"button",size:"icon",variant:E==="carbsPer100g"?"default":"ghost",onClick:()=>W(H=>H==="carbsPer100g"?null:"carbsPer100g"),"aria-pressed":E==="carbsPer100g",children:[i.jsx(rf,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Mostrar teclado para carbohidratos"})]})]}),i.jsx(nt,{id:"carbs",type:"number",step:"0.1",...G.register("carbsPer100g",{valueAsNumber:!0}),"aria-invalid":G.formState.errors.carbsPer100g?"true":"false"}),G.formState.errors.carbsPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:G.formState.errors.carbsPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Fe,{htmlFor:"kcal",children:"Kcal / 100g"}),i.jsxs(U,{type:"button",size:"icon",variant:E==="kcalPer100g"?"default":"ghost",onClick:()=>W(H=>H==="kcalPer100g"?null:"kcalPer100g"),"aria-pressed":E==="kcalPer100g",children:[i.jsx(rf,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Mostrar teclado para caloras"})]})]}),i.jsx(nt,{id:"kcal",type:"number",step:"0.1",...G.register("kcalPer100g",{valueAsNumber:!0}),"aria-invalid":G.formState.errors.kcalPer100g?"true":"false"}),G.formState.errors.kcalPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:G.formState.errors.kcalPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Fe,{htmlFor:"proteins",children:"Protenas / 100g"}),i.jsx(nt,{id:"proteins",type:"number",step:"0.1",...G.register("proteinsPer100g",{valueAsNumber:!0}),"aria-invalid":G.formState.errors.proteinsPer100g?"true":"false"}),G.formState.errors.proteinsPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:G.formState.errors.proteinsPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx(Fe,{htmlFor:"fats",children:"Grasas / 100g"}),i.jsx(nt,{id:"fats",type:"number",step:"0.1",...G.register("fatsPer100g",{valueAsNumber:!0}),"aria-invalid":G.formState.errors.fatsPer100g?"true":"false"}),G.formState.errors.fatsPer100g&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:G.formState.errors.fatsPer100g.message})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Fe,{htmlFor:"glycemic-index",children:"ndice glucmico"}),i.jsxs(U,{type:"button",size:"icon",variant:E==="glycemicIndex"?"default":"ghost",onClick:()=>W(H=>H==="glycemicIndex"?null:"glycemicIndex"),"aria-pressed":E==="glycemicIndex",children:[i.jsx(rf,{className:"h-4 w-4","aria-hidden":"true"}),i.jsx("span",{className:"sr-only",children:"Mostrar teclado para ndice glucmico"})]})]}),i.jsx(nt,{id:"glycemic-index",type:"number",step:"1",...G.register("glycemicIndex",{valueAsNumber:!0}),"aria-invalid":G.formState.errors.glycemicIndex?"true":"false"}),G.formState.errors.glycemicIndex&&i.jsx("p",{className:"text-sm text-red-600",role:"alert",children:G.formState.errors.glycemicIndex.message})]})]}),E&&i.jsx(n5,{onKey:He,onDelete:Tr,onClear:Ar}),i.jsx(U,{type:"submit",className:"w-full",disabled:!G.formState.isValid,children:"Guardar y pesar"})]})})]})]}),i.jsx("div",{className:"text-xs text-muted-foreground",role:"note",children:"El modo seleccionado se bloquea unos segundos tras cada intento para evitar lecturas repetidas."})]})})}const a5=()=>{const{weight:e}=ud(),[t,r]=u.useState(!1),[n,s]=u.useState([]),[a,o]=u.useState(null),[l,c]=u.useState(!1),[d,m]=u.useState(),[f,p]=u.useState(null),[h,b]=u.useState(null),[y,w]=u.useState(null),[v,g]=u.useState(!1),[x,N]=u.useState(!1),[S,j]=u.useState(void 0),C=u.useRef(null),T=u.useRef(null),O=u.useRef(null);u.useRef(null);const V=u.useRef(!1),z=u.useRef([]),{toast:D}=en(),F=so(),I=L=>{const K=bn(L,F);return K===""?K:`${K} g`},X=Te.getSettings().diabetesMode,ee=u.useMemo(()=>n.reduce((L,K)=>({weight:L.weight+K.weight,carbs:L.carbs+K.carbs,proteins:L.proteins+K.proteins,fats:L.fats+K.fats}),{weight:0,carbs:0,proteins:0,fats:0}),[n]),P=u.useCallback(()=>{var re;const L=Te.getScannerHistory();if(z.current=[],!Array.isArray(L)){V.current=!0;return}const K=L.map(ne=>{if(!ne||typeof ne!="object")return null;if(!(typeof ne.weight=="number"&&typeof ne.carbs=="number"&&typeof ne.proteins=="number"&&typeof ne.fats=="number"&&typeof ne.glycemicIndex=="number")||typeof ne.name!="string")return ne.name&&ne.weight&&typeof ne.timestamp=="string"&&z.current.push(ne),null;const At=ne.source==="ai"?"camera":"barcode",dt=typeof ne.capturedAt=="string"?Date.parse(ne.capturedAt)||Date.now():typeof ne.timestamp=="string"&&Date.parse(ne.timestamp)||Date.now();return{id:ne.id??`${dt}-${ne.name.toLowerCase().replace(/\s+/g,"-")}`,name:ne.name,weight:ne.weight,carbs:ne.carbs,proteins:ne.proteins,fats:ne.fats,glycemicIndex:ne.glycemicIndex,kcal:ne.kcal,confidence:ne.confidence,source:At,capturedAt:dt,photo:ne.photo}}).filter(ne=>!!(ne!=null&&ne.name&&(ne!=null&&ne.weight)));K.length>0&&(s(K),o(((re=K[K.length-1])==null?void 0:re.id)??null)),V.current=!0},[]);u.useEffect(()=>{P()},[P]),u.useEffect(()=>{if(V.current)try{const L=n.map(re=>({id:re.id,name:re.name,weight:re.weight,carbs:re.carbs,proteins:re.proteins,fats:re.fats,glycemicIndex:re.glycemicIndex,kcal:re.kcal,confidence:re.confidence,source:re.source,timestamp:new Date(re.capturedAt).toISOString(),capturedAt:new Date(re.capturedAt).toISOString(),photo:re.photo,carbsPer100g:re.weight>0?re.carbs/re.weight*100:0,proteinsPer100g:re.weight>0?re.proteins/re.weight*100:0,fatsPer100g:re.weight>0?re.fats/re.weight*100:0,kcalPer100g:re.kcal&&re.weight>0?re.kcal/re.weight*100:0,portionWeight:re.weight})),K=[...z.current,...L];Te.saveScannerHistory(K)}catch(L){ue.error("Failed to persist scanner history",{error:L})}},[n]);const E=u.useCallback(()=>{O.current&&(O.current.getTracks().forEach(L=>L.stop()),O.current=null),g(!1)},[]);u.useEffect(()=>()=>E(),[E]);const W=u.useCallback(async()=>{var L;if(typeof navigator>"u"||!((L=navigator.mediaDevices)!=null&&L.getUserMedia)){w("Este dispositivo no permite acceso a la cmara desde el navegador");return}try{const K=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});C.current&&(C.current.srcObject=K),O.current=K,w(null),g(!0)}catch(K){ue.error("Failed to start camera",{error:K}),w("No se pudo iniciar la cmara. Revisa permisos o intenta con otro navegador.")}},[]),A=u.useCallback(async()=>{if(!C.current)return null;const L=C.current,K=T.current;if(!K)return null;const re=L.videoWidth,ne=L.videoHeight;if(!re||!ne)return null;K.width=re,K.height=ne;const We=K.getContext("2d");if(!We)return null;We.drawImage(L,0,0,re,ne);const At=K.toDataURL("image/jpeg",.92);return p(At),await new Promise(dt=>{K.toBlob(St=>dt(St),"image/jpeg",.92)})},[]);u.useEffect(()=>{if(!h)return;const L=URL.createObjectURL(h);return p(L),()=>URL.revokeObjectURL(L)},[h]);const ae=async()=>{if(e>0)return e;const L=window.prompt("Introduce el peso en gramos. Si tienes la bscula conectada, actvala antes de continuar.");if(!L)return null;const K=Number(L.replace(",","."));return Number.isNaN(K)||K<=0?(D({title:"Peso invlido",description:"Introduce un valor numrico mayor que cero",variant:"destructive"}),null):K},Q=L=>{s(K=>[...K,L]),o(L.id),ue.info("Food registered",{name:L.name,weight:L.weight,source:L.source}),D({title:"Alimento aadido",description:`${L.name} - ${I(L.weight)}`}),navigator.vibrate&&navigator.vibrate(25)},xe=u.useCallback(()=>{N(!1),j(void 0)},[]),Ne=u.useCallback(L=>{j((L==null?void 0:L.trim())||void 0),N(!0)},[]),Xe=L=>{const K=GN(L,"barcode");Q(K)},ie=async()=>{const L=await ae();if(!L)return;let K=null;if(v&&(K=await A()),!K&&h&&(K=h),!K){D({title:"Sin imagen",description:"Activa la cmara o sube una foto del alimento para analizarlo",variant:"destructive"});return}r(!0);try{const re=await et.analyzeFood(K,L),ne=Z4(re,L,"camera");Q(ne),b(null)}catch(re){ue.error("Food analysis failed",{error:re}),re instanceof Mt?D({title:"Error",description:re.message,variant:"destructive"}):D({title:"Error inesperado",description:"No se pudo analizar la imagen"})}finally{r(!1)}},ve=u.useCallback(()=>{Ne()},[Ne]),$=L=>{s(K=>K.filter(re=>re.id!==L)),a===L&&o(null),D({title:"Alimento eliminado"})},q=async()=>{ue.info("Food analysis completed",{totalWeight:ee.weight,totalCarbs:ee.carbs,totalProteins:ee.proteins,totalFats:ee.fats}),D({title:"Resumen guardado",description:`Peso total: ${I(ee.weight)}`})},se=u.useCallback(async()=>{if(!(typeof navigator<"u"&&!navigator.onLine))for(;;){const L=Te.dequeueScannerAction();if(!L)break;try{if(L.type==="exportBolus"){const K=typeof L.timestamp=="string"?L.timestamp:L.timestamp.toISOString();await et.exportBolus(L.carbs,L.insulin??0,K)}ue.info("Scanner queue action processed",{action:L})}catch(K){ue.error("Failed to process scanner queue action",{action:L,error:K}),Te.enqueueScannerAction(L);break}}},[]);return u.useEffect(()=>{se();const L=()=>{D({title:"Conexin restaurada",description:"Procesando acciones pendientes"}),se()};return window.addEventListener("online",L),()=>window.removeEventListener("online",L)},[se,D]),i.jsxs("div",{className:"flex h-full flex-col gap-6 bg-background p-4",children:[i.jsxs("div",{className:"grid gap-6 md:grid-cols-[1.4fr_1fr]",children:[i.jsx(st,{className:"relative overflow-hidden border-primary/30",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Captura con cmara"}),i.jsxs("p",{className:"text-sm text-muted-foreground",style:{fontFeatureSettings:'"tnum"'},children:["Peso detectado: ",I(e)]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(U,{onClick:W,variant:"secondary",size:"sm",disabled:v,children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"})," Activar cmara"]}),i.jsx(U,{onClick:E,variant:"outline",size:"sm",disabled:!v,children:"Detener"})]})]}),i.jsxs("div",{className:"relative mb-4 rounded-xl border border-dashed border-primary/30 bg-muted/30",children:[i.jsx("video",{ref:C,autoPlay:!0,playsInline:!0,className:be("h-64 w-full rounded-xl object-cover",!v&&"opacity-30")}),!v&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-muted-foreground",children:[i.jsx(Wo,{className:"mb-2 h-8 w-8"}),i.jsx("p",{children:"Activa la cmara o sube una imagen desde archivos."})]})]}),f&&i.jsxs("div",{className:"mb-4 rounded-lg border border-primary/20 bg-primary/5 p-3",children:[i.jsx("p",{className:"mb-2 text-sm font-medium text-primary",children:"ltima captura"}),i.jsx("img",{src:f,alt:"Vista previa",className:"h-40 w-full rounded-md object-cover"})]}),y&&i.jsx("p",{className:"mb-4 text-sm text-destructive",children:y}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsx(U,{onClick:ie,disabled:t,className:"min-w-[180px]",children:t?i.jsxs(i.Fragment,{children:[i.jsx(qr,{className:"mr-2 h-4 w-4 animate-spin"})," Analizando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"})," Analizar alimento"]})}),i.jsxs(U,{onClick:ve,variant:"secondary",disabled:t,children:[i.jsx(Bw,{className:"mr-2 h-4 w-4"})," Cdigo de barras"]})]}),i.jsx("canvas",{ref:T,className:"hidden"})]})}),i.jsx(st,{className:"border-primary/30",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Historial del escner"}),i.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Selecciona un alimento para ver opciones adicionales."}),i.jsxs("div",{className:"space-y-3",children:[n.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"An no has aadido alimentos. Captura una imagen o usa el lector de cdigos de barras."}),n.map(L=>i.jsxs("button",{className:be("w-full rounded-lg border p-4 text-left transition",a===L.id?"border-primary bg-primary/10":"border-border hover:border-primary/60"),onClick:()=>o(L.id),children:[i.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-semibold",children:L.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.source==="camera"?"Imagen":"Cdigo de barras",typeof L.confidence=="number"&&i.jsxs(i.Fragment,{children:[" "," Confianza ",(L.confidence*100).toFixed(0),"%"]})]})]}),i.jsx("span",{className:"text-xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:I(L.weight)})]}),i.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"HC"}),i.jsxs("p",{className:"font-semibold",children:[L.carbs.toFixed(2)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Protenas"}),i.jsxs("p",{className:"font-semibold",children:[L.proteins.toFixed(2)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"Grasas"}),i.jsxs("p",{className:"font-semibold",children:[L.fats.toFixed(2)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-muted-foreground",children:"IG"}),i.jsx("p",{className:"font-semibold",children:L.glycemicIndex})]}),L.avgColor&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Color"}),i.jsx("span",{className:"h-4 w-4 rounded-full border",style:{backgroundColor:`rgb(${L.avgColor.r}, ${L.avgColor.g}, ${L.avgColor.b})`}})]})]}),a===L.id&&i.jsxs(U,{onClick:K=>{K.stopPropagation(),$(L.id)},variant:"destructive",size:"sm",className:"mt-3 w-full",children:[i.jsx(Q2,{className:"mr-2 h-4 w-4"})," Eliminar"]})]},L.id))]})]})})]}),n.length>0&&i.jsx(st,{className:"border-primary/50 bg-primary/5",children:i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"mb-3 text-xl font-bold",children:"Totales"}),i.jsxs("div",{className:"mb-4 grid grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Peso"}),i.jsx("p",{className:"text-2xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:I(ee.weight)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"HC"}),i.jsxs("p",{className:"text-2xl font-bold text-warning",children:[ee.carbs.toFixed(1)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Protenas"}),i.jsxs("p",{className:"text-2xl font-bold text-secondary",children:[ee.proteins.toFixed(1)," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Grasas"}),i.jsxs("p",{className:"text-2xl font-bold text-success",children:[ee.fats.toFixed(1)," g"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(U,{onClick:()=>{s([]),o(null),D({title:"Lista limpiada"})},variant:"outline",size:"xl",className:"text-xl",children:[i.jsx(yn,{className:"mr-2 h-6 w-6"})," Limpiar"]}),i.jsxs(U,{onClick:q,variant:"success",size:"xl",className:"text-xl",children:[i.jsx(pl,{className:"mr-2 h-6 w-6"})," Finalizar"]})]}),X&&ee.carbs>0&&i.jsxs(U,{onClick:async()=>{try{const L=await et.getGlucose();m(L.glucose)}catch(L){ue.warn("Could not fetch glucose",{error:L})}c(!0)},variant:"glow",size:"xl",className:"mt-3 w-full text-xl",children:[i.jsx(Zw,{className:"mr-2 h-6 w-6"})," Calcular bolo de insulina"]})]})}),l&&i.jsx(UA,{totalCarbs:ee.carbs,currentGlucose:d,onClose:()=>{c(!1),s([])}}),i.jsx(s5,{open:x,onClose:xe,prefilledBarcode:S,onFoodConfirmed:Xe})]})},i5=({context:e="page",onClose:t}={})=>{const r=dh(),s=Te.getSettings().ui.flags.navSafeExit??!0,[a,o]=u.useState(!1),[l,c]=u.useState(0),[d,m]=u.useState(!1),[f,p]=u.useState(5),[h,b]=u.useState(!0),[y,w]=u.useState(!1),v=u.useRef(null),g=u.useRef(null),x=u.useRef(!1),N=u.useRef(null),S=u.useRef(null);u.useEffect(()=>{typeof window<"u"&&o("ontouchstart"in window)},[]),u.useEffect(()=>{if(typeof window>"u")return;const ie=new Audio("/sounds/beep.mp3");ie.preload="auto",g.current=ie},[]);const j=u.useCallback((ie=1)=>{if(typeof window>"u")return;const ve=Math.min(Math.max(ie,0),1);if(ve<=0)return;const $=window.AudioContext??window.webkitAudioContext;if(!$)return;(!v.current||v.current.state==="closed")&&(v.current=new $);const q=v.current;if(!q)return;q.state==="suspended"&&q.resume().catch(()=>{});const se=q.createOscillator(),L=q.createGain();se.type="sine",se.frequency.setValueAtTime(880,q.currentTime),L.gain.setValueAtTime(1e-4,q.currentTime);const K=Math.max(1e-4,.25*ve);se.connect(L),L.connect(q.destination),se.start(),L.gain.exponentialRampToValueAtTime(K,q.currentTime+.05),L.gain.exponentialRampToValueAtTime(1e-4,q.currentTime+1.4),se.stop(q.currentTime+1.5)},[]),C=u.useCallback((ie=1)=>{if(typeof window>"u")return;const ve=Math.min(Math.max(ie,0),1);if(ve<=0)return;const q=(g.current??(()=>{const L=new Audio("/sounds/beep.mp3");return L.preload="auto",g.current=L,L})()).cloneNode(!0);q.volume=ve;const se=q.play();se&&typeof se.catch=="function"&&se.catch(L=>{console.warn("Fallo al reproducir beep.mp3, usando fallback",L),j(ve)})},[j]),T=u.useCallback(()=>{N.current&&(clearInterval(N.current),N.current=null),S.current&&(clearTimeout(S.current),S.current=null),w(!1)},[]);u.useEffect(()=>()=>{if(T(),v.current)try{v.current.close()}catch(ie){console.error("Error closing audio context",ie)}},[T]);const O=u.useCallback(()=>{if(x.current)return;x.current=!0;const ie=Te.getSettings(),ve=Math.min(Math.max(ie.uiVolume??1,0),1),$=!!ie.ui.flags.timerAlarms,q=!!ie.isVoiceActive;if(T(),$){if(ie.timerAlarmSoundEnabled&&ve>0&&(C(ve),N.current&&clearInterval(N.current),N.current=setInterval(()=>{C(ve),S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{C(ve)},400)},3e3),w(!0)),q&&ie.timerVoiceAnnouncementsEnabled){const se=new URLSearchParams({text:"Tiempo finalizado"});ie.voiceId&&se.set("voice",ie.voiceId),it.post(`/api/voice/tts/say?${se.toString()}`).catch(L=>{console.error("Failed to send timer completion TTS",L),et.speak("Tiempo finalizado",ie.voiceId).catch(()=>{})})}(!ie.timerAlarmSoundEnabled||ve===0)&&w(!1)}else C(ve),q&&et.speak("Tiempo finalizado",ie.voiceId).catch(()=>{})},[C,T]);u.useEffect(()=>{let ie;return d&&l>0&&(ie=setInterval(()=>{c(ve=>ve<=1?(m(!1),O(),0):ve-1)},1e3)),()=>clearInterval(ie)},[d,l,O]);const V=ie=>{x.current=!1,T(),ie!==void 0?(c(ie*60),p(ie),b(!1)):l===0&&(c(f*60),b(!1)),m(!0)},z=()=>{m(!d)};u.useEffect(()=>{!d&&l===0&&(x.current=!1)},[d,l]);const D=()=>{T()},F=u.useCallback(()=>{x.current=!1,T(),c(0),m(!1),typeof window<"u"&&window.history.length>1?r(-1):r("/",{replace:!0})},[r,T]),I=u.useCallback(()=>{x.current=!1,T(),c(0),m(!1),b(!0)},[T]),Y=u.useCallback(()=>{if(t){t();return}typeof window<"u"&&window.history.length>1?r(-1):r("/",{replace:!0})},[r,t]),X=ie=>{const ve=Math.floor(ie/60),$=ie%60;return`${ve.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},ee=l>0&&f>0?l/(f*60)*100:0,[P,E]=u.useState(""),W=ie=>{P.length<4&&E(P+ie)},A=()=>{E(P.slice(0,-1))},ae=()=>{E("")},Q=()=>{const ie=parseInt(P)||0;ie>0&&(V(ie),E(""))},xe=[{label:"1 min",value:1},{label:"5 min",value:5},{label:"10 min",value:10},{label:"15 min",value:15},{label:"30 min",value:30},{label:"60 min",value:60}],Ne=i.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs(U,{variant:"outline",size:"lg",onClick:Y,className:"gap-2 min-h-[44px] min-w-[44px]",children:[i.jsx(ml,{className:"h-5 w-5"}),"Atrs"]}),i.jsx("h1",{className:"text-xl font-bold",children:"Configurar Temporizador"}),i.jsx("div",{className:"w-[100px]"})," "]}),i.jsx("div",{className:"flex flex-1 items-center justify-center",children:i.jsxs(st,{className:"w-full max-w-2xl max-h-[560px] overflow-y-auto p-5",children:[i.jsxs("div",{className:"mb-4 space-y-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"mb-2 text-base text-muted-foreground",children:"Minutos"}),i.jsx("div",{className:"mx-auto w-48 rounded-lg border-2 border-primary/30 bg-card p-3",children:i.jsx("p",{className:"text-4xl font-bold text-primary",children:P||"0"})})]}),i.jsxs("div",{className:"mx-auto max-w-sm",children:[i.jsx("div",{className:"grid gap-2",children:[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]].map((ie,ve)=>i.jsx("div",{className:"grid grid-cols-3 gap-2",children:ie.map(($,q)=>$?$===""?i.jsx(U,{variant:"outline",size:"lg",onClick:A,className:"h-12 text-lg",children:""},q):i.jsx(U,{variant:"outline",size:"lg",onClick:()=>W($),className:"h-12 text-lg font-bold",children:$},q):i.jsx("div",{},q))},ve))}),i.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[i.jsx(U,{variant:"destructive",size:"lg",onClick:ae,className:"h-12 text-base",children:"Borrar"}),i.jsx(U,{variant:"glow",size:"lg",onClick:Q,className:"h-12 text-base",disabled:!P||parseInt(P)===0,children:"Iniciar"})]})]})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsx("p",{className:"mb-3 text-center text-base text-muted-foreground",children:"O elige un preset:"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:xe.map(ie=>i.jsx(U,{onClick:()=>V(ie.value),variant:"outline",className:"h-14 text-base",children:ie.label},ie.value))})]})]})})]}),Xe=i.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs(U,{variant:"outline",size:"lg",onClick:Y,className:"gap-2 min-h-[44px] min-w-[44px]",children:[i.jsx(ml,{className:"h-5 w-5"}),"Atrs"]}),i.jsx("h1",{className:"text-xl font-bold",children:"Temporizador"}),i.jsx("div",{className:"w-[100px]"})," "]}),i.jsx("div",{className:"flex flex-1 items-center justify-center",children:i.jsxs(st,{className:"relative w-full max-w-xl max-h-[560px] overflow-hidden border-primary/30 p-6 glow-cyan",children:[i.jsx("div",{className:"gradient-holographic absolute inset-0 opacity-20"}),i.jsxs("div",{className:"relative text-center",children:[i.jsx("div",{className:"mb-4",children:i.jsx("div",{className:be("mb-3 text-7xl font-bold tracking-tight transition-smooth",d?"text-primary text-glow-cyan":"text-muted-foreground"),children:X(l)})}),i.jsx("div",{className:"mx-auto mb-4 h-48 w-48",children:i.jsxs("svg",{className:"h-full w-full -rotate-90 transform",children:[i.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"12",fill:"none",className:"text-muted"}),i.jsx("circle",{cx:"96",cy:"96",r:"88",stroke:"currentColor",strokeWidth:"12",fill:"none",strokeDasharray:`${2*Math.PI*88}`,strokeDashoffset:`${2*Math.PI*88*(1-ee/100)}`,className:be("transition-all duration-1000",d?"text-primary":"text-warning"),strokeLinecap:"round"})]})}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(U,{onClick:z,size:"lg",variant:d?"warning":"glow",className:"h-14 min-w-[120px] text-base",children:d?i.jsxs(i.Fragment,{children:[i.jsx(B2,{className:"mr-2 h-5 w-5"}),"Pausar"]}):i.jsxs(i.Fragment,{children:[i.jsx(Gw,{className:"mr-2 h-5 w-5"}),"Reanudar"]})}),i.jsxs(U,{onClick:I,size:"lg",variant:"outline",className:"h-14 min-w-[120px] text-base",children:[i.jsx(Qw,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),i.jsxs(U,{onClick:F,size:"lg",variant:"destructive",className:"h-14 min-w-[120px] text-base",children:[i.jsx(yn,{className:"mr-2 h-5 w-5"}),"Detener"]}),y&&i.jsxs(U,{onClick:D,size:"lg",variant:"destructive",className:"h-14 min-w-[120px] text-base",children:[i.jsx(yn,{className:"mr-2 h-5 w-5"}),"Silenciar"]})]})]})]})})]});return i.jsxs("div",{className:"relative flex h-full flex-col",children:[h?Ne:Xe,s&&a&&i.jsx(U,{variant:"glow",size:"lg",onClick:Y,className:"fixed bottom-6 right-6 z-50 rounded-full min-h-[56px] min-w-[56px] shadow-lg","aria-label":"Salir",children:i.jsx($2,{className:"h-6 w-6"})})]})},Gm=u.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Gm.displayName="Textarea";const o5=[{key:"navSafeExit",title:"Navegacin segura",description:"Muestra controles extra para salir de temporizador y recetas."},{key:"voiceSelector",title:"Selector de voz real",description:"Permite elegir voces reales y ejecutar pruebas de TTS."},{key:"timerAlarms",title:"Alarmas de temporizador",description:"Activa beeps y avisos por voz al finalizar el temporizador."},{key:"calibrationV2",title:"Calibracin asistida v2",description:"Habilita la nueva experiencia de tara y asistente en dos pasos."},{key:"networkModal",title:"Modal de Wi-Fi",description:"Usa un modal interno para cambiar la red Wi-Fi."},{key:"miniEbStable",title:"MINI-EB estable",description:"Aplica reintentos y estados claros en el acceso MINI-EB."},{key:"otaCheck",title:"OTA check",description:"Habilita la comprobacin de actualizaciones OTA desde ajustes."},{key:"otaApply",title:"OTA apply",description:"Permite lanzar la aplicacin de actualizaciones OTA."},{key:"debugLogs",title:"Logs de depuracin",description:"Muestra logs adicionales en consola para diagnsticos."},{key:"mascotMotion",title:"Animacin de mascota",description:"Activa movimiento suave y reacciones animadas de Basculin."}],QN=e=>({navSafeExit:e.navSafeExit,voiceSelector:e.voiceSelector,timerAlarms:e.timerAlarms,calibrationV2:e.calibrationV2,networkModal:e.networkModal,miniEbStable:e.miniEbStable,otaCheck:e.otaCheck,otaApply:e.otaApply,debugLogs:e.debugLogs,mascotMotion:e.mascotMotion}),Tu=()=>{try{const e=Te.getSettings();return QN(e.ui.flags)}catch(e){return console.error("Error loading feature flags",e),{...s1}}},ZN=e=>!!Tu()[e],l5=(e,t)=>{const r=Tu(),n=QN(r);return n[e]=t,Te.saveSettings({ui:{flags:n}}),n},c5=({context:e="page",onClose:t}={})=>{const r=dh(),[n,s]=u.useState(!1),a=u.useMemo(()=>ZN("navSafeExit"),[]);u.useEffect(()=>{typeof window<"u"&&s("ontouchstart"in window)},[]);const o=u.useCallback(()=>{if(a){if(typeof window<"u"&&window.history.length>1){r(-1);return}r("/",{replace:!0})}},[a,r]),l=u.useCallback(()=>{if(t){t();return}o()},[o,t]);return{navEnabled:a,isTouchDevice:n,goBack:o,handleClose:l,isModal:e==="modal"}},u5=e=>e!=null&&e.ingredients?e.ingredients.map(t=>({name:t.name,quantity:t.quantity,unit:t.unit,needsScale:!!t.needs_scale})):[],d5=({context:e="page",onClose:t}={})=>{const r=dh(),{navEnabled:n,isModal:s}=c5({context:e,onClose:t}),a=so(),[o,l]=u.useState(null),[c,d]=u.useState(0),[m,f]=u.useState(!1),[p,h]=u.useState(!1),[b,y]=u.useState(!1),[w,v]=u.useState(""),[g,x]=u.useState({}),[N,S]=u.useState(null),[j,C]=u.useState(!1),T=u.useRef(null),[O,V]=u.useState(!1),{toast:z}=en(),D=u.useMemo(()=>u5(o),[o]),F=o==null?void 0:o.steps[c],I=g[c]??"",Y=u.useCallback(()=>{if(T.current){try{T.current.stop()}catch($){console.warn("Speech recognition stop failed",$)}T.current=null}C(!1)},[]),X=u.useCallback(()=>{if(Y(),!(typeof window>"u")){try{typeof window.speechSynthesis<"u"&&window.speechSynthesis.cancel()}catch($){console.warn("Failed to cancel speech synthesis",$)}try{Array.from(window.document.querySelectorAll("audio")).forEach(q=>{try{q.pause(),q.currentTime=0}catch(se){console.warn("Failed to stop audio element",se)}})}catch($){console.warn("Failed to reset audio elements",$)}}},[Y]);u.useEffect(()=>()=>X(),[X]);const ee=()=>{if(typeof window>"u")return null;const $=window,q=$.SpeechRecognition||$.webkitSpeechRecognition;if(!q)return null;const se=new q;return se.lang="es-ES",se.interimResults=!1,se.maxAlternatives=1,se},P=()=>{if(j){Y();return}const $=ee();if(!$){z({title:"Micrfono no disponible",description:"Este navegador no soporta reconocimiento de voz",variant:"destructive"});return}T.current=$,$.onresult=q=>{const se=Array.from(q.results).map(L=>L[0].transcript).join(" ").trim();se&&(m?x(L=>({...L,[c]:se})):v(se))},$.onerror=q=>{console.error("Speech recognition error",q),z({title:"Error de micrfono",description:"Intenta nuevamente"}),C(!1)},$.onend=()=>{C(!1)};try{$.start(),C(!0)}catch(q){console.error("Speech recognition start failed",q),z({title:"No se pudo iniciar el micrfono"})}},E=u.useCallback(()=>{l(null),f(!1),V(!1),d(0),S(null),x({}),v(""),X()},[X]),W=async()=>{const $=w.trim();if(!$){z({title:"Describe la receta",description:"Indica qu quieres preparar o usa el micrfono",variant:"destructive"});return}h(!0);try{const q=await et.getRecipe($);l(q),f(!0),V(!1),d(0),S(null),x({})}catch(q){console.error("Failed to generate recipe",q),q instanceof Mt?z({title:"No se pudo generar la receta",description:q.message,variant:"destructive"}):z({title:"Error inesperado",description:"Intenta de nuevo"})}finally{h(!1)}},A=()=>{!o||c===0||(d($=>Math.max($-1,0)),S(null),V(!1))},ae=async()=>{if(!(!o||!F||O)){y(!0);try{const $=I.trim(),q=await et.nextRecipeStep(o.id,c,$||void 0);if(S(q.assistantMessage??null),q.isLast){V(!0),z({title:"Receta completada",description:"Buen provecho!"});return}c<o.steps.length-1&&d(se=>se+1)}catch($){console.error("Failed to advance recipe",$),$ instanceof Mt?z({title:"No se pudo avanzar",description:$.message,variant:"destructive"}):z({title:"Error",description:"No se pudo avanzar al siguiente paso"})}finally{y(!1)}}},Q=()=>{E()},xe=u.useCallback(()=>{if(typeof window<"u"&&window.history.length>1){r(-1);return}r("/",{replace:!0})},[r]),Ne=u.useCallback(()=>{if(E(),t){t();return}xe()},[xe,t,E]),Xe=o?Math.min((c+1)/o.steps.length*100,100):0,ie=n?i.jsxs("div",{className:"flex items-center gap-2 p-4",children:[i.jsxs(U,{variant:"outline",onClick:Ne,className:"gap-2",children:[i.jsx(ml,{className:"h-4 w-4"}),"Atrs"]}),s&&i.jsxs(U,{variant:"ghost",onClick:Ne,className:"gap-2",children:[i.jsx(yn,{className:"h-4 w-4"}),"Cerrar"]})]}):null;let ve;return m?!o||!F?ve=null:ve=i.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr_1fr]",children:[i.jsxs(st,{className:"border-primary/30 p-6",children:[i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold",children:o.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Raciones sugeridas: ",o.servings]})]}),i.jsxs(U,{variant:"outline",onClick:Q,children:[i.jsx(yn,{className:"mr-2 h-4 w-4"})," Cancelar"]})]}),D.length>0&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-muted-foreground",children:[i.jsx(z2,{className:"h-4 w-4"})," Ingredientes preparados"]}),i.jsx("ul",{className:"space-y-1 text-sm",children:D.map(($,q)=>i.jsxs("li",{className:"flex items-center justify-between",children:[i.jsx("span",{children:$.name}),i.jsxs("span",{className:"text-muted-foreground",children:[$.quantity!==null?`${bn($.quantity,a)}${$.unit}`:$.unit,$.needsScale&&"  Usa la bscula"]})]},`${$.name}-${q}`))})]}),i.jsxs("div",{className:"mb-3 flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("span",{children:["Paso ",c+1," de ",o.steps.length]}),i.jsxs("span",{children:[Xe.toFixed(0),"%"]})]}),i.jsx("div",{className:"mb-6 h-2 w-full overflow-hidden rounded-full bg-muted",children:i.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${Xe}%`}})}),i.jsxs(st,{className:"border-primary/40 bg-primary/5 p-6",children:[i.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[i.jsx(tf,{className:"h-6 w-6 text-primary"}),i.jsxs("h3",{className:"text-xl font-bold",children:["Paso ",F.index]})]}),i.jsx("p",{className:"text-2xl leading-relaxed",children:F.instruction}),F.needsScale&&F.expectedWeight&&i.jsxs("div",{className:"mt-4 rounded-lg bg-primary/10 p-4 text-center text-primary",children:[i.jsx("p",{className:"text-sm",children:"Peso objetivo"}),i.jsxs("p",{className:"text-4xl font-bold",children:[bn(F.expectedWeight,a)," g"]})]})]})]}),i.jsxs(st,{className:"border-primary/20 p-6",children:[i.jsx("h3",{className:"mb-3 text-xl font-bold",children:"Tu respuesta"}),i.jsx(Gm,{value:I,onChange:$=>x(q=>({...q,[c]:$.target.value})),placeholder:"Escribe observaciones, pesos medidos o dudas para el asistente",className:"min-h-32"}),i.jsxs("div",{className:"mt-3 flex gap-3",children:[i.jsx(U,{onClick:P,variant:j?"destructive":"outline",className:"flex-1",children:j?i.jsxs(i.Fragment,{children:[i.jsx(Oc,{className:"mr-2 h-4 w-4"})," Detener voz"]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"mr-2 h-4 w-4"})," Dictar"]})}),i.jsx(U,{onClick:()=>x($=>({...$,[c]:""})),variant:"outline",children:"Limpiar"})]}),N&&i.jsxs("div",{className:"mt-4 rounded-lg border border-primary/30 bg-primary/10 p-4 text-sm",children:[i.jsx("p",{className:"font-semibold",children:"Asistente:"}),i.jsx("p",{children:N})]})]})]}),i.jsxs("div",{className:"mt-auto grid grid-cols-4 gap-3",children:[i.jsxs(U,{onClick:Q,variant:"outline",size:"xl",className:"h-16 text-xl",children:[i.jsx(yn,{className:"mr-2 h-5 w-5"})," Cancelar"]}),i.jsxs(U,{onClick:A,disabled:c===0,variant:"secondary",size:"xl",className:"h-16 text-xl",children:[i.jsx(ml,{className:"mr-2 h-5 w-5"})," Anterior"]}),i.jsx(U,{onClick:P,variant:j?"destructive":"outline",size:"xl",className:"h-16 text-xl",children:j?i.jsx(Oc,{className:"h-5 w-5"}):i.jsx(Mc,{className:"h-5 w-5"})}),i.jsx(U,{onClick:ae,disabled:b||O,variant:"glow",size:"xl",className:"h-16 text-xl",children:O?"Completado":i.jsxs(i.Fragment,{children:["Siguiente",i.jsx(R2,{className:"ml-2 h-5 w-5"})]})})]})]}):ve=i.jsx("div",{className:"flex flex-1 items-center justify-center p-8",children:i.jsxs(st,{className:"w-full max-w-2xl p-8",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(tf,{className:"h-16 w-16 text-primary"})})}),i.jsx("h2",{className:"mb-4 text-4xl font-bold",children:"Asistente de Recetas"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Describe qu quieres cocinar y te guiaremos paso a paso."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Gm,{placeholder:'Ejemplo: "Quiero preparar pasta con salsa de tomate"',value:w,onChange:$=>v($.target.value),className:"min-h-32 text-lg"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(U,{onClick:P,variant:j?"destructive":"secondary",size:"xl",className:"h-20 text-xl",children:j?i.jsxs(i.Fragment,{children:[i.jsx(Oc,{className:"mr-2 h-6 w-6"})," Detener voz"]}):i.jsxs(i.Fragment,{children:[i.jsx(Mc,{className:"mr-2 h-6 w-6"})," Hablar"]})}),i.jsx(U,{onClick:W,disabled:p,variant:"glow",size:"xl",className:"h-20 text-xl",children:p?"Generando...":i.jsxs(i.Fragment,{children:[i.jsx(tf,{className:"mr-2 h-6 w-6"})," Comenzar"]})})]})]})]})}),i.jsxs("div",{className:"relative flex h-full flex-col",children:[ie,i.jsx("div",{className:"absolute right-4 top-4 z-50 flex items-center",children:i.jsxs(U,{variant:"secondary",size:"lg",onClick:Ne,className:"shadow-md",children:[i.jsx(yn,{className:"mr-2 h-4 w-4"})," Salir"]})}),ve]})};var vd="Switch",[f5,gO]=tn(vd),[m5,p5]=f5(vd),YN=u.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:d,form:m,...f}=e,[p,h]=u.useState(null),b=vt(t,x=>h(x)),y=u.useRef(!1),w=p?m||!!p.closest("form"):!0,[v,g]=qa({prop:s,defaultProp:a??!1,onChange:d,caller:vd});return i.jsxs(m5,{scope:r,checked:v,disabled:l,children:[i.jsx(tt.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":tS(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:b,onClick:Ke(e.onClick,x=>{g(N=>!N),w&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),w&&i.jsx(eS,{control:p,bubbles:!y.current,name:n,value:c,checked:v,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});YN.displayName=vd;var XN="SwitchThumb",JN=u.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=p5(XN,r);return i.jsx(tt.span,{"data-state":tS(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});JN.displayName=XN;var h5="SwitchBubbleInput",eS=u.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=u.useRef(null),l=vt(o,a),c=jh(r),d=td(t);return u.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&h){const b=new Event("click",{bubbles:n});h.call(m,r),m.dispatchEvent(b)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});eS.displayName=h5;function tS(e){return e?"checked":"unchecked"}var rS=YN,g5=JN;const In=u.forwardRef(({className:e,...t},r)=>i.jsx(rS,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:i.jsx(g5,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));In.displayName=rS.displayName;var nS="AlertDialog",[v5,vO]=tn(nS,[y1]),bs=y1(),sS=e=>{const{__scopeAlertDialog:t,...r}=e,n=bs(t);return i.jsx(O1,{...n,...r,modal:!0})};sS.displayName=nS;var y5="AlertDialogTrigger",x5=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bs(r);return i.jsx(ZR,{...s,...n,ref:t})});x5.displayName=y5;var w5="AlertDialogPortal",aS=e=>{const{__scopeAlertDialog:t,...r}=e,n=bs(t);return i.jsx(M1,{...n,...r})};aS.displayName=w5;var b5="AlertDialogOverlay",iS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bs(r);return i.jsx(vh,{...s,...n,ref:t})});iS.displayName=b5;var Ci="AlertDialogContent",[N5,S5]=v5(Ci),k5=gw("AlertDialogContent"),oS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,a=bs(r),o=u.useRef(null),l=vt(t,o),c=u.useRef(null);return i.jsx(qR,{contentName:Ci,titleName:lS,docsSlug:"alert-dialog",children:i.jsx(N5,{scope:r,cancelRef:c,children:i.jsxs(yh,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ke(s.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[i.jsx(k5,{children:n}),i.jsx(C5,{contentRef:o})]})})})});oS.displayName=Ci;var lS="AlertDialogTitle",cS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bs(r);return i.jsx(xh,{...s,...n,ref:t})});cS.displayName=lS;var uS="AlertDialogDescription",dS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bs(r);return i.jsx(wh,{...s,...n,ref:t})});dS.displayName=uS;var j5="AlertDialogAction",fS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=bs(r);return i.jsx(bh,{...s,...n,ref:t})});fS.displayName=j5;var mS="AlertDialogCancel",pS=u.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=S5(mS,r),a=bs(r),o=vt(t,s);return i.jsx(bh,{...a,...n,ref:o})});pS.displayName=mS;var C5=({contentRef:e})=>{const t=`\`${Ci}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ci}\` by passing a \`${uS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ci}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},E5=sS,_5=aS,hS=iS,gS=oS,vS=fS,yS=pS,xS=cS,wS=dS;const P5=E5,T5=_5,bS=u.forwardRef(({className:e,...t},r)=>i.jsx(hS,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));bS.displayName=hS.displayName;const NS=u.forwardRef(({className:e,...t},r)=>i.jsxs(T5,{children:[i.jsx(bS,{}),i.jsx(gS,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));NS.displayName=gS.displayName;const SS=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});SS.displayName="AlertDialogHeader";const kS=({className:e,...t})=>i.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});kS.displayName="AlertDialogFooter";const jS=u.forwardRef(({className:e,...t},r)=>i.jsx(xS,{ref:r,className:be("text-lg font-semibold",e),...t}));jS.displayName=xS.displayName;const CS=u.forwardRef(({className:e,...t},r)=>i.jsx(wS,{ref:r,className:be("text-sm text-muted-foreground",e),...t}));CS.displayName=wS.displayName;const ES=u.forwardRef(({className:e,...t},r)=>i.jsx(vS,{ref:r,className:be(fh(),e),...t}));ES.displayName=vS.displayName;const _S=u.forwardRef(({className:e,...t},r)=>i.jsx(yS,{ref:r,className:be(fh({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_S.displayName=yS.displayName;const A5=({onKeyPress:e,onBackspace:t,onClear:r,showDecimal:n=!1,className:s})=>{const a=[["1","2","3"],["4","5","6"],["7","8","9"],[n?".":"","0",""]];return i.jsxs("div",{className:be("grid gap-3",s),children:[a.map((o,l)=>i.jsx("div",{className:"grid grid-cols-3 gap-3",children:o.map((c,d)=>c?c===""?i.jsx(U,{variant:"outline",size:"xxl",onClick:t,className:"active:scale-95",children:i.jsx(Zp,{className:"h-7 w-7"})},d):i.jsx(U,{variant:"outline",size:"xxl",onClick:()=>e(c),className:"font-bold active:scale-95",children:c},d):i.jsx("div",{},d))},l)),r&&i.jsx(U,{variant:"destructive",size:"xxl",onClick:r,className:"active:scale-95",children:"Borrar Todo"})]})},R5=({onKeyPress:e,onBackspace:t,onClear:r,className:n})=>{const[s,a]=u.useState(!1),[o,l]=u.useState(!1),m=o?[["1","2","3","4","5","6","7","8","9","0"],["@","#","$","_","&","-","+","(",")","/"],["*",'"',"'",":",";","!","?",".",","]]:[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["z","x","c","v","b","n","m"]];return i.jsxs("div",{className:be("space-y-3",n),children:[m.map((f,p)=>i.jsxs("div",{className:"flex gap-2 justify-center",children:[p===2&&i.jsx(U,{variant:"outline",size:"xl",onClick:()=>a(!s),className:be("px-4 font-bold active:scale-95",s&&"bg-primary/20"),children:s?"Aa":"aa"}),f.map((h,b)=>i.jsx(U,{variant:"outline",size:"xl",onClick:()=>e(s?h.toUpperCase():h),className:"min-w-[3rem] px-3 text-xl font-medium active:scale-95",children:s?h.toUpperCase():h},b)),p===2&&i.jsx(U,{variant:"outline",size:"xl",onClick:t,className:"px-4 active:scale-95",children:i.jsx(Zp,{className:"h-6 w-6"})})]},p)),i.jsxs("div",{className:"flex gap-2 justify-center",children:[i.jsx(U,{variant:"outline",size:"xl",onClick:()=>l(!o),className:"px-5 active:scale-95",children:o?"ABC":"123"}),i.jsx(U,{variant:"outline",size:"xl",onClick:()=>e(" "),className:"flex-1 active:scale-95",children:"Espacio"}),i.jsx(U,{variant:"outline",size:"xl",onClick:()=>e("."),className:"px-5 active:scale-95",children:"."}),r&&i.jsx(U,{variant:"destructive",size:"xl",onClick:r,className:"px-5 active:scale-95",children:"Borrar"})]})]})},I5=(e,t={})=>{const r=e.trim();if(r==="")return t.allowEmpty?{isValid:!0}:{isValid:!1,error:t.emptyError??"URL requerida"};try{const n=new URL(r);return["http:","https:","ws:","wss:"].includes(n.protocol)?r.length>500?{isValid:!1,error:"URL demasiado larga (mx 500 caracteres)"}:{isValid:!0}:{isValid:!1,error:"URL debe usar http, https, ws o wss"}}catch{return{isValid:!1,error:"URL invlida"}}},O5=(e,t,r,n=!0)=>{if(!e||e.trim()==="")return{isValid:!1,error:"Valor requerido"};const s=parseFloat(e);return isNaN(s)?{isValid:!1,error:"Debe ser un nmero vlido"}:!n&&!Number.isInteger(s)?{isValid:!1,error:"Debe ser un nmero entero"}:t!==void 0&&s<t?{isValid:!1,error:`Valor mnimo: ${t}`}:r!==void 0&&s>r?{isValid:!1,error:`Valor mximo: ${r}`}:{isValid:!0}},M5=(e,t,r)=>{const n=e.trim();return r!==void 0&&n.length>r?{isValid:!1,error:`Mximo ${r} caracteres`}:/<script|javascript:|onerror=|onclick=/i.test(n)?{isValid:!1,error:"Contiene caracteres no permitidos"}:{isValid:!0}},D5=(e,t={})=>{const r=e.trim();return r===""?t.allowEmpty?{isValid:!0}:{isValid:!1,error:t.emptyError??"API key requerida"}:r.length<10?{isValid:!1,error:"API key demasiado corta"}:r.length>500?{isValid:!1,error:"API key demasiado larga"}:/^[a-zA-Z0-9_-]+$/.test(r)?{isValid:!0}:{isValid:!1,error:"API key contiene caracteres invlidos"}},F5=({open:e,onClose:t,value:r,onChange:n,onConfirm:s,title:a,type:o="text",showDecimal:l=!1,min:c,max:d,maxLength:m=500,allowEmpty:f=!1})=>{const[p,h]=u.useState(null),b=o==="numeric",y=N=>{switch(o){case"numeric":return O5(N,c,d,l);case"url":return I5(N,{allowEmpty:f});case"apikey":return D5(N,{allowEmpty:f});case"text":case"password":return M5(N,void 0,m);default:return{isValid:!0}}},w=N=>{const S=r+N;if(!b&&S.length>m){h(`Mximo ${m} caracteres`),navigator.vibrate&&navigator.vibrate(50);return}n(S),h(null)},v=()=>{n(r.slice(0,-1)),h(null)},g=()=>{n(""),h(null)},x=()=>{const N=y(r);if(!N.isValid){h(N.error||"Valor invlido"),navigator.vibrate&&navigator.vibrate([50,100,50]);return}navigator.vibrate&&navigator.vibrate(30),s(),t()};return i.jsx(ra,{open:e,onOpenChange:t,children:i.jsxs(cs,{className:"max-w-4xl",children:[i.jsx(us,{children:i.jsx(ds,{className:"text-3xl",children:a})}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(nt,{type:o==="password"?"password":"text",value:r,readOnly:!0,className:`text-2xl h-16 border-2 ${p?"border-destructive":""}`}),p&&i.jsxs("div",{className:"flex items-center gap-2 text-destructive text-sm animate-fade-in",children:[i.jsx(Hn,{className:"h-4 w-4"}),i.jsx("span",{children:p})]})]}),b?i.jsx(A5,{onKeyPress:w,onBackspace:v,onClear:g,showDecimal:l}):i.jsx(R5,{onKeyPress:w,onBackspace:v,onClear:g}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(U,{variant:"outline",size:"xxl",onClick:t,className:"active:scale-95",children:"Cancelar"}),i.jsx(U,{variant:"glow",size:"xxl",onClick:x,className:"active:scale-95",children:"Confirmar"})]})]})]})})},L5=({open:e,onClose:t,currentWeight:r})=>{const[n,s]=u.useState(1),[a,o]=u.useState("100"),[l,c]=u.useState(!1),{toast:d}=en(),m=so(),f=()=>{s(1),o("100"),c(!1)},h=(n-1)/(2-1)*100,b=parseFloat(a),y=Number.isFinite(b)&&b>0,w=Math.abs(r)>.05,v=async()=>{if(!y){d({title:"Peso invlido",description:"Introduce un peso de referencia mayor a 0 g.",variant:"destructive"});return}c(!0);try{const g=await et.applyCalibration(b);g.ok?(typeof g.calibration_factor=="number"&&Number.isFinite(g.calibration_factor)&&Te.saveSettings({calibrationFactor:g.calibration_factor}),d({title:"Calibracin aplicada",description:g.message??`Referencia registrada: ${bn(b,m)} g`}),navigator.vibrate&&navigator.vibrate([40,60,40]),f(),t()):d({title:"Error",description:g.message??"No se pudo aplicar la calibracin",variant:"destructive"})}catch{d({title:"Error",description:"No se pudo aplicar la calibracin",variant:"destructive"})}finally{c(!1)}};return i.jsx(ra,{open:e,onOpenChange:g=>{g||(f(),t())},children:i.jsxs(cs,{className:"max-w-2xl",children:[i.jsx(us,{children:i.jsxs(ds,{className:"flex items-center gap-2 text-2xl",children:[i.jsx(oa,{className:"h-6 w-6"}),"Asistente de Calibracin"]})}),i.jsx(Wi,{value:Number.isFinite(h)?h:0,className:"mb-4"}),n===1?i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"space-y-6 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(Xw,{className:"h-16 w-16 text-primary"})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-2xl font-bold",children:"Paso 1: Coloca el peso de referencia"}),i.jsx("p",{className:"text-muted-foreground",children:"Asegrate de que la bscula marque el peso estable antes de continuar."}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Usa el botn ",i.jsx("span",{className:"font-semibold text-foreground",children:"Cero"})," si necesitas ajustar la tara antes de colocar el peso."]})]}),i.jsxs("div",{className:be("text-6xl font-bold",w?"text-primary":"text-muted-foreground"),style:{fontFeatureSettings:'"tnum"'},children:[bn(r,m)," g"]}),!w&&i.jsx("p",{className:"text-sm text-warning",children:"Espera a que la bscula detecte el peso de referencia."}),i.jsx(U,{onClick:()=>s(2),size:"xxl",variant:"glow",className:"w-full",children:"Continuar"})]})}):i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-secondary/20 p-6",children:i.jsx(oa,{className:"h-16 w-16 text-secondary"})})}),i.jsx("h3",{className:"text-2xl font-bold",children:"Paso 2: Introduce el peso exacto"}),i.jsx("p",{className:"text-muted-foreground",children:"Escribe el valor en gramos de tu peso de referencia para aplicar la calibracin."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Fe,{className:"text-lg",children:"Peso de referencia (g)"}),i.jsx(nt,{type:"number",value:a,onChange:g=>o(g.target.value),className:"h-16 text-center text-2xl",placeholder:"100",min:"0"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Ejemplo: pesa calibrada de 100 g o cualquier referencia certificada."})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Lectura actual"}),i.jsxs("div",{className:"text-5xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:[bn(r,m)," g"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(U,{onClick:()=>s(1),size:"lg",variant:"outline",disabled:l,children:"Atrs"}),i.jsx(U,{onClick:v,size:"lg",variant:"glow",className:"flex items-center justify-center",disabled:l||!y,children:l?"Aplicando...":"Aplicar"})]})]})})]})})},z5=({open:e,onClose:t,currentWeight:r})=>{const[n,s]=u.useState(1),[a,o]=u.useState("100"),[l,c]=u.useState(0),[d,m]=u.useState(0),{toast:f}=en(),p=so(),h=()=>{s(1),o("100"),c(0),m(0)},b=async()=>{try{await et.scaleZero(),navigator.vibrate&&navigator.vibrate([30,50,30]),s(2)}catch{f({title:"Error",description:"No se pudo realizar el zero",variant:"destructive"})}},y=()=>{c(r);const g=parseFloat(a);if(g>0&&r>0){const x=r/g;m(x),s(3)}else f({title:"Error",description:"Coloca el peso conocido en la bscula",variant:"destructive"})},w=async()=>{try{await et.setCalibrationFactor(d),Te.saveSettings({calibrationFactor:d}),f({title:"Calibracin completada!",description:`Factor de calibracin: ${d.toFixed(4)}`}),navigator.vibrate&&navigator.vibrate([50,100,50,100,50]),h(),t()}catch{f({title:"Error",description:"No se pudo guardar la calibracin",variant:"destructive"})}},v=n/3*100;return i.jsx(ra,{open:e,onOpenChange:g=>{g||(h(),t())},children:i.jsxs(cs,{className:"max-w-2xl",children:[i.jsx(us,{children:i.jsxs(ds,{className:"text-2xl flex items-center gap-2",children:[i.jsx(oa,{className:"h-6 w-6"}),"Asistente de Calibracin"]})}),i.jsx(Wi,{value:v,className:"mb-4"}),n===1&&i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(oa,{className:"h-16 w-16 text-primary"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Paso 1: Zero"}),i.jsx("p",{className:"text-muted-foreground",children:'Retira todos los objetos de la bscula y presiona "Hacer Zero"'})]}),i.jsxs("div",{className:be("text-6xl font-bold",r===0?"text-success":"text-warning"),style:{fontFeatureSettings:'"tnum"'},children:[bn(r,p)," g"]}),i.jsx(U,{onClick:b,size:"xxl",variant:"glow",disabled:r>5,className:"w-full",children:"Hacer Zero"}),r>5&&i.jsx("p",{className:"text-sm text-warning",children:" Retira todos los objetos primero"})]})}),n===2&&i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"rounded-full bg-secondary/20 p-6",children:i.jsx(Xw,{className:"h-16 w-16 text-secondary"})})}),i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Paso 2: Peso Conocido"}),i.jsx("p",{className:"text-muted-foreground",children:"Coloca un peso conocido en la bscula"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Fe,{className:"text-lg",children:"Peso conocido (gramos)"}),i.jsx(nt,{type:"number",value:a,onChange:g=>o(g.target.value),className:"text-2xl h-16 text-center",placeholder:"100"}),i.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Usa una moneda de 2 (8.5g) o una pesa de cocina"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Lectura actual:"}),i.jsxs("div",{className:"text-5xl font-bold text-primary",style:{fontFeatureSettings:'"tnum"'},children:[bn(r,p)," g"]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(U,{onClick:()=>s(1),size:"lg",variant:"outline",children:"Atrs"}),i.jsx(U,{onClick:y,size:"lg",variant:"glow",disabled:parseFloat(a)<=0||r<=0,children:"Medir"})]})]})}),n===3&&i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-success/20 p-6",children:i.jsx(pl,{className:"h-16 w-16 text-success"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Calibracin Lista!"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifica los resultados antes de guardar"})]}),i.jsxs("div",{className:"space-y-4 bg-muted p-4 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Peso conocido:"}),i.jsxs("p",{className:"text-2xl font-bold",children:[a," g"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor medido:"}),i.jsxs("p",{className:"text-2xl font-bold",style:{fontFeatureSettings:'"tnum"'},children:[bn(l,p)," g"]})]}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Factor de calibracin:"}),i.jsx("p",{className:"text-3xl font-bold text-primary",children:d.toFixed(4)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(U,{onClick:()=>s(2),size:"lg",variant:"outline",children:"Repetir"}),i.jsxs(U,{onClick:w,size:"lg",variant:"success",children:[i.jsx(pl,{className:"mr-2"}),"Guardar"]})]})]})})]})})},V5=({open:e,onClose:t,currentWeight:r=0,isCalibrationV2:n=!1})=>n?i.jsx(L5,{open:e,onClose:t,currentWeight:r}):i.jsx(z5,{open:e,onClose:t,currentWeight:r}),PS=400,$5="0.0.1".trim()?"0.0.1".trim():"0.0.0",Uy=(e,t=PS)=>{if(!e)return"";const r=e.replace(/\r\n/g,`
`),n=r.split(`
`);return n.length<=t?r.trimEnd():n.slice(-t).join(`
`).trimEnd()},U5=()=>{const{toast:e}=en(),{weight:t}=ud(),r=cd(),[n,s]=u.useState(!1),[a,o]=u.useState(()=>Tu()),[l,c]=u.useState(!0),[d,m]=u.useState(void 0),f=u.useRef(void 0),[p,h]=u.useState(!1),[b,y]=u.useState(null),[w,v]=u.useState(!1),g=u.useRef(!1),[x,N]=u.useState([]),[S,j]=u.useState(!1),[C,T]=u.useState(null),[O,V]=u.useState(!1),[z,D]=u.useState(!1),[F,I]=u.useState(!1),[Y,X]=u.useState(!1),[ee,P]=u.useState(!0),[E,W]=u.useState(!1),[A,ae]=u.useState(1),[Q,xe]=u.useState(!1),[Ne,Xe]=u.useState({title:"",type:"text",field:""}),[ie,ve]=u.useState("420.5"),[$,q]=u.useState("1"),[se,L]=u.useState("http://127.0.0.1:8080"),[K,re]=u.useState("ws://127.0.0.1:8080"),[ne,We]=u.useState(""),[At,dt]=u.useState(""),[St,k]=u.useState(""),[R,B]=u.useState("30"),[ge,fe]=u.useState("10"),[G,oe]=u.useState("100"),[Le,$e]=u.useState("70"),[wt,Ut]=u.useState("180"),[bt,nn]=u.useState(null),[ft,mt]=u.useState({status:"loading"}),[_r,Xt]=u.useState(!1),[Pt,xr]=u.useState(""),[Bt,Pr]=u.useState(!1),[En,wr]=u.useState(!1),[dr,Ns]=u.useState(!1),[De,Qe]=u.useState(!1),[Z,me]=u.useState(!1),[we,ke]=u.useState(!1),[Oe,Je]=u.useState(null),[Ge,Ve]=u.useState(!1),[He,Tr]=u.useState(null),[Ar,H]=u.useState(!1),[M,_e]=u.useState(null),[Re,Me]=u.useState(""),[Ye,Lt]=u.useState(!1),[kt,jt]=u.useState(!1),[Zn,sn]=u.useState(!1),[Ss,Lh]=u.useState(""),ks=u.useRef(null),Ml=u.useRef(null),Dl=u.useRef(null),yd=u.useRef(null),zh=u.useRef(null),[io,Vh]=u.useState(""),[IS,$h]=u.useState(""),[Rt,OS]=u.useState(r),[xd,Fl]=u.useState(!1),[MS,Ll]=u.useState(!1),[wd,zl]=u.useState(""),[bd,Vl]=u.useState(""),[Yn,an]=u.useState(null),[Uh,oo]=u.useState(!1),[$l,Ul]=u.useState(null),[DS,Bl]=u.useState("idle"),[lo,FS]=u.useState(""),[Rr,js]=u.useState(r),[Bh,Wh]=u.useState(!1),[Hh,Ir]=u.useState(null),Ka=u.useCallback(_=>{try{return new URL(_,se).toString()}catch(te){return console.error("Invalid API URL",te),_}},[se]),co=u.useCallback(_=>{if(r)return{allowed:!0};const te=lo.trim();if(!te){const le=`Ingresa el PIN mostrado en la bscula para ${_}.`;return Ir(le),e({title:"PIN requerido",description:le,variant:"destructive"}),{allowed:!1}}if(!Rr){const le=`Verifica el PIN antes de ${_}.`;return Ir(le),e({title:"PIN no verificado",description:le,variant:"destructive"}),{allowed:!1}}return{allowed:!0,pin:te}},[r,Rr,lo,e]),Nd=_=>{if(!_)return"";const te=_.trim();return!te||te.toLowerCase()==="unknown"?"":te.startsWith("v")?te:`v${te}`},uo=u.useCallback(async({silent:_=!1}={})=>{const te=a.debugLogs,le=(...pe)=>{te&&console.debug("[SettingsView][MINI-EB]",...pe)};_||mt({status:"loading"});const ye=async()=>{if(!a.miniEbStable){const ze=await fetch("/api/miniweb/status",{cache:"no-store"});if(!ze.ok)throw new Error(`HTTP ${ze.status}`);return await ze.json()}const pe=[0,1e3,2e3,4e3];let Ce;for(let ze=0;ze<pe.length;ze++){const ht=pe[ze];ht>0&&(le(`Esperando ${ht}ms antes del intento ${ze+1}`),await new Promise(yt=>{window.setTimeout(yt,ht)}));try{le(`Intento MINI-EB ${ze+1}`);const yt=new AbortController,Ga=window.setTimeout(()=>yt.abort(),5e3);try{const va=await fetch("/api/miniweb/status",{cache:"no-store",signal:yt.signal});if(va.ok){const It=await va.json();return le("Respuesta MINI-EB OK",It),It}const mo=await va.text().catch(()=>"");Ce=new Error(`HTTP ${va.status}: ${mo}`),le("Respuesta MINI-EB no OK",va.status,mo)}finally{window.clearTimeout(Ga)}}catch(yt){Ce=yt,yt instanceof DOMException&&yt.name==="AbortError"?le("Intento MINI-EB expirado (timeout)"):le("Error al consultar MINI-EB",yt)}}throw Ce??new Error("No se pudo obtener el estado MINI-EB")};try{le("Consultando estado MINI-EB",{silent:_});const pe=await ye(),Ce=typeof(pe==null?void 0:pe.connectivity)=="string"?pe.connectivity.toLowerCase():void 0,ze=!!(pe!=null&&pe.ap_active);Xt(ze||(Ce?Ce!=="full":!1));const ht=typeof(pe==null?void 0:pe.ip)=="string"&&pe.ip.trim().length>0?pe.ip.trim():typeof(pe==null?void 0:pe.ip_address)=="string"&&pe.ip_address.trim().length>0?pe.ip_address.trim():null,yt=typeof(pe==null?void 0:pe.ssid)=="string"&&pe.ssid.trim().length>0?pe.ssid.trim():"";if(!ht)throw new Error("Respuesta MINI-EB sin IP");nn(ht),Vh(yt),$h(ht),mt({status:"ready",ip:ht,ssid:yt}),g.current=!1,le("MINI-EB listo",{ip:ht,ssid:yt})}catch(pe){nn(null),Vh(""),$h(""),Xt(!1),mt({status:"error",error:"No se pudo obtener el acceso MINI-EB. Intntalo de nuevo."}),a.miniEbStable&&!g.current&&(e({title:"Error MINI-EB",description:"No se pudo obtener el acceso MINI-EB.",variant:"destructive"}),g.current=!0),le("Fallo al consultar MINI-EB",pe)}},[a.debugLogs,a.miniEbStable,e]),Sd=u.useCallback(async(_=!1)=>{try{const te=await et.getWakeStatus();y(te),h(te.enabled),Te.getSettings().wakeWordEnabled!==te.enabled&&Te.saveSettings({wakeWordEnabled:te.enabled})}catch(te){ue.error("Error fetching wake status",te),_||e({title:"No se pudo consultar 'Hey Basculin'",description:"Verifica la conexin con el backend.",variant:"destructive"})}},[e]);u.useEffect(()=>{var le,ye;const _=Te.getSettings();c(_.isVoiceActive),m(_.voiceId),f.current=_.voiceId,h(_.wakeWordEnabled??!1),I(_.diabetesMode),ve(_.calibrationFactor.toString()),q(((ye=(le=_.scale)==null?void 0:le.decimals)==null?void 0:ye.toString())??"1"),L(_.apiUrl),re(_.wsUrl),We(_.chatGptKey),dt(_.nightscoutUrl),k(_.nightscoutToken),B(_.correctionFactor.toString()),fe(_.carbRatio.toString()),oe(_.targetGlucose.toString()),$e(_.hypoAlarm.toString()),Ut(_.hyperAlarm.toString()),P(_.timerAlarmSoundEnabled),W(_.timerVoiceAnnouncementsEnabled),ae(_.uiVolume??1),o(Tu()),uo(),Sd(!0);const te=setInterval(()=>{uo({silent:!0})},1e4);return()=>clearInterval(te)},[uo,Sd]),u.useEffect(()=>{let _=!1;return(async()=>{var le;try{const ye=await et.fetchBackendSettings();if(_)return;const pe=!!((le=ye.openai)!=null&&le.hasKey);if(ke(pe),ye.nightscout){const Ce=typeof ye.nightscout.url=="string"?ye.nightscout.url.trim():"";Je(Ce||null),Ve(!!ye.nightscout.hasToken),Ce&&(dt(Ce),Te.saveSettings({nightscoutUrl:Ce}))}else Je(null),Ve(!1)}catch(ye){ue.debug("No se pudo cargar ajustes agregados del backend",{error:ye})}})(),()=>{_=!0}},[]),u.useEffect(()=>{if(xd){an(null),oo(!1),Vl(""),zl(_=>_||(io&&io!==""?io:""));return}Vl(""),an(null),oo(!1),zl("")},[xd,io]),u.useEffect(()=>{if(!r){Ul(null),Bl("idle"),js(!1),Ir("Ingresa el PIN mostrado en la pantalla de la bscula para realizar cambios remotos.");return}let _=!1;return Bl("loading"),js(!0),Ir(null),(async()=>{try{const le=await fetch("/api/miniweb/pin",{cache:"no-store"});if(!le.ok)throw new Error(`HTTP ${le.status}`);const ye=await le.json();if(_)return;typeof(ye==null?void 0:ye.pin)=="string"&&ye.pin.trim().length>0?(Ul(ye.pin.trim()),Ir("Este PIN tambin aparece en la pantalla principal de la bscula.")):(Ul(null),Ir("No se pudo obtener el PIN automticamente. Revisa la pantalla de la bscula.")),Bl("idle")}catch(le){if(_)return;ue.debug("No se pudo obtener el PIN de la mini-web",{error:le}),Ul(null),Bl("error"),Ir("No se pudo obtener el PIN automticamente. Verifica la conexin de la bscula.")}})(),()=>{_=!0}},[r]),u.useEffect(()=>{if(typeof window>"u")return;const _=()=>s(!0);return window.addEventListener("open-calibration-wizard",_),()=>{window.removeEventListener("open-calibration-wizard",_)}},[]);const LS=()=>{Fl(!0)},zS=async()=>{const _=wd.trim();if(!_){an({type:"error",message:"Ingresa el nombre de la red Wi-Fi."});return}const{allowed:te,pin:le}=co("cambiar la red Wi-Fi");if(!te){oo(!1),an({type:"error",message:"Verifica el PIN de seguridad antes de modificar la red Wi-Fi."});return}const ye=bd.trim(),pe=ye.length===0,Ce={ssid:_,secured:!pe,open:pe};pe||(Ce.password=ye),le&&(Ce.pin=le),oo(!0),an({type:"info",message:"Enviando datos a la bscula"});try{const ze=new AbortController,ht=window.setTimeout(()=>ze.abort(),15e3),yt=await fetch("/api/miniweb/connect-wifi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce),signal:ze.signal}).finally(()=>{window.clearTimeout(ht)});if(!yt.ok){const It=await yt.json().catch(()=>null),Hr=typeof(It==null?void 0:It.detail)=="string"?It.detail:typeof(It==null?void 0:It.detail)=="object"&&It.detail!==null?(()=>{const Qh=It.detail.message;return typeof Qh=="string"?Qh:void 0})():void 0,sk=(typeof(It==null?void 0:It.message)=="string"?It.message:void 0)||Hr||"No se pudo iniciar la conexin.";an({type:"error",message:sk});return}an({type:"info",message:"Conectando verificando el estado de la red."});const Ga=Date.now(),va=3e4,mo=It=>new Promise(Hr=>{window.setTimeout(Hr,It)});for(;Date.now()-Ga<va;){try{const It=await fetch("/api/miniweb/status",{cache:"no-store"});if(!It.ok){await mo(2e3);continue}const Hr=await It.json();if((Hr==null?void 0:Hr.ap_active)===!1&&typeof(Hr==null?void 0:Hr.connectivity)=="string"&&Hr.connectivity.toLowerCase()==="full"){await uo(),an({type:"success",message:`Conectado a ${Hr.ssid||_}.`});return}}catch(It){console.error("Failed to fetch status during Wi-Fi connect",It)}await mo(2e3)}an({type:"info",message:"Conectando Si pierdes esta pgina es normal: cambia tu Wi-Fi al punto de acceso/red seleccionada y vuelve a abrir la app."})}catch(ze){ze instanceof DOMException&&ze.name==="AbortError"?an({type:"info",message:"Conectando Si pierdes esta pgina es normal: cambia tu Wi-Fi al punto de acceso/red seleccionada y vuelve a abrir la app."}):(console.error("Failed to connect Wi-Fi",ze),an({type:"error",message:"Error al conectar. Intntalo de nuevo."}))}finally{oo(!1)}},VS=()=>{Ll(!0)},$S=(_,te,le)=>{const ye=l5(_,te);o(ye),e({title:te?"Funcin activada":"Funcin desactivada",description:le})},qh=u.useCallback(async()=>{if(a.voiceSelector){j(!0),T(null);try{const _=await fetch(Ka("/api/voice/tts/voices"));if(!_.ok)throw new Error(`HTTP ${_.status}`);const te=await _.json(),le=Array.isArray(te.piper_models)?te.piper_models:[];let ye=[];le.length>0?ye=le.map(Ce=>{if(!Ce)return null;const ze=typeof Ce.id=="string"?Ce.id:typeof Ce.path=="string"?Ce.path:void 0;if(!ze)return null;const ht=typeof Ce.name=="string"&&Ce.name.trim().length>0?Ce.name:ze,yt=typeof Ce.path=="string"?Ce.path:void 0;return{id:ze,label:ht,backend:"piper",description:yt&&yt!==ht?yt:void 0}}).filter(Ce=>Ce!==null):te.espeak_available&&(ye=[{id:"espeak",label:"eSpeak NG",backend:"espeak",description:"Motor eSpeak NG"}]);const pe=f.current;if(pe&&!ye.some(Ce=>Ce.id===pe)&&(ye=[{id:pe,label:pe,backend:"custom",description:"Configuracin personalizada"},...ye]),N(ye),!pe&&ye.length>0){const Ce=ye[0];m(Ce.id),f.current=Ce.id,Te.saveSettings({voiceId:Ce.id})}ye.length===0&&T("No hay voces disponibles en el servidor")}catch(_){console.error("Failed to load voices",_),T("No se pudieron cargar las voces disponibles"),N([])}finally{j(!1)}}},[Ka,a.voiceSelector]);u.useEffect(()=>{Te.saveSettings({isVoiceActive:l})},[l]),u.useEffect(()=>{Te.saveSettings({timerAlarmSoundEnabled:ee})},[ee]),u.useEffect(()=>{Te.saveSettings({timerVoiceAnnouncementsEnabled:E})},[E]),u.useEffect(()=>{Te.saveSettings({uiVolume:A})},[A]),u.useEffect(()=>{f.current=d},[d]),u.useEffect(()=>{Te.saveSettings({diabetesMode:F})},[F]),u.useEffect(()=>{a.voiceSelector&&qh()},[a.voiceSelector,qh]);const Wr=(_,te,le,ye=!1,pe,Ce,ze=!1,ht)=>{Xe({title:_,type:te,field:le,showDecimal:ye,min:pe,max:Ce,allowEmpty:ze,maxLength:ht});const yt=US(le);xr(yt),xe(!0)},US=_=>({calibrationFactor:ie,decimals:$,apiUrl:se,wsUrl:K,chatGptKey:ne,nightscoutUrl:At,nightscoutToken:St,correctionFactor:R,carbRatio:ge,targetGlucose:G,hypoAlarm:Le,hyperAlarm:wt,networkModalSSID:wd,networkModalPassword:bd,otaTargetOverride:Ss})[_]||"",BS=()=>{const te={calibrationFactor:ve,decimals:le=>q(bf(le).toString()),chatGptKey:We,nightscoutUrl:dt,nightscoutToken:k,correctionFactor:B,carbRatio:fe,targetGlucose:oe,hypoAlarm:$e,hyperAlarm:Ut,apiUrl:L,wsUrl:re,networkModalSSID:zl,networkModalPassword:Vl,otaTargetOverride:Lh}[Ne.field];if(te){te(Pt);const le=Ne.field;if(le==="otaTargetOverride"){e({title:"Objetivo actualizado",description:"Se usar en la prxima actualizacin OTA"});return}le==="calibrationFactor"?Te.saveSettings({calibrationFactor:parseFloat(Pt)||1}):le==="decimals"?Te.saveSettings({scale:{decimals:bf(Pt)}}):le==="chatGptKey"?Te.saveSettings({chatGptKey:Pt}):le==="nightscoutUrl"?Te.saveSettings({nightscoutUrl:Pt}):le==="nightscoutToken"?Te.saveSettings({nightscoutToken:Pt}):le==="correctionFactor"?Te.saveSettings({correctionFactor:parseFloat(Pt)||50}):le==="carbRatio"?Te.saveSettings({carbRatio:parseFloat(Pt)||10}):le==="targetGlucose"?Te.saveSettings({targetGlucose:parseFloat(Pt)||100}):le==="hypoAlarm"?Te.saveSettings({hypoAlarm:parseFloat(Pt)||70}):le==="hyperAlarm"?Te.saveSettings({hyperAlarm:parseFloat(Pt)||180}):le==="apiUrl"?(Te.saveSettings({apiUrl:Pt}),a1(Pt)):le==="wsUrl"&&Te.saveSettings({wsUrl:Pt}),navigator.vibrate&&navigator.vibrate(30),e({title:"Guardado",description:"Configuracin actualizada correctamente"})}},kd=async _=>{const te=()=>{e({title:"No hay permisos de portapapeles",description:"Concede acceso al portapapeles desde el navegador.",variant:"destructive"})},le=async()=>{try{return!navigator.clipboard||!navigator.clipboard.readText?null:await navigator.clipboard.readText()}catch(ze){return ue.debug("No se pudo leer desde navigator.clipboard",{error:ze}),null}},ye=()=>{if(typeof document>"u")return null;const ze=document.createElement("textarea");ze.setAttribute("aria-hidden","true"),ze.style.position="fixed",ze.style.opacity="0",ze.style.pointerEvents="none",document.body.appendChild(ze);let ht=null;try{ze.focus(),document.execCommand("paste")&&(ht=ze.value)}catch(yt){ue.debug("document.execCommand('paste') no disponible",{error:yt})}finally{ze.remove()}return ht},pe=await le();if(pe!==null){_(pe);return}const Ce=ye();if(Ce!==null){_(Ce);return}te()},WS=async()=>{if($l)try{if(!navigator.clipboard||!navigator.clipboard.writeText)throw new Error("clipboard_unavailable");await navigator.clipboard.writeText($l),e({title:"PIN copiado",description:"El PIN se copi al portapapeles."})}catch{e({title:"No se pudo copiar",description:"Autoriza el acceso al portapapeles para copiar el PIN.",variant:"destructive"})}},HS=async()=>{if(r){js(!0),Ir(null);return}const _=lo.trim();if(!/^[0-9]{4}$/.test(_)){const te="Ingresa los 4 dgitos del PIN de la bscula.";Ir(te),e({title:"PIN invlido",description:te,variant:"destructive"});return}Wh(!0);try{const te=await fetch("/api/miniweb/verify-pin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:_})});if(te.ok){js(!0),Ir("PIN verificado correctamente."),e({title:"PIN verificado",description:"Ahora puedes realizar cambios remotos."});return}if(te.status===429){const le="Demasiados intentos fallidos. Espera un momento antes de reintentar.";Ir(le),e({title:"PIN bloqueado temporalmente",description:le,variant:"destructive"}),js(!1);return}Ir("PIN incorrecto. Verifica el cdigo mostrado en la bscula."),js(!1),e({title:"PIN incorrecto",description:"Verifica el cdigo mostrado en la bscula.",variant:"destructive"})}catch(te){ue.error("No se pudo verificar el PIN de la mini-web",{error:te}),Ir("No se pudo verificar el PIN. Revisa la conexin."),e({title:"Error de conexin",description:"No se pudo verificar el PIN.",variant:"destructive"}),js(!1)}finally{Wh(!1)}},qS=async()=>{Pr(!0);try{await et.speak("Hola, este es un test del sistema de audio"),e({title:"Test de Audio",description:"Audio funcionando correctamente"})}catch{e({title:"Error",description:"No se pudo reproducir el audio",variant:"destructive"})}finally{Pr(!1)}},KS=async _=>{const te=p;h(_),v(!0);try{_?await et.enableWake():await et.disableWake(),Te.saveSettings({wakeWordEnabled:_}),await Sd(!0)}catch(le){ue.error("Failed to toggle wake word",le),h(te),e({title:"No se pudo actualizar 'Hey Basculin'",description:"Intntalo de nuevo en unos segundos.",variant:"destructive"})}finally{v(!1)}},GS=async()=>{if(l){V(!0);try{const _=new URLSearchParams({text:"Esta es una prueba"}),te=f.current;te&&_.set("voice",te);const le=await fetch(Ka(`/api/voice/tts/say?${_.toString()}`),{method:"POST"});if(!le.ok)throw new Error(`HTTP ${le.status}`);e({title:"Prueba de voz",description:"Se envi la prueba al dispositivo"})}catch(_){console.error("Device voice test failed",_),e({title:"Error",description:"No se pudo reproducir la voz en el dispositivo",variant:"destructive"})}finally{V(!1)}}},QS=async()=>{if(l){D(!0);try{const _=new URLSearchParams({text:"Esta es una prueba"}),te=f.current;te&&_.set("voice",te);const le=await fetch(Ka(`/api/voice/tts/synthesize?${_.toString()}`),{method:"POST"});if(!le.ok)throw new Error(`HTTP ${le.status}`);const ye=await le.blob(),pe=URL.createObjectURL(ye),Ce=new Audio(pe),ze=()=>{URL.revokeObjectURL(pe),Ce.onended=null,Ce.onerror=null};Ce.onended=ze,Ce.onerror=ze;try{await Ce.play()}catch(ht){throw ze(),ht}e({title:"Prueba en navegador",description:"Reproduciendo voz sintetizada"})}catch(_){console.error("Browser voice test failed",_),e({title:"Error",description:"No se pudo reproducir la voz en el navegador",variant:"destructive"})}finally{D(!1)}}},ZS=()=>{if(!l||typeof window>"u")return;const _=window;try{if(typeof _.playSound=="function"){_.playSound("beep");return}const te=window.AudioContext??_.webkitAudioContext;if(!te){console.warn("AudioContext no disponible");return}const le=new te;le.state==="suspended"&&le.resume().catch(()=>{});const ye=le.createOscillator(),pe=le.createGain();ye.type="sine",ye.frequency.setValueAtTime(880,le.currentTime),pe.gain.setValueAtTime(1e-4,le.currentTime),ye.connect(pe),pe.connect(le.destination),ye.start(),pe.gain.exponentialRampToValueAtTime(.2,le.currentTime+.05),pe.gain.exponentialRampToValueAtTime(1e-4,le.currentTime+.4),ye.stop(le.currentTime+.5),ye.onended=()=>{le.close().catch(()=>{})}}catch(te){console.error("No se pudo reproducir el beep",te)}},YS=async()=>{const _=ne.trim(),{allowed:te,pin:le}=co("probar la conexin con OpenAI");if(te){wr(!0);try{const ye=await et.testOpenAI(_||void 0,le);if(ye.ok)e({title:"OpenAI listo",description:"Conexin con OpenAI verificada"});else{const pe=[];if(ye.reason&&pe.push(`Razn: ${ye.reason}`),ye.details)try{pe.push(typeof ye.details=="string"?ye.details:JSON.stringify(ye.details))}catch(Ce){ue.debug("No se pudo serializar detalles de OpenAI",{error:Ce,details:ye.details})}e({title:"OpenAI no disponible",description:pe.join("  ")||"El backend no pudo validar la API key.",variant:"destructive"})}}catch(ye){let pe="No se pudo conectar con OpenAI. Verifica tu API key.";ye instanceof Mt&&ye.message&&(pe=ye.message),e({title:"Error",description:pe,variant:"destructive"})}finally{wr(!1)}}},XS=async()=>{const _=At.trim(),te=St.trim(),{allowed:le,pin:ye}=co("probar la conexin con Nightscout");if(le){Ns(!0);try{const pe=await et.testNightscout(_||void 0,te||void 0,ye);if(pe.ok)e({title:"Nightscout listo",description:"Conexin con Nightscout verificada"});else{const Ce=[];if(pe.message&&Ce.push(pe.message),pe.reason&&Ce.push(`Razn: ${pe.reason}`),pe.details)try{Ce.push(typeof pe.details=="string"?pe.details:JSON.stringify(pe.details))}catch(ze){ue.debug("No se pudieron serializar detalles de Nightscout",{error:ze,details:pe.details})}e({title:"Nightscout no respondi",description:Ce.join("  ")||"Verifica la URL y el token.",variant:"destructive"})}}catch(pe){let Ce="No se pudo conectar con Nightscout. Verifica la URL y token.";pe instanceof Mt&&pe.message&&(Ce=pe.message),e({title:"Error",description:Ce,variant:"destructive"})}finally{Ns(!1)}}},JS=async()=>{var ye;const _=ne.trim(),{allowed:te,pin:le}=co("guardar la clave de OpenAI");if(te){me(!0);try{const pe={openai:{apiKey:_||null}};le&&(pe.pin=le);const ze=!!((ye=(await et.updateBackendSettings(pe)).openai)!=null&&ye.hasKey||_);ke(ze),We(_),Te.saveSettings({chatGptKey:_}),e({title:"OpenAI guardado",description:"La clave se sincroniz con el backend."})}catch(pe){let Ce="No se pudo guardar la clave de OpenAI.";pe instanceof Mt&&pe.message&&(Ce=pe.message),e({title:"Error",description:Ce,variant:"destructive"})}finally{me(!1)}}},ek=async()=>{var pe,Ce;const _=At.trim(),te=St.trim(),{allowed:le,pin:ye}=co("guardar la configuracin de Nightscout");if(le){Qe(!0);try{const ze={nightscout:{url:_||null,token:te||null}};ye&&(ze.pin=ye);const ht=await et.updateBackendSettings(ze),yt=typeof((pe=ht.nightscout)==null?void 0:pe.url)=="string"&&ht.nightscout.url.trim()?ht.nightscout.url.trim():_;Je(yt||null);const Ga=!!((Ce=ht.nightscout)!=null&&Ce.hasToken||te);Ve(Ga),dt(_),k(te),Te.saveSettings({nightscoutUrl:_,nightscoutToken:te}),e({title:"Nightscout guardado",description:"Los cambios se sincronizaron con el backend."})}catch(ze){let ht="No se pudo guardar la configuracin de Nightscout.";ze instanceof Mt&&ze.message&&(ht=ze.message),e({title:"Error",description:ht,variant:"destructive"})}finally{Qe(!1)}}},tk=async()=>{H(!0);try{const _=await et.getOtaStatus();Tr(_),_.hasUpdate?e({title:"Actualizacin disponible",description:`Versin ${_.latest} lista para instalar`}):e({title:"Sistema actualizado",description:`La versin actual es ${_.current}`})}catch{e({title:"Error",description:"No se pudo verificar actualizaciones",variant:"destructive"})}finally{H(!1)}},ga=u.useCallback(async()=>{if(a.otaApply)try{const _=await et.getOtaJobStatus();ue.debug("OTA status actualizado",{status:_}),_e(_)}catch(_){_ instanceof Mt?ue.warn("No se pudo obtener estado OTA",{status:_.status,message:_.message}):console.warn("No se pudo obtener estado OTA",_)}},[a.otaApply]),Xn=u.useCallback(async(_=PS)=>{if(a.otaApply)try{const te=await et.getOtaLogs(_);ue.debug("OTA logs actualizados",{lines:_}),Me(Uy(te,_))}catch(te){te instanceof Mt?ue.warn("No se pudieron obtener logs OTA",{status:te.status,message:te.message}):console.warn("No se pudieron obtener logs OTA",te)}},[a.otaApply]),_n=u.useCallback(()=>{ks.current&&(ks.current.close(),ks.current=null)},[]),Pn=u.useCallback(()=>{Ml.current&&(window.clearInterval(Ml.current),Ml.current=null),Dl.current&&(window.clearTimeout(Dl.current),Dl.current=null)},[]),fo=u.useCallback((_,te)=>{_n(),Pn(),ga(),Xn(),Ml.current=window.setInterval(()=>{ga(),Xn()},_),te&&(Dl.current=window.setTimeout(()=>{Pn()},te))},[Xn,ga,_n,Pn]),Wl=u.useCallback(()=>{Pn();try{const _=Ka("/api/ota/events"),te=new EventSource(_);return ks.current=te,te.onopen=()=>{ue.debug("SSE OTA conectado"),Xn()},te.addEventListener("state",le=>{try{const ye=JSON.parse(le.data);ue.debug("Estado OTA (SSE)",{status:ye.status,progress:ye.progress}),_e(ye)}catch(ye){ue.warn("No se pudo parsear estado OTA SSE",{error:ye})}}),te.addEventListener("log",le=>{try{const ye=JSON.parse(le.data);ye.line&&Me(pe=>{const Ce=pe?`${pe}
${ye.line}`:ye.line;return Uy(Ce)})}catch(ye){ue.warn("No se pudo parsear log OTA SSE",{error:ye})}}),te.onerror=()=>{ue.warn("SSE OTA con error, cambiando a polling"),_n(),fo(1e3,6e4)},!0}catch(_){return ue.warn("No se pudo iniciar SSE OTA",{error:_}),_n(),fo(1e3,6e4),!1}},[Ka,Xn,fo,_n,Pn]),rk=u.useCallback(async()=>{if(!a.otaApply)return;const _=Ss.trim();sn(!0),Lt(!0);try{ue.debug("Solicitando OTA apply",{target:_||"latest"}),await et.applyOtaUpdate(_||void 0),e({title:"Actualizacin iniciada",description:"El proceso contina en segundo plano"}),await ga(),await Xn(),ks.current||Wl()}catch(te){te instanceof Mt&&te.status===409?e({title:"Actualizacin en curso",description:"Ya hay una actualizacin en curso",variant:"destructive"}):e({title:"Error",description:"No se pudo iniciar la actualizacin",variant:"destructive"}),ue.error("Fallo al solicitar OTA",{error:te})}finally{sn(!1)}},[et,ks,a.otaApply,Ss,Xn,ga,Wl,e]);u.useEffect(()=>{a.otaApply&&((M==null?void 0:M.status)==="running"?Lt(!0):M&&sn(!1),M&&(yd.current!==M.status&&(M.status==="success"?e({title:"Actualizacin aplicada",description:"Puedes volver al inicio cuando quieras"}):M.status==="error"&&e({title:"Actualizacin fallida",description:M.message||"Revisa los registros para ms detalles",variant:"destructive"})),yd.current=M.status))},[a.otaApply,M,e]),u.useEffect(()=>{if(!a.otaApply){_n(),Pn();return}Ye||(M==null?void 0:M.status)==="running"?ks.current||Wl()||fo(1e3,6e4):(_n(),Pn())},[ks,a.otaApply,M==null?void 0:M.status,Ye,Wl,fo,_n,Pn]),u.useEffect(()=>{if(!a.otaApply){_e(null),Me(""),Lt(!1),jt(!1),yd.current=null;return}ga()},[a.otaApply,ga]),u.useEffect(()=>{a.otaApply&&(Ye||(M==null?void 0:M.status)==="running")&&Xn()},[a.otaApply,M==null?void 0:M.status,Ye,Xn]),u.useEffect(()=>{if(!Ye)return;const _=zh.current;_&&(_.scrollTop=_.scrollHeight)},[Re,Ye]),u.useEffect(()=>()=>{_n(),Pn()},[_n,Pn]);const nk=b?p?b.running?"Escuchando":"En espera":"Desactivado":"Consultando",Kh=b!=null&&b.last_wake_ts?new Date(b.last_wake_ts).toLocaleTimeString():null,Gh=b!=null&&b.errors&&b.errors.length>0?b.errors[b.errors.length-1]:null;return i.jsxs("div",{className:"h-full overflow-y-auto p-4",children:[i.jsxs(jN,{defaultValue:"general",className:"w-full",children:[i.jsxs(Ph,{className:"mb-4 grid w-full grid-cols-5 h-16",children:[i.jsxs(Ds,{value:"general",className:"flex flex-col gap-1 text-xs",children:[i.jsx(Yu,{className:"h-5 w-5"}),"General"]}),i.jsxs(Ds,{value:"scale",className:"flex flex-col gap-1 text-xs",children:[i.jsx(oa,{className:"h-5 w-5"}),"Bscula"]}),i.jsxs(Ds,{value:"network",className:"flex flex-col gap-1 text-xs",children:[i.jsx(ka,{className:"h-5 w-5"}),"Red"]}),i.jsxs(Ds,{value:"diabetes",className:"flex flex-col gap-1 text-xs",children:[i.jsx(D2,{className:"h-5 w-5"}),"Diabetes"]}),i.jsxs(Ds,{value:"updates",className:"flex flex-col gap-1 text-xs",children:[i.jsx(Ic,{className:"h-5 w-5"}),"OTA"]})]}),i.jsxs(Fs,{value:"general",className:"space-y-4",children:[i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuracin General"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Modo Voz"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Activar narracin de texto y respuestas por voz"})]}),i.jsx(In,{checked:l,onCheckedChange:c,className:"scale-150"})]}),a.voiceSelector?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Seleccionar Voz"}),i.jsxs("select",{className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-lg",value:d??"",onChange:_=>{const te=_.target.value||void 0;m(te),f.current=te,Te.saveSettings({voiceId:te})},disabled:S||!l||x.length===0,children:[i.jsx("option",{value:"",disabled:!0,children:S?"Cargando voces...":"Selecciona una voz"}),x.map(_=>i.jsxs("option",{value:_.id,children:[_.label,_.description?`  ${_.description}`:""]},_.id))]}),C?i.jsx("p",{className:"text-sm text-destructive",children:C}):S?i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buscando voces disponibles"}):null]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[i.jsxs(U,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:GS,disabled:O||!l||S,children:[i.jsx(U2,{className:"mr-2 h-5 w-5"}),O?"Enviando...":"Probar en dispositivo"]}),i.jsxs(U,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:QS,disabled:z||!l||S,children:[i.jsx(xm,{className:"mr-2 h-5 w-5"}),z?"Sintetizando...":"Probar en navegador"]}),i.jsxs(U,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:ZS,disabled:!l,children:[i.jsx(I2,{className:"mr-2 h-5 w-5"}),"Beep"]})]})]}):i.jsxs(U,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:qS,disabled:Bt||!l,children:[i.jsx(Yw,{className:"mr-2 h-5 w-5"}),Bt?"Probando...":"Probar Audio"]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-border/60 bg-muted/20 p-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Activar 'Hey Basculin'"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Escucha continua sin conexin para activar comandos de voz automticamente."})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",nk,Kh?`  ltimo: ${Kh}`:"",b!=null&&b.backend?`  Fuente: ${b.backend}`:""]}),Gh?i.jsxs("p",{className:"text-xs text-destructive",children:["Error reciente: ",Gh]}):null]}),i.jsx(In,{checked:p,onCheckedChange:_=>{KS(_)},disabled:w,className:"scale-150 self-start md:self-center"})]}),a.timerAlarms?i.jsxs("div",{className:"space-y-6 border-t border-border pt-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Alarmas sonoras"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproduce beeps cuando el temporizador finaliza."})]}),i.jsx(In,{checked:ee,onCheckedChange:P,className:"scale-150"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Anunciar por voz"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Enva un mensaje hablado al terminar el temporizador."})]}),i.jsx(In,{checked:E,onCheckedChange:W,className:"scale-150"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Volumen de interfaz"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajusta el volumen de los sonidos (0 = silencio, 1 = mximo)."}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Eh,{min:0,max:1,step:.05,value:[A],onValueChange:_=>{const[te]=_,le=Math.min(Math.max(te??0,0),1);ae(Number(le.toFixed(2)))},className:"max-w-[240px]"}),i.jsx(nt,{type:"number",step:"0.05",min:"0",max:"1",value:A,onChange:_=>{const te=Number(_.target.value);if(Number.isNaN(te))return;const le=Math.min(Math.max(te,0),1);ae(Number(le.toFixed(2)))},className:"w-24"})]})]})]}):null]})]}),i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"text-2xl font-bold",children:"Funciones experimentales"}),i.jsx("p",{className:"mb-6 mt-2 text-sm text-muted-foreground",children:"Activa solo las funciones que necesites probar. Todas se pueden desactivar en cualquier momento si generan problemas."}),i.jsx("div",{className:"space-y-5",children:o5.map(_=>i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:_.title}),i.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]}),i.jsx(In,{checked:a[_.key],onCheckedChange:te=>$S(_.key,te,_.title),className:"mt-1 scale-125"})]},_.key))})]})]}),i.jsx(Fs,{value:"scale",className:"space-y-4",children:i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuracin de Bscula"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Decimales"}),i.jsxs("select",{className:"w-full rounded-lg border border-input bg-background px-4 py-3 text-lg",value:$,onChange:_=>{const te=bf(_.target.value);q(te.toString()),Te.saveSettings({scale:{decimals:te}}),e({title:"Guardado",description:"Preferencia de decimales actualizada"})},children:[i.jsx("option",{value:"0",children:"Sin decimales (0)"}),i.jsx("option",{value:"1",children:"Un decimal (0.0)"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Calibracin"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Factor de calibracin actual: ",ie]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(nt,{type:"text",value:ie,readOnly:!0,onClick:()=>Wr("Factor de Calibracin","numeric","calibrationFactor",!0,.1,1e4),placeholder:"Nuevo factor",className:"flex-1 cursor-pointer text-lg"}),!a.calibrationV2&&i.jsx(U,{size:"lg",variant:"secondary",onClick:()=>s(!0),children:"Calibrar"})]})]}),i.jsxs(U,{variant:"glow",size:"lg",className:"w-full",onClick:()=>s(!0),children:[i.jsx(oa,{className:"mr-2 h-5 w-5"}),a.calibrationV2?"Asistente de calibracin":"Ejecutar Asistente de Calibracin"]})]})]})}),i.jsxs(Fs,{value:"network",className:"space-y-4",children:[i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuracin de Red"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/70 bg-muted/10 p-4",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Fe,{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(Kw,{className:"h-5 w-5 text-primary"})," PIN de seguridad"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Usa este PIN cuando cambies ajustes sensibles desde otro dispositivo."})]}),r?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"min-h-[3rem] min-w-[6rem] rounded-md border border-border bg-background px-4 py-2 text-3xl font-mono tracking-widest",children:DS==="loading"?i.jsx(qr,{className:"mx-auto h-6 w-6 animate-spin text-muted-foreground"}):i.jsx("span",{children:$l??""})}),i.jsxs(U,{type:"button",variant:"outline",size:"lg",onClick:()=>void WS(),disabled:!$l,children:[i.jsx(Ww,{className:"mr-2 h-4 w-4"})," Copiar PIN"]})]}):i.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-64",children:[i.jsx(nt,{type:"password",value:lo,onChange:_=>{const te=_.target.value.replace(/[^0-9]/g,"");FS(te),r||js(!1)},placeholder:"PIN de la bscula",inputMode:"numeric",maxLength:4,pattern:"[0-9]*",autoComplete:"one-time-code"}),i.jsx(U,{type:"button",variant:"glow",onClick:()=>void HS(),disabled:Bh||lo.trim().length!==4,children:Bh?i.jsxs(i.Fragment,{children:[i.jsx(qr,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ho,{className:"mr-2 h-4 w-4"})," Verificar PIN"]})})]})]}),Hh?i.jsx("p",{className:"text-sm text-muted-foreground",children:Hh}):null,!r&&Rr?i.jsxs("p",{className:"flex items-center gap-2 text-sm font-medium text-success",children:[i.jsx(Ho,{className:"h-4 w-4"})," PIN verificado para esta sesin."]}):null]}),i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium mb-2 block",children:"WiFi Conectado"}),i.jsxs("div",{className:"rounded-lg bg-success/10 p-4",children:[i.jsx("p",{className:"text-lg font-medium",children:io}),i.jsx("p",{className:"text-sm text-muted-foreground",children:IS})]})]}),_r&&i.jsxs("div",{className:"space-y-3 rounded-lg border border-warning/40 bg-warning/10 p-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hn,{className:"mt-1 h-5 w-5 text-warning"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-warning-foreground",children:"Modo recuperacin activo"}),i.jsx("p",{className:"text-sm text-warning-foreground/80",children:'La bscula est emitiendo la Wi-Fi "Bascula-AP". Usa la mini-web para conectarla a tu red habitual.'})]})]}),i.jsxs(U,{type:"button",variant:"glow",size:"lg",className:"w-full justify-center sm:w-auto",onClick:()=>window.open("http://192.168.4.1:8080/config","_blank","noopener,noreferrer"),children:[i.jsx(Hw,{className:"mr-2 h-5 w-5"}),"Abrir Mini-Web (http://192.168.4.1:8080/config)"]})]}),i.jsx(U,{variant:"outline",size:"lg",className:"w-full",onClick:()=>{a.networkModal?LS():VS()},disabled:!r&&!Rr,title:!r&&!Rr?"Verifica el PIN antes de cambiar la Wi-Fi":void 0,children:"Cambiar Red WiFi"}),i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium mb-2 block",children:"Acceso Mini-Web"}),i.jsx("div",{className:"rounded-lg border border-border p-4 space-y-3",children:a.miniEbStable?i.jsxs(i.Fragment,{children:[ft.status==="loading"&&i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[i.jsx(qr,{className:"h-5 w-5 animate-spin"}),i.jsx("span",{children:"Cargando acceso MINI-EB"})]}),ft.status==="error"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Hn,{className:"h-5 w-5"}),i.jsx("span",{children:ft.error??"No se pudo obtener el acceso MINI-EB."})]}),i.jsx(U,{variant:"outline",size:"sm",onClick:()=>void uo(),children:"Reintentar"})]}),ft.status==="ready"&&ft.ip&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-success",children:[i.jsx(Vn,{className:"h-5 w-5"}),i.jsx("span",{children:"Listo"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"URL:"}),i.jsx("p",{className:"text-lg font-mono break-all",children:`http://${ft.ip}:8080`})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Red conectada:"}),i.jsx("p",{className:"text-lg font-medium",children:ft.ssid??""})]}),i.jsx("div",{className:"flex justify-center rounded bg-white py-3",children:i.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=http://${ft.ip}:8080`,alt:"Cdigo QR MINI-EB",className:"h-48 w-48"})})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"URL:"}),i.jsx("p",{className:"text-lg font-mono break-all",children:bt?`http://${bt}:8080`:"Obteniendo..."})]}),bt&&i.jsx("div",{className:"flex justify-center py-3 bg-white rounded",children:i.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=http://${bt}:8080`,alt:"QR Code",className:"w-48 h-48"})})]})})]})]})]}),i.jsxs(st,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:"OpenAI API Key"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configura la clave usada por el asistente inteligente y los servicios de IA."})]}),i.jsx(U,{type:"button",variant:"glow",size:"lg",className:"w-full justify-center sm:w-auto",onClick:()=>void JS(),disabled:Z||!r&&!Rr,title:!r&&!Rr?"Verifica el PIN antes de guardar":void 0,children:Z?i.jsxs(i.Fragment,{children:[i.jsx(qr,{className:"mr-2 h-5 w-5 animate-spin"})," Guardando"]}):i.jsxs(i.Fragment,{children:[i.jsx(wm,{className:"mr-2 h-5 w-5"})," Guardar clave"]})})]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/70 bg-muted/20 p-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-lg font-medium",children:"OpenAI API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx(nt,{type:"password",value:ne,autoComplete:"off",readOnly:Rt,onClick:()=>{Rt&&Wr("OpenAI API Key","apikey","chatGptKey",!1,void 0,void 0,!0)},onChange:_=>We(_.target.value),placeholder:we?"":"sk-...",className:be("text-lg pr-12",Rt&&"cursor-pointer")}),i.jsxs(U,{type:"button",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-1 my-auto h-8 w-8",onClick:()=>void kd(We),children:[i.jsx(wi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Pegar API Key"})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Estado:"," ",we?i.jsx("span",{className:"font-medium text-success",children:"Clave almacenada en el backend"}):i.jsx("span",{className:"font-medium text-warning",children:"Sin configurar"})]})]}),i.jsx(U,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:YS,disabled:En||!ne.trim()&&!we||!r&&!Rr,title:!r&&!Rr?"Verifica el PIN antes de probar":void 0,children:En?i.jsxs(i.Fragment,{children:[i.jsx(qr,{className:"mr-2 h-5 w-5 animate-spin"})," Probando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vn,{className:"mr-2 h-5 w-5"})," Probar conexin OpenAI"]})})]})]})]}),i.jsxs(Fs,{value:"diabetes",className:"space-y-4",children:[i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Configuracin Diabetes"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Modo Diabetes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Habilitar funciones de diabetes"})]}),i.jsx(In,{checked:F,onCheckedChange:I,className:"scale-150"})]}),F&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Asistente de Bolos"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Calcular dosis de insulina"})]}),i.jsx(In,{checked:Y,onCheckedChange:X,className:"scale-150"})]}),i.jsxs("div",{className:"space-y-4",children:[Y&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Factor de Correccin"}),i.jsx(nt,{type:"text",value:R,readOnly:!0,onClick:()=>Wr("Factor de Correccin","numeric","correctionFactor",!1,1,200),placeholder:"30",className:"cursor-pointer"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Ratio Carbohidratos"}),i.jsx(nt,{type:"text",value:ge,readOnly:!0,onClick:()=>Wr("Ratio Carbohidratos","numeric","carbRatio",!1,1,100),placeholder:"10",className:"cursor-pointer"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Objetivo Glucosa (mg/dl)"}),i.jsx(nt,{type:"text",value:G,readOnly:!0,onClick:()=>Wr("Objetivo Glucosa","numeric","targetGlucose",!1,70,180),placeholder:"100",className:"cursor-pointer"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Alarma Hipoglucemia (mg/dl)"}),i.jsx(nt,{type:"text",value:Le,readOnly:!0,onClick:()=>Wr("Alarma Hipoglucemia","numeric","hypoAlarm",!1,40,90),placeholder:"70",className:"cursor-pointer"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Alarma Hiperglucemia (mg/dl)"}),i.jsx(nt,{type:"text",value:wt,readOnly:!0,onClick:()=>Wr("Alarma Hiperglucemia","numeric","hyperAlarm",!1,150,300),placeholder:"180",className:"cursor-pointer"})]})]})]})]})]}),i.jsxs(st,{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold",children:"Nightscout"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configura la URL y el token de tu instancia Nightscout."})]}),i.jsx(U,{type:"button",variant:"glow",size:"lg",className:"w-full justify-center sm:w-auto",onClick:()=>void ek(),disabled:De||!r&&!Rr,title:!r&&!Rr?"Verifica el PIN antes de guardar":void 0,children:De?i.jsxs(i.Fragment,{children:[i.jsx(qr,{className:"mr-2 h-5 w-5 animate-spin"})," Guardando"]}):i.jsxs(i.Fragment,{children:[i.jsx(wm,{className:"mr-2 h-5 w-5"})," Guardar Nightscout"]})})]}),i.jsxs("div",{className:"flex flex-col gap-3 rounded-lg border border-border/70 bg-muted/20 p-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Teclado interno"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:Rt?"Usar teclado tctil integrado para introducir datos sensibles.":"Usar teclado del sistema y pegado nativo."})]}),i.jsx(In,{checked:Rt,onCheckedChange:OS,className:"scale-125"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-lg font-medium",children:"Nightscout URL"}),i.jsxs("div",{className:"relative",children:[i.jsx(nt,{type:"url",value:At,autoComplete:"url",readOnly:Rt,onClick:()=>{Rt&&Wr("Nightscout URL","url","nightscoutUrl",!1,void 0,void 0,!1,200)},onChange:_=>dt(_.target.value),placeholder:"https://mi-nightscout.com",className:be("text-lg pr-12",Rt&&"cursor-pointer")}),i.jsxs(U,{type:"button",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-1 my-auto h-8 w-8",onClick:()=>void kd(dt),children:[i.jsx(wi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Pegar URL Nightscout"})]})]}),i.jsx(Fe,{className:"text-lg font-medium",children:"Nightscout Token"}),i.jsxs("div",{className:"relative",children:[i.jsx(nt,{type:"password",value:St,autoComplete:"new-password",readOnly:Rt,onClick:()=>{Rt&&Wr("Nightscout Token","apikey","nightscoutToken",!1,void 0,void 0,!0)},onChange:_=>k(_.target.value),placeholder:Ge?"":"token",className:be("text-lg pr-12",Rt&&"cursor-pointer")}),i.jsxs(U,{type:"button",variant:"ghost",size:"icon",className:"absolute inset-y-0 right-1 my-auto h-8 w-8",onClick:()=>void kd(k),children:[i.jsx(wi,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Pegar token Nightscout"})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Estado: ",Oe?i.jsxs("span",{className:"font-medium text-success",children:[Oe," ",Ge?" Token almacenado":""]}):i.jsx("span",{className:"font-medium text-warning",children:"Sin configurar"})]})]}),i.jsx(U,{variant:"outline",size:"lg",className:"w-full justify-start",onClick:XS,disabled:dr||!At.trim()&&!Oe||!r&&!Rr,title:!r&&!Rr?"Verifica el PIN antes de probar":void 0,children:dr?i.jsxs(i.Fragment,{children:[i.jsx(qr,{className:"mr-2 h-5 w-5 animate-spin"})," Probando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vn,{className:"mr-2 h-5 w-5"})," Probar conexin Nightscout"]})})]})]})]}),i.jsx(Fs,{value:"updates",className:"space-y-4",children:i.jsxs(st,{className:"p-6",children:[i.jsx("h3",{className:"mb-4 text-2xl font-bold",children:"Actualizaciones OTA"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"rounded-lg bg-muted p-6 text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Versin Actual"}),i.jsx("p",{className:"text-4xl font-bold text-primary",children:Nd(He==null?void 0:He.current)})]}),i.jsxs("div",{className:"rounded-lg bg-muted p-6 text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"ltima disponible"}),i.jsx("p",{className:"text-3xl font-semibold",children:Nd(He==null?void 0:He.latest)}),He&&i.jsx("p",{className:`mt-2 text-sm ${He.hasUpdate?"text-warning":"text-success"}`,children:He.hasUpdate?"Actualizacin pendiente":"Sistema al da"})]})]}),i.jsxs(U,{variant:"glow",size:"xl",className:"w-full text-xl",onClick:tk,disabled:Ar,children:[i.jsx(Ic,{className:"mr-2 h-6 w-6 animate-bounce"}),Ar?"Verificando...":"Buscar Actualizaciones"]}),He&&i.jsx("div",{className:`rounded-lg border p-4 animate-fade-in ${He.hasUpdate?"border-primary bg-primary/5":"border-success bg-success/5"}`,children:He.hasUpdate?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"font-medium text-primary",children:[" Nueva versin disponible: ",Nd(He.latest)]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Usa la seccin inferior para aplicar la actualizacin cuando ests listo."})]}):i.jsx("p",{className:"font-medium text-success",children:" El sistema est actualizado"})}),a.otaApply&&i.jsxs("div",{className:"space-y-4 rounded-lg border border-primary/40 bg-primary/5 p-4",children:[i.jsxs("div",{className:"grid gap-3 md:grid-cols-[2fr,1fr] md:items-end",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-sm font-medium",children:"Objetivo de actualizacin (opcional)"}),i.jsx(nt,{value:Ss,placeholder:"tag o commit",readOnly:Rt,onClick:()=>{Rt&&Wr("Objetivo OTA","text","otaTargetOverride",!1,void 0,void 0,!1,80)},onChange:_=>{Rt||Lh(_.target.value)},className:be("text-lg",Rt&&"cursor-pointer")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Djalo vaco para aplicar la ltima versin disponible."})]}),i.jsx(U,{variant:"glow",size:"lg",className:"w-full",onClick:()=>jt(!0),disabled:Zn||(M==null?void 0:M.status)==="running",children:Zn||(M==null?void 0:M.status)==="running"?i.jsxs(i.Fragment,{children:[i.jsx(qr,{className:"mr-2 h-5 w-5 animate-spin"}),"Aplicando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ic,{className:"mr-2 h-5 w-5"}),"Aplicar actualizacin"]})})]}),(M==null?void 0:M.status)==="running"&&i.jsxs("div",{className:"flex items-center gap-2 text-warning",children:[i.jsx(qr,{className:"h-4 w-4 animate-spin"}),i.jsxs("span",{children:["Actualizacin en progreso (",M.progress,"%)",M.message?`  ${M.message}`:""]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"La interfaz puede parpadear durante el proceso. Si pierdes la conexin, vuelve a abrir Ajustes > OTA para reanudar el seguimiento."})]}),i.jsx("div",{className:"rounded-lg border-warning/50 border bg-warning/5 p-4",children:i.jsx("p",{className:"text-sm font-medium text-warning",children:" Despus de actualizar, el sistema se reiniciar automticamente"})})]})]})})]}),i.jsx(P5,{open:kt,onOpenChange:jt,children:i.jsxs(NS,{className:"max-w-xl",children:[i.jsxs(SS,{children:[i.jsx(jS,{children:"Aplicar actualizacin OTA"}),i.jsx(CS,{children:"El sistema seguir funcionando mientras se instala la actualizacin, pero la interfaz puede parpadear o recargar la pgina."})]}),i.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[i.jsx("p",{children:"La instalacin reiniciar servicios crticos y puede tardar varios minutos. Asegrate de no desconectar la bscula."}),i.jsx("p",{children:"Puedes seguir el progreso y revisar los registros en la ventana de actualizacin."})]}),i.jsxs(kS,{children:[i.jsx(_S,{children:"Cancelar"}),i.jsx(ES,{onClick:()=>{jt(!1),rk()},children:"Confirmar"})]})]})}),i.jsx(ra,{open:Ye,onOpenChange:_=>{(M==null?void 0:M.status)==="running"&&!_||Lt(_)},children:i.jsxs(cs,{className:"max-w-3xl",children:[i.jsxs(us,{children:[i.jsx(ds,{className:"text-3xl",children:"Progreso de actualizacin OTA"}),i.jsx($c,{children:"Seguimiento en tiempo real del proceso de actualizacin."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Estado:"})," ",i.jsx("span",{className:be((M==null?void 0:M.status)==="success"&&"text-success",(M==null?void 0:M.status)==="error"&&"text-destructive",(M==null?void 0:M.status)==="running"&&"text-warning"),children:(M==null?void 0:M.status)??"idle"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Actual:"})," ",i.jsx("span",{className:"font-mono",children:(M==null?void 0:M.current)||""})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Objetivo:"})," ",i.jsx("span",{className:"font-mono",children:(M==null?void 0:M.target)||""})]})]}),i.jsx(Wi,{value:(M==null?void 0:M.progress)??0,className:"h-3","aria-label":"Progreso de actualizacin"}),(M==null?void 0:M.message)&&i.jsx("div",{className:be("rounded border p-3 text-sm",M.status==="error"?"border-destructive/40 bg-destructive/10 text-destructive":"border-muted bg-muted/30 text-muted-foreground"),children:M.message}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-sm font-medium",children:"Registros recientes"}),i.jsx("div",{ref:zh,className:"max-h-64 overflow-y-auto rounded border border-border/60 bg-black/80 p-3 font-mono text-[11px] leading-5 text-emerald-200",children:Re?Re.split(`
`).map((_,te)=>i.jsx("div",{className:"whitespace-pre-wrap",children:_||""},te)):i.jsx("p",{className:"text-muted-foreground",children:"Sin registros disponibles todava."})})]}),i.jsxs("div",{className:"rounded-lg border border-dashed border-muted-foreground/40 bg-muted/20 p-3 text-xs text-muted-foreground",children:[i.jsx("p",{className:"font-semibold text-foreground",children:"Rollback manual"}),i.jsx("p",{children:"En caso de necesitar volver a la versin anterior, ejecuta:"}),i.jsx("pre",{className:"mt-2 whitespace-pre-wrap font-mono text-[11px] leading-5 text-foreground",children:`sudo ln -sfn /opt/bascula/releases/<anterior> /opt/bascula/current
sudo systemctl daemon-reload
sudo systemctl restart bascula-miniweb bascula-ui`})]})]}),i.jsxs(Vc,{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[i.jsx(U,{type:"button",variant:"outline",onClick:()=>Lt(!1),disabled:(M==null?void 0:M.status)==="running",children:"Cerrar"}),(M==null?void 0:M.status)==="error"&&i.jsx(U,{type:"button",variant:"glow",onClick:()=>jt(!0),children:"Reintentar"})]})]})}),i.jsx(ra,{open:xd,onOpenChange:_=>{Fl(_)},children:i.jsxs(cs,{className:"max-w-2xl",children:[i.jsxs(us,{children:[i.jsx(ds,{className:"text-3xl",children:"Cambiar red Wi-Fi"}),i.jsx($c,{children:"Ingresa el nombre y la contrasea de la red. Si el teclado interno est activo podrs usarlo tocando los campos."})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-sm font-medium",children:"Nombre de la red (SSID)"}),i.jsx(nt,{value:wd,placeholder:"MiRed",readOnly:Rt,onClick:()=>{Rt&&Wr("Nombre de la red Wi-Fi","text","networkModalSSID",!1,void 0,void 0,!1,32)},onChange:_=>{Rt||zl(_.target.value)},className:be("text-lg",Rt&&"cursor-pointer")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{className:"text-sm font-medium",children:"Contrasea"}),i.jsx(nt,{type:"password",value:bd,placeholder:"",readOnly:Rt,onClick:()=>{Rt&&Wr("Contrasea Wi-Fi","password","networkModalPassword",!1,void 0,void 0,!0,63)},onChange:_=>{Rt||Vl(_.target.value)},className:be("text-lg",Rt&&"cursor-pointer")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Deja el campo vaco si la red es abierta."})]}),Yn!=null&&Yn.message?i.jsxs("div",{className:be("flex items-start gap-3 rounded-lg border px-4 py-3 text-sm",Yn.type==="error"&&"border-destructive/40 bg-destructive/10 text-destructive",Yn.type==="success"&&"border-emerald-500/30 bg-emerald-500/10 text-emerald-600",Yn.type==="info"&&"border-primary/40 bg-primary/10 text-primary"),children:[Yn.type==="success"?i.jsx(Vn,{className:"mt-0.5 h-5 w-5"}):Yn.type==="error"?i.jsx(Hn,{className:"mt-0.5 h-5 w-5"}):i.jsx(qw,{className:"mt-0.5 h-5 w-5"}),i.jsx("p",{children:Yn.message})]}):null]}),i.jsxs(Vc,{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[i.jsx(U,{type:"button",variant:"outline",size:"lg",className:"w-full sm:w-auto",onClick:()=>{Fl(!1)},children:"Cancelar"}),i.jsx(U,{type:"button",variant:"glow",size:"lg",className:"w-full sm:w-auto",onClick:zS,disabled:Uh,children:Uh?"Conectando":"Conectar"})]}),i.jsx(U,{type:"button",variant:"ghost",className:"w-full justify-start text-sm text-muted-foreground hover:text-foreground",onClick:()=>{Fl(!1),Ll(!0)},children:"Necesitas el asistente AP? brelo en una nueva pestaa."})]})]})}),i.jsx(ra,{open:MS,onOpenChange:_=>{Ll(_)},children:i.jsxs(cs,{className:"max-w-lg",children:[i.jsxs(us,{children:[i.jsx(ds,{className:"text-2xl",children:"Asistente Wi-Fi clsico"}),i.jsx($c,{children:"Abriremos el asistente en una nueva pestaa para que nunca pierdas esta pantalla."})]}),i.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[i.jsx("p",{children:"1. Pulsa Abrir asistente para lanzar la configuracin en modo AP."}),i.jsx("p",{children:"2. Sigue las instrucciones y, al terminar, vuelve aqu y toca Cerrar."})]}),i.jsxs(Vc,{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[i.jsx(U,{type:"button",variant:"outline",size:"lg",className:"w-full sm:w-auto",onClick:()=>{Ll(!1)},children:"Cerrar"}),i.jsx(U,{type:"button",variant:"glow",size:"lg",className:"w-full sm:w-auto",onClick:()=>{window.open("/config","_blank","noopener,noreferrer")},children:"Abrir asistente"})]})]})}),i.jsxs("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:["Versin de la interfaz ",$5]}),i.jsx(F5,{open:Q,onClose:()=>xe(!1),value:Pt,onChange:xr,onConfirm:BS,title:Ne.title,type:Ne.type,showDecimal:Ne.showDecimal,min:Ne.min,max:Ne.max,allowEmpty:Ne.allowEmpty,maxLength:Ne.maxLength}),i.jsx(V5,{open:n,onClose:()=>s(!1),currentWeight:t,isCalibrationV2:a.calibrationV2})]})},bf=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)||t>=1?1:0},B5=({isVoiceActive:e=!1,isWifiConnected:t=!0,glucose:r,glucoseTrend:n,timerSeconds:s,onSettingsClick:a,onTimerClick:o,onVoiceToggle:l,onBackClick:c,showBackButton:d=!1,showTimerButton:m=!1})=>{const f=p=>{const h=Math.floor(p/60),b=p%60;return`${h}:${b.toString().padStart(2,"0")}`};return i.jsxs("div",{className:"flex items-center justify-between border-b-2 border-border bg-card/90 px-5 py-3 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(U,{size:"icon",variant:"ghost",onClick:l,children:e?i.jsx(Yw,{className:"h-7 w-7 text-primary"}):i.jsx(Y2,{className:"h-7 w-7 text-muted-foreground"})}),t?i.jsx(ka,{className:"h-7 w-7 text-success"}):i.jsx(X2,{className:"h-7 w-7 text-destructive"}),d&&i.jsx(U,{size:"icon",variant:"outline",onClick:c,className:"h-10 w-10",children:i.jsx(ml,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[r!==void 0&&i.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-primary/10 px-5 py-3",children:[i.jsx("span",{className:"text-3xl font-bold text-primary",children:r}),i.jsx("span",{className:"text-base text-muted-foreground",children:"mg/dl"}),n&&i.jsx("span",{className:be("text-2xl",n==="up"&&"text-warning",n==="down"&&"text-destructive",n==="stable"&&"text-success"),children:n==="up"?"":n==="down"?"":""})]}),s!==void 0&&i.jsxs(U,{onClick:o,variant:"ghost",className:"gap-2 text-2xl font-mono h-14",children:[i.jsx(ym,{className:"h-6 w-6"}),f(s)]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[m&&i.jsx(U,{size:"icon",variant:"glow",onClick:o,className:"h-10 w-10 glow-cyan",children:i.jsx(ym,{className:"h-6 w-6"})}),i.jsx(U,{size:"icon",variant:"ghost",onClick:a,children:i.jsx(Yu,{className:"h-7 w-7"})})]})]})},By=({message:e,type:t="info",onClose:r})=>{if(!e)return null;const s={info:qw,warning:Hn,success:Vn,error:pv}[t],a={info:"bg-primary/10 text-primary border-primary/30",warning:"bg-warning/10 text-warning border-warning/30",success:"bg-success/10 text-success border-success/30",error:"bg-destructive/10 text-destructive border-destructive/30"};return i.jsxs("div",{className:be("flex items-center gap-3 border-b px-4 py-3 text-sm font-medium transition-smooth",a[t]),children:[i.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),i.jsx("p",{className:"flex-1",children:e}),r&&i.jsx("button",{onClick:r,className:"flex-shrink-0 rounded p-1 hover:bg-background/20",children:i.jsx(pv,{className:"h-4 w-4"})})]})},W5=({open:e,onClose:t,onStart:r})=>{const[n,s]=u.useState(5),[a,o]=u.useState(0),l=[{label:"1 min",value:60},{label:"5 min",value:300},{label:"10 min",value:600},{label:"15 min",value:900}],c=()=>{const d=n*60+a;d>0&&(r(d),t())};return i.jsx(ra,{open:e,onOpenChange:t,children:i.jsxs(cs,{className:"max-w-md",children:[i.jsx(us,{children:i.jsx(ds,{className:"text-2xl",children:"Configurar Temporizador"})}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(U,{size:"icon",variant:"outline",onClick:()=>s(Math.max(0,n-1)),className:"mb-2 h-12 w-12",children:i.jsx(gv,{className:"h-5 w-5"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-5xl font-bold text-primary",children:n}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"min"})]}),i.jsx(U,{size:"icon",variant:"outline",onClick:()=>s(Math.min(120,n+1)),className:"mt-2 h-12 w-12",children:i.jsx(vv,{className:"h-5 w-5"})})]}),i.jsx("div",{className:"text-4xl font-bold text-muted-foreground",children:":"}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(U,{size:"icon",variant:"outline",onClick:()=>o(Math.max(0,a-15)),className:"mb-2 h-12 w-12",children:i.jsx(gv,{className:"h-5 w-5"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-5xl font-bold text-primary",children:a.toString().padStart(2,"0")}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"seg"})]}),i.jsx(U,{size:"icon",variant:"outline",onClick:()=>o(Math.min(59,a+15)),className:"mt-2 h-12 w-12",children:i.jsx(vv,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.map(d=>i.jsx(U,{variant:"outline",size:"lg",onClick:()=>{s(Math.floor(d.value/60)),o(d.value%60)},children:d.label},d.value))}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(U,{onClick:t,variant:"outline",size:"xl",className:"flex-1",children:[i.jsx(yn,{className:"mr-2 h-5 w-5"}),"Cancelar"]}),i.jsxs(U,{onClick:c,variant:"glow",size:"xl",className:"flex-1",disabled:n===0&&a===0,children:[i.jsx(Gw,{className:"mr-2 h-5 w-5"}),"Iniciar"]})]})]})]})})},TS=e=>{const[t,r]=u.useState(!1),[n,s]=u.useState(null);return{speak:u.useCallback(async o=>{if(e)try{r(!0),s(null);const l=Te.getSettings().voiceId;await et.speak(o,l??void 0)}catch(l){console.error("Failed to speak:",l),s("Error al reproducir voz")}finally{r(!1)}},[e]),isSpeaking:t,error:n}},H5=({glucose:e,onClose:t})=>{const[r,n]=u.useState(900),[s,a]=u.useState(!1),{speak:o}=TS(!0);u.useEffect(()=>{o(`Atencin: Hipoglucemia detectada. Tu glucosa est en ${e} miligramos por decilitro. Sigue el protocolo 15/15.`)},[o,e]),u.useEffect(()=>{let m;return s&&r>0&&(m=setInterval(()=>{n(f=>f<=1?(a(!1),o("Han pasado 15 minutos. Por favor, mide tu glucosa nuevamente."),0):f-1)},1e3)),()=>clearInterval(m)},[s,r,o]);const l=m=>{const f=Math.floor(m/60),p=m%60;return`${f}:${p.toString().padStart(2,"0")}`},c=()=>{a(!0),o("Temporizador de 15 minutos iniciado")},d=["Consume 15g de carbohidratos rpidos","Ejemplos: 3-4 tabletas de glucosa, 150ml de zumo, o 1 cucharada de miel","Espera 15 minutos","Vuelve a medir tu glucosa","Si sigue baja, repite el proceso"];return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 p-4 backdrop-blur-sm",children:i.jsxs(st,{className:"w-full max-w-2xl border-destructive/50 bg-destructive/5 p-8",children:[i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"animate-pulse rounded-full bg-destructive/20 p-4",children:i.jsx(Z2,{className:"h-16 w-16 text-destructive"})})}),i.jsx("h2",{className:"mb-2 text-4xl font-bold text-destructive",children:" HIPOGLUCEMIA"}),i.jsxs("p",{className:"text-2xl font-semibold",children:["Glucosa: ",e," mg/dl"]})]}),i.jsxs("div",{className:"mb-6 space-y-3",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Protocolo 15/15:"}),d.map((m,f)=>i.jsxs("div",{className:"flex items-start gap-3 rounded-lg bg-muted/30 p-4",children:[i.jsx("div",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-destructive/20 text-lg font-bold text-destructive",children:f+1}),i.jsx("p",{className:"text-lg",children:m})]},f))]}),s&&i.jsxs("div",{className:"mb-6 text-center",children:[i.jsx("p",{className:"mb-2 text-sm text-muted-foreground",children:"Tiempo restante:"}),i.jsx("p",{className:"text-6xl font-bold text-destructive",children:l(r)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(U,{onClick:t,variant:"outline",size:"xl",className:"text-xl",children:[i.jsx(yn,{className:"mr-2 h-6 w-6"}),"Cancelar"]}),s?i.jsx(U,{onClick:()=>a(!1),variant:"warning",size:"xl",className:"text-xl",children:"Pausar"}):i.jsxs(U,{onClick:c,variant:"destructive",size:"xl",className:"text-xl",children:[i.jsx(pl,{className:"mr-2 h-6 w-6"}),"Iniciar Temporizador"]})]})]})})},AS=()=>{const[e,t]=u.useState(!1),{toast:r}=en(),n=async()=>{t(!0);try{await et.applyOtaUpdate(),r({title:"Actualizacin iniciada",description:"La reinstalacin se est ejecutando en segundo plano"}),setTimeout(()=>{window.location.reload()},15e3)}catch(o){o instanceof Mt&&o.status===409?r({title:"Actualizacin en curso",description:"Ya hay un proceso de reinstalacin activo"}):r({title:"Error",description:"No se pudo iniciar la actualizacin",variant:"destructive"}),t(!1)}},s=()=>{r({title:"Reiniciando sistema",description:"Por favor espera..."}),setTimeout(()=>{window.location.reload()},3e3)},a=()=>{localStorage.removeItem("recovery_mode"),localStorage.removeItem("last_error"),localStorage.removeItem("update_error"),"caches"in window&&caches.open("recovery-cache").then(o=>{o.delete(new Request("/recovery-flag"))}),r({title:"Reiniciando aplicacin",description:"Intentando cargar normalmente..."}),setTimeout(()=>{window.location.reload()},1e3)};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-8",children:i.jsxs(st,{className:"w-full max-w-2xl border-warning/50 bg-warning/5 p-8",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-warning/20 p-6",children:i.jsx(Hn,{className:"h-20 w-20 text-warning"})})}),i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"Modo Recovery"}),i.jsx("p",{className:"text-xl text-muted-foreground",children:"Se ha detectado un problema al iniciar la aplicacin"})]}),i.jsxs("div",{className:"mb-8 space-y-4 rounded-lg border border-border p-6",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Posibles causas:"}),i.jsxs("ul",{className:"list-inside list-disc space-y-2 text-muted-foreground",children:[i.jsx("li",{children:"Actualizacin OTA incompleta o corrupta"}),i.jsx("li",{children:"Error de configuracin del sistema"}),i.jsx("li",{children:"Problema de conexin con hardware"}),i.jsx("li",{children:"Archivos del sistema daados"})]}),localStorage.getItem("last_error")&&i.jsx("div",{className:"mt-4 rounded-lg bg-destructive/10 p-4",children:i.jsx("p",{className:"text-sm font-mono text-destructive",children:JSON.parse(localStorage.getItem("last_error")||"{}").message})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(U,{onClick:a,variant:"glow",size:"xl",className:"w-full text-xl",children:[i.jsx(Qw,{className:"mr-2 h-6 w-6"}),"Reintentar Cargar App"]}),i.jsxs(U,{onClick:n,disabled:e,variant:"secondary",size:"xl",className:"w-full text-xl",children:[i.jsx(Ic,{className:"mr-2 h-6 w-6"}),e?"Actualizando...":"Reinstalar ltima Versin"]}),i.jsxs(U,{onClick:s,variant:"outline",size:"xl",className:"w-full text-xl",children:[i.jsx(W2,{className:"mr-2 h-6 w-6"}),"Reiniciar Sistema"]})]}),i.jsx("div",{className:"mt-8 rounded-lg border-warning/50 bg-warning/5 p-4",children:i.jsxs("p",{className:"text-center text-sm",children:[i.jsx("strong",{children:"Problemas persistentes?"}),i.jsx("br",{}),"Accede a la mini-web desde otro dispositivo para reconfigurar el sistema."]})})]})})},ts={ssid:"Bascula-AP",ip:"192.168.4.1",httpPort:8080,configPath:"/config"},q5=()=>{const e="Bascula1234",[t,r]=u.useState(null),[n,s]=u.useState(!0),[a,o]=u.useState(null),[l,c]=u.useState(null),[d,m]=u.useState({status:"idle"}),[f,p]=u.useState(null),h=u.useRef(!1),b=u.useCallback(()=>{var z;return typeof window>"u"||!((z=window.location)!=null&&z.origin)?"/":`${window.location.origin.replace(/\/+$/,"")}/`},[]);u.useEffect(()=>{let z=!1;return(async()=>{s(!0);try{const F=await fetch("/api/ap/info",{cache:"no-store"});if(!F.ok)throw new Error(`Failed to load AP info: ${F.status}`);const I=await F.json();if(z)return;const Y=typeof I.ssid=="string"&&I.ssid.trim()?I.ssid.trim():ts.ssid;let X;if(typeof I.httpPort=="number")X=I.httpPort;else if(typeof I.httpPort=="string"){const W=Number.parseInt(I.httpPort,10);Number.isFinite(W)&&(X=W)}const ee=typeof X=="number"&&Number.isFinite(X)&&X>0?X:ts.httpPort,P=typeof I.ip=="string"&&I.ip.trim()?I.ip.trim():ts.ip,E=typeof I.configPath=="string"&&I.configPath.trim()?I.configPath.trim():ts.configPath;r({ssid:Y,ip:P,httpPort:ee,configPath:E})}catch{if(z)return;r({...ts})}finally{z||s(!1)}})(),()=>{z=!0}},[]),u.useEffect(()=>{let z=!0;const D=async()=>{try{const I=await fetch("/api/miniweb/pin");if(I.ok){const Y=await I.json();if(!z)return;Y!=null&&Y.pin?(o(Y.pin),c(null)):(o(null),c("PIN no disponible en este momento"))}else if(I.status===403){if(!z)return;o(null),c("El PIN se muestra directamente en la pantalla del dispositivo")}else{if(!z)return;o(null),c("No se pudo obtener el PIN. Verifica la conexin.")}}catch{if(!z)return;o(null),c("No se pudo obtener el PIN. Verifica la conexin.")}};D();const F=window.setInterval(D,1e4);return()=>{z=!1,window.clearInterval(F)}},[]),u.useEffect(()=>{if(typeof window>"u")return;const z=it.getBaseUrl(),D=window.location.origin;let F=null,I;try{const W=z&&z.trim()||D||"";if(!W)return;const A=new URL("/api/net/events",W).toString();F=new EventSource(A)}catch(W){ue.debug("No se pudo iniciar el stream SSE de red",{error:W});return}const Y=()=>{if(h.current)return;h.current=!0;const W=b();I=window.setTimeout(()=>{try{window.location.replace(W)}catch(A){ue.warn("No se pudo redirigir tras wifi_connected",{error:A})}},1500)},X=W=>{let A="Conectado. Reiniciando";try{const ae=W.data;if(typeof ae=="string"&&ae.trim()){const Q=JSON.parse(ae),xe=typeof Q.ssid=="string"?Q.ssid:void 0;xe&&(A=`Conectado a ${xe}. Reiniciando`)}}catch(ae){ue.debug("No se pudo parsear evento wifi_connected",{error:ae})}p({type:"success",msg:A}),Y()},ee=W=>{let A="No se pudo conectar";try{const ae=W.data;if(typeof ae=="string"&&ae.trim()){const Q=JSON.parse(ae),xe=typeof Q.message=="string"?Q.message:void 0,Ne=typeof Q.code=="string"?Q.code:void 0;xe?A=xe:Ne&&(A=`No se pudo conectar (${Ne})`)}}catch(ae){ue.debug("No se pudo parsear evento wifi_failed",{error:ae})}p({type:"error",msg:A})},P=W=>{X(W)},E=W=>{ee(W)};return F.addEventListener("wifi_connected",P),F.addEventListener("wifi_failed",E),F.onerror=W=>{ue.debug("SSE de red report un error",{event:W})},()=>{I!==void 0&&window.clearTimeout(I),F==null||F.removeEventListener("wifi_connected",P),F==null||F.removeEventListener("wifi_failed",E),F==null||F.close()}},[h,b]),u.useEffect(()=>{if(typeof window>"u")return;let z=!1;const D=async()=>{var Y,X,ee,P;const I=()=>{if(!h.current){h.current=!0;try{window.location.replace(b())}catch(E){ue.warn("No se pudo redirigir tras detectar modo kiosk",{error:E})}}};try{const E=await et.getNetworkStatus();if(!z){const W=!!((Y=E==null?void 0:E.wifi_client)!=null&&Y.connected&&((X=E==null?void 0:E.wifi_client)!=null&&X.ip)),A=!!((ee=E==null?void 0:E.ethernet)!=null&&ee.carrier&&((P=E==null?void 0:E.ethernet)!=null&&P.ip)),ae=typeof(E==null?void 0:E.online)=="boolean"?E.online:!1;if((W||A||ae)&&!h.current){I();return}}}catch(E){ue.debug("Fallo al consultar estado de red",{error:E})}try{const E=await et.miniwebStatus();!z&&(E==null?void 0:E.mode)==="kiosk"&&!h.current&&I()}catch(E){ue.debug("Fallo al consultar miniweb status durante polling",{error:E})}},F=window.setInterval(()=>{D()},4e3);return D(),()=>{z=!0,window.clearInterval(F)}},[h,b]);const y=()=>{window.location.href="/config"},w=()=>{if(window.history.length>1){window.history.back();return}window.location.href="/"},v=t??ts,g=typeof v.configPath=="string"&&v.configPath.trim()?v.configPath.trim():ts.configPath??"/config",x=g.startsWith("/")?g:`/${g}`,N=`http://${v.ip}:${v.httpPort}`,S=`${N}${x}`,j=n?"Cargando":v.ssid,C=`http://${ts.ip}:${ts.httpPort}`,T=n?C:N,O=n?`${C}${x}`:S,V=async()=>{m({status:"checking"});const z=3e4,D=Date.now();let F;for(;Date.now()-D<z;){try{const I=await fetch("/api/miniweb/status",{cache:"no-store"});if(I.ok){const Y=await I.json();if((Y==null?void 0:Y.ap_active)===!1&&typeof(Y==null?void 0:Y.connectivity)=="string"&&Y.connectivity.toLowerCase()==="full"){const X=typeof Y.ssid=="string"&&Y.ssid?Y.ssid:"tu red WiFi",ee=typeof Y.ip=="string"&&Y.ip||typeof Y.ip_address=="string"&&Y.ip_address||void 0;m({status:"success",message:`Conectado a ${X}. Cambia tu Wi-Fi al hogar para seguir usando la bscula.`,ip:ee});return}F=void 0}else{const Y=await I.json().catch(()=>null),X=Y&&typeof Y.detail=="object"&&Y.detail!==null?Y.detail:void 0,ee=X&&typeof X.code=="string"&&X.code||(typeof(Y==null?void 0:Y.code)=="string"?Y.code:void 0);ee&&(F=ee)}}catch{}await new Promise(I=>{window.setTimeout(()=>I(),1500)})}m({status:"error",code:F,message:F?`No se pudo confirmar la conexin (${F}).`:"No se pudo confirmar la conexin Wi-Fi."})};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-8",children:i.jsxs(st,{className:"w-full max-w-2xl border-primary/30 p-8 glow-cyan",children:[i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"rounded-full bg-primary/20 p-6",children:i.jsx(ka,{className:"h-20 w-20 text-primary"})})}),i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"Modo Punto de Acceso"}),i.jsxs("div",{className:"space-y-1 text-muted-foreground",children:[i.jsxs("p",{className:"text-xl",children:["Conctate a la Wi-Fi ",i.jsx("strong",{children:j}),"."]}),i.jsxs("p",{className:"text-lg",children:["Abre: ",i.jsx("strong",{children:O})]}),i.jsxs("p",{className:"text-sm",children:["Nota: ",T," abre la app; para configurar usa /config."]})]})]}),f&&i.jsxs("div",{className:`mb-8 rounded-lg border p-4 text-left text-sm ${f.type==="success"?"border-emerald-400/40 bg-emerald-500/10 text-emerald-50":"border-destructive/40 bg-destructive/10 text-destructive"}`,children:[i.jsx("p",{className:"font-semibold",children:f.type==="success"?"Conexin exitosa":"Error de conexin"}),i.jsx("p",{className:"mt-1 text-muted-foreground/80 dark:text-foreground/70",children:f.msg})]}),i.jsxs("div",{className:"mb-8 space-y-6",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 p-6",children:[i.jsx("h2",{className:"mb-4 text-xl font-bold",children:"Red WiFi para configuracin"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nombre de Red (SSID):"}),i.jsx("p",{className:"text-2xl font-bold text-primary",children:j})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Contrasea:"}),i.jsx("p",{className:"text-2xl font-bold",children:e})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/10 p-2",children:i.jsx(Kw,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"PIN de la mini-web:"}),i.jsx("p",{className:`text-2xl font-bold ${a?"text-primary":l?"text-destructive":""}`,children:a??(l?"PIN no disponible":"Cargando...")}),l&&!a&&i.jsx("p",{className:"text-sm text-destructive",children:l})]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-xl font-bold",children:"Pasos para configurar WiFi:"}),i.jsxs("ol",{className:"space-y-3",children:[i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"1"}),i.jsxs("p",{children:["Conctate a la Wi-Fi ",i.jsx("strong",{children:j}),"."]})]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"2"}),i.jsxs("p",{children:["Usa la contrasea: ",i.jsx("strong",{children:e})]})]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"3"}),i.jsxs("p",{children:["Abre: ",i.jsx("strong",{children:O})]})]}),i.jsxs("li",{className:"flex gap-3",children:[i.jsx("span",{className:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-primary/20 font-bold text-primary",children:"4"}),i.jsxs("p",{children:["Introduce el PIN ",i.jsx("strong",{children:a??"mostrado en esta pantalla"})," y configura tu red WiFi desde la mini-web de configuracin"]})]})]})]}),i.jsxs("div",{className:"rounded-lg border border-primary/30 bg-primary/5 p-6 text-center",children:[i.jsx(H2,{className:"mx-auto mb-3 h-32 w-32 text-primary"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Escanea para abrir la mini-web de configuracin"}),i.jsx("p",{className:"mt-2 text-xs font-mono text-muted-foreground",children:O})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"rounded-lg border border-warning/40 bg-warning/10 p-4 text-left",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hn,{className:"mt-1 h-5 w-5 text-warning"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"font-semibold text-warning-foreground",children:"Recuerda:"}),i.jsxs("p",{className:"text-warning-foreground/80",children:[T," abre la app principal (esta pantalla). Para configurar la red usa siempre ",O,"."]})]})]})}),i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[i.jsxs(U,{onClick:y,variant:"glow",size:"xl",className:"w-full text-xl",children:[i.jsx(Hw,{className:"mr-2 h-6 w-6"}),"Abrir Mini-Web de Configuracin"]}),i.jsxs(U,{onClick:w,variant:"outline",size:"xl",className:"w-full text-xl",children:[i.jsx(F2,{className:"mr-2 h-6 w-6"}),"Salir / Volver a la app"]})]}),i.jsxs(U,{onClick:V,variant:"glow",size:"xl",className:"w-full text-xl",disabled:d.status==="checking",children:[d.status==="checking"?i.jsx(qr,{className:"mr-2 h-6 w-6 animate-spin"}):i.jsx(Yu,{className:"mr-2 h-6 w-6"}),d.status==="checking"?"Verificando":"Verificar Conexin WiFi"]}),d.status==="success"&&i.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-emerald-400/40 bg-emerald-500/10 p-4 text-left",children:[i.jsx(Vn,{className:"mt-1 h-5 w-5 text-emerald-400"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-emerald-200",children:"Conexin confirmada"}),i.jsx("p",{className:"text-sm text-emerald-100/80",children:d.message}),d.ip&&i.jsxs("p",{className:"text-xs font-mono text-emerald-100/60",children:["IP asignada: ",d.ip]})]})]}),d.status==="error"&&i.jsxs("div",{className:"flex items-start gap-3 rounded-lg border border-destructive/40 bg-destructive/10 p-4 text-left",children:[i.jsx(Hn,{className:"mt-1 h-5 w-5 text-destructive"}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-destructive",children:"Sin confirmacin"}),i.jsx("p",{className:"text-sm text-destructive/90",children:d.message}),d.code&&i.jsxs("p",{className:"text-xs uppercase tracking-wide text-destructive/80",children:["Cdigo: ",d.code]})]})]})]}),i.jsx("p",{className:"mt-6 text-center text-sm text-muted-foreground",children:"El sistema volver a intentar conectarse automticamente cada 30 segundos"})]})})},K5=()=>{const[e,t]=u.useState(()=>typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches);return u.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)"),n=s=>{t(s.matches)};return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e},RS=u.forwardRef(({isActive:e=!1,message:t,position:r="corner",mood:n="normal",enableVoice:s=!1},a)=>{const[o,l]=u.useState(!1),[c,d]=u.useState(t),[m,f]=u.useState(n),[p,h]=u.useState(!1),[b,y]=u.useState(!1),{speak:w,isSpeaking:v}=TS(s),g=K5(),x=ZN("mascotMotion")&&!g,N=u.useRef(),S=u.useRef(),j=u.useRef();if(u.useImperativeHandle(a,()=>({react:(V,z=1e3)=>{f(V),j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{f("normal")},z)},speakStart:()=>h(!0),speakEnd:()=>h(!1),setMessage:V=>{d(V),V&&(l(!0),setTimeout(()=>l(!1),4e3))}}),[]),u.useEffect(()=>{if(t){d(t),l(!0),s&&w(t);const V=setTimeout(()=>l(!1),4e3);return()=>clearTimeout(V)}},[t,s,w]),u.useEffect(()=>{h(v)},[v]),u.useEffect(()=>{f(n)},[n]),u.useEffect(()=>{if(!x||m==="sleeping")return;const V=()=>{const z=5e3+Math.random()*3e3;N.current=setTimeout(()=>{y(!0),setTimeout(()=>y(!1),300),V()},z)};return V(),()=>{N.current&&clearTimeout(N.current)}},[x,m]),u.useEffect(()=>()=>{N.current&&clearTimeout(N.current),S.current&&clearTimeout(S.current),j.current&&clearTimeout(j.current)},[]),!e)return null;const C=()=>{const z=(()=>{switch(m){case"happy":return{body:"fill-success",accent:"fill-success-foreground"};case"worried":return{body:"fill-warning",accent:"fill-warning-foreground"};case"alert":return{body:"fill-destructive",accent:"fill-destructive-foreground"};case"sleeping":return{body:"fill-muted",accent:"fill-muted-foreground"};default:return{body:"fill-primary",accent:"fill-secondary"}}})();return i.jsxs("svg",{viewBox:"0 0 100 100",className:"h-full w-full",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("ellipse",{cx:"50",cy:"50",rx:"35",ry:"25",className:z.body}),i.jsx("path",{d:"M 15 50 Q 5 40, 8 35 Q 10 45, 10 50 Q 10 55, 8 65 Q 5 60, 15 50 Z",className:z.accent}),i.jsx("path",{d:"M 45 25 Q 42 15, 50 18 Q 58 15, 55 25 Z",className:z.accent}),i.jsx("path",{d:"M 45 75 Q 42 85, 50 82 Q 58 85, 55 75 Z",className:z.accent}),i.jsx("path",{d:"M 30 45 Q 35 40, 40 45 Q 35 50, 30 45 Z",className:z.accent,opacity:"0.6"}),i.jsx("path",{d:"M 30 55 Q 35 50, 40 55 Q 35 60, 30 55 Z",className:z.accent,opacity:"0.6"}),i.jsxs("g",{id:"mascot-eyes",children:[i.jsx("ellipse",{cx:"60",cy:"45",rx:"6",ry:b?"1":"7",fill:"white",className:be("transition-all duration-100",m==="sleeping"&&"opacity-30")}),m!=="sleeping"&&i.jsx("ellipse",{cx:"62",cy:"45",rx:"3",ry:b?"1":"4",fill:"black",className:"transition-all duration-100",children:p&&x&&i.jsx("animate",{attributeName:"ry",values:"4;2;4",dur:"0.3s",repeatCount:"indefinite"})})]}),i.jsx("g",{id:"mascot-mouth",className:be(p&&x&&"mascot-talk origin-center"),style:{transformOrigin:"75px 54px"},children:i.jsx("path",{d:m==="happy"?"M 70 52 Q 75 57, 80 52":m==="worried"?"M 70 57 Q 75 52, 80 57":"M 70 54 L 80 54",stroke:"black",strokeWidth:"2",fill:"none"})}),o&&x&&i.jsxs(i.Fragment,{children:[i.jsx("circle",{cx:"85",cy:"35",r:"3",fill:"white",opacity:"0.7",children:i.jsx("animate",{attributeName:"cy",values:"35;25;35",dur:"2s",repeatCount:"indefinite"})}),i.jsx("circle",{cx:"90",cy:"40",r:"2",fill:"white",opacity:"0.5",children:i.jsx("animate",{attributeName:"cy",values:"40;30;40",dur:"2.5s",repeatCount:"indefinite"})})]})]})},T=()=>c?i.jsx("div",{className:be("mb-3 max-w-xs rounded-2xl bg-card/95 border border-primary/30 backdrop-blur-sm p-4 text-sm text-card-foreground shadow-xl transition-all duration-500",o?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-4 scale-95"),"aria-hidden":"true",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-primary text-lg",children:""}),i.jsx("p",{className:"flex-1",children:c})]})}):null,O=()=>{if(!x)return"";switch(m){case"happy":return"mascot-bounce";case"worried":return"mascot-sway";case"alert":return"mascot-shake";case"sleeping":return"";default:return""}};return i.jsxs("div",{className:be("fixed z-50 transition-all duration-500",r==="corner"?"top-32 right-20":"bottom-1/2 left-1/2 -translate-x-1/2 translate-y-1/2"),style:{pointerEvents:"none"},"aria-hidden":"true",children:[i.jsx(T,{}),i.jsxs("div",{className:be("relative flex h-24 w-24 items-center justify-center rounded-full bg-gradient-to-br from-primary/20 to-secondary/20 backdrop-blur-sm border-2 border-primary/30 shadow-2xl transition-all duration-500",x&&"glow-cyan mascot-float",o&&"scale-110",m==="sleeping"&&"opacity-60",O()),children:[i.jsx("div",{className:be("h-20 w-20 transition-transform duration-300",o&&"scale-110"),style:{animation:m==="sleeping"&&x?"pulse 3s ease-in-out infinite":void 0},children:i.jsx(C,{})}),o&&m!=="sleeping"&&x&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 animate-ping rounded-full bg-primary/20"}),i.jsx("div",{className:"absolute inset-0 animate-pulse rounded-full bg-secondary/10"})]}),i.jsx("div",{className:be("absolute -top-1 -right-1 h-4 w-4 rounded-full border-2 border-background",m==="happy"&&"bg-success animate-pulse",m==="worried"&&"bg-warning animate-pulse",m==="alert"&&"bg-destructive animate-ping",m==="normal"&&"bg-primary",m==="sleeping"&&"bg-muted")})]})]})});RS.displayName="BasculinMascot";const G5=(e,t=70,r=180)=>{const[n,s]=u.useState(null),[a,o]=u.useState(!1),[l,c]=u.useState(null),{toast:d}=en();return u.useEffect(()=>{const f=!!Te.getSettings().nightscoutUrl;if(!e||!f){ue.debug("Glucose monitor disabled",{enabled:e,isConfigured:f});return}const p=async()=>{try{o(!0);const b=await et.getGlucose();s(b),c(null),ue.info("Glucose data fetched",{glucose:b.glucose}),b.glucose<t?d({title:" Hipoglucemia Detectada",description:`Glucosa: ${b.glucose} mg/dl`,variant:"destructive",duration:1e4}):b.glucose>r&&d({title:" Hiperglucemia Detectada",description:`Glucosa: ${b.glucose} mg/dl`,variant:"destructive",duration:1e4})}catch(b){if(b instanceof Mt&&b.code==="NOT_CONFIGURED"){ue.debug("Nightscout not configured");return}ue.error("Failed to fetch glucose",{error:b}),c("Error al obtener datos de glucosa")}finally{o(!1)}};p();const h=setInterval(p,5*60*1e3);return()=>clearInterval(h)},[e,t,r,d]),!e||!n?null:{...n,isLoading:a,error:l}};class Q5{constructor(){Or(this,"checkInterval",null);Or(this,"listeners",[]);Or(this,"currentStatus",{isOnline:navigator.onLine,isWifiConnected:!1,apActive:!1,connectivity:"unknown",savedWifiProfiles:!1,showAPScreen:!1});this.setupListeners()}setupListeners(){window.addEventListener("online",()=>{ue.info("Browser detected online"),this.checkNetworkStatus()}),window.addEventListener("offline",()=>{ue.warn("Browser detected offline"),this.checkNetworkStatus()})}async checkNetworkStatus(){const t=navigator.onLine;let r=this.currentStatus.isWifiConnected,n=this.currentStatus.ssid,s=this.currentStatus.ip,a=this.currentStatus.apActive,o=this.currentStatus.connectivity,l=this.currentStatus.savedWifiProfiles,c=this.currentStatus.showAPScreen;if(t)try{const m=await fetch("/api/miniweb/status",{method:"GET",signal:AbortSignal.timeout(5e3)});if(m.ok){const f=await m.json();n=typeof f.ssid=="string"?f.ssid:void 0,s=typeof f.ip=="string"?f.ip:void 0;const p=typeof f.connectivity=="string"?f.connectivity.toLowerCase():"unknown";(p==="full"||p==="limited"||p==="portal"||p==="none")&&(o=p),a=f.ap_active===!0,l=f.saved_wifi_profiles===!0,r=(typeof f.connected=="boolean"?f.connected:void 0)??o==="full",c=a,ue.info("Network status fetched",{connectivity:o,apActive:a,savedWifiProfiles:l,isWifiConnected:r,ssid:n,ip:s})}}catch(m){ue.warn("Cannot reach backend, assuming disconnected",{error:m})}else c=a;const d={isOnline:t,isWifiConnected:r,apActive:a,connectivity:o,savedWifiProfiles:l,showAPScreen:c,ssid:n,ip:s};return JSON.stringify(d)!==JSON.stringify(this.currentStatus)&&(this.currentStatus=d,this.notifyListeners(d),c?ue.warn("BasculaAP active; showing AP provisioning screen"):ue.info("AP provisioning screen not required")),d}notifyListeners(t){this.listeners.forEach(r=>r(t))}startMonitoring(t=3e3){this.checkInterval&&this.stopMonitoring(),ue.info("Starting network monitoring",{intervalMs:t}),this.checkNetworkStatus(),this.checkInterval=setInterval(()=>{this.checkNetworkStatus()},t)}stopMonitoring(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null,ue.info("Network monitoring stopped"))}subscribe(t){this.listeners.push(t),t(this.currentStatus)}unsubscribe(t){this.listeners=this.listeners.filter(r=>r!==t)}getCurrentStatus(){return{...this.currentStatus}}}const yc=new Q5,Z5=()=>{const[e,t]=u.useState("menu"),[r,n]=u.useState(!1),[s,a]=u.useState(void 0),[o,l]=u.useState(""),[c,d]=u.useState(!1),[m,f]=u.useState(!0),[p,h]=u.useState(!1),[b,y]=u.useState(!1),[w,v]=u.useState(!1),[g,x]=u.useState(null),[N,S]=u.useState(null),[j,C]=u.useState(),[T,O]=u.useState("normal"),[V,z]=u.useState(()=>Te.getSettings().wakeWordEnabled??!1),[D,F]=u.useState(null),[I,Y]=u.useState(!1),X=u.useRef(null),ee=u.useRef(null),P=u.useRef(null),E=u.useRef(null),W=so(),A=G5(m);u.useEffect(()=>{A&&A.glucose<70&&m?(h(!0),O("alert"),C("Alerta! Glucosa baja detectada")):A&&A.glucose>=70&&A.glucose<=180?O("happy"):A&&A.glucose>180&&O("worried")},[A,m]),u.useEffect(()=>{if(!(localStorage.getItem("recovery_mode")==="true"))return;let q=!1;return(async()=>{try{if(!(await fetch("/api/miniweb/status",{cache:"no-store"})).ok)return}catch(L){console.error("Backend unreachable, enabling recovery mode",L),q||y(!0);return}})(),()=>{q=!0}},[]),u.useEffect(()=>{const $=q=>{x(q),v(q.showAPScreen);const se=X.current;if(q.showAPScreen)S({message:"Modo punto de acceso activo para provisin de Wi-Fi",type:"info"}),O("alert"),C("Configura la Wi-Fi desde el modo AP");else if(q.connectivity==="full")if(!se||se.connectivity!=="full"||se.showAPScreen){const L=q.ssid?`Conectado a ${q.ssid}`:"Conectado a Internet";S({message:L,type:"success"}),O("happy"),C("WiFi conectado!")}else S(null);else!q.showAPScreen&&q.savedWifiProfiles?(!se||se.connectivity==="full"||se.showAPScreen)&&(S({message:"Sin conexin (reintentando)",type:"warning"}),O("worried"),C("Reintentando conexin Wi-Fi")):S(null);X.current=q};return yc.subscribe($),yc.startMonitoring(2500),()=>{yc.unsubscribe($),yc.stopMonitoring()}},[]);const ae=u.useCallback(async $=>{a($),n(!1),C("Temporizador iniciado"),O("happy");try{await et.startTimer($)}catch(q){console.error("Failed to start timer:",q),O("worried"),C("Error al iniciar temporizador")}},[]),Q=()=>{t("menu"),a(void 0),O("sleeping"),C(void 0)},xe=$=>{console.log("Index: Changing view from",e,"to",$),t($)},Ne=u.useCallback(async $=>{var L;if($.type==="wake"){const K=new Date($.ts*1e3).toISOString();F(re=>({enabled:!0,running:!0,last_wake_ts:K,wake_count:((re==null?void 0:re.wake_count)??0)+1,intent_count:(re==null?void 0:re.intent_count)??0,errors:re==null?void 0:re.errors,backend:(re==null?void 0:re.backend)??null})),Y(!0),O("alert"),ee.current&&window.clearTimeout(ee.current),ee.current=window.setTimeout(()=>{Y(!1),O(re=>re==="alert"?"normal":re),ee.current=null},3500);return}if($.type!=="intent"||!$.intent)return;const q=new Date($.ts*1e3).toISOString();F(K=>({enabled:(K==null?void 0:K.enabled)??!0,running:(K==null?void 0:K.running)??!0,last_wake_ts:q,wake_count:(K==null?void 0:K.wake_count)??0,intent_count:((K==null?void 0:K.intent_count)??0)+1,errors:K==null?void 0:K.errors,backend:(K==null?void 0:K.backend)??null}));const se=$.intent;switch(Y(!1),ee.current&&(window.clearTimeout(ee.current),ee.current=null),se.kind){case"timer":{const K=se.seconds??0;if(K<=0){C("No entend el temporizador."),O("worried");return}await ae(K);const re=Math.floor(K/60),ne=K%60;let We;re>0&&ne>0?We=`Temporizador de ${re} minuto${re===1?"":"s"} y ${ne} segundo${ne===1?"":"s"}.`:re>0?We=`Temporizador de ${re} minuto${re===1?"":"s"}.`:We=`Temporizador de ${K} segundo${K===1?"":"s"}.`,C(We),O("happy");return}case"weight_status":{try{const K=await et.getScaleWeight(),re=typeof K.value=="number"?K.value:null;if(re!==null){const ne=bn(re,W),We=ne===""?ne:`${ne} gramos`;C(`Peso estable: ${We}.`),O("happy")}else C("No detecto peso estable ahora mismo."),O("worried")}catch(K){console.error("Failed to read weight",K),C("No pude consultar la bscula."),O("worried")}return}case"tare":{try{await et.scaleTare(),C("Bscula a cero."),O("happy")}catch(K){console.error("Failed to tare scale",K),C("No se pudo poner a cero la bscula."),O("worried")}return}case"recipe_start":{const K=(L=se.name)==null?void 0:L.trim();t("recipes"),C(K&&K.length>0?`Buscando receta ${K}.`:"Abriendo recetario."),O("happy");return}case"calibrate":{t("settings"),C("Iniciando asistente de calibracin."),O("happy"),typeof window<"u"&&window.dispatchEvent(new Event("open-calibration-wizard"));return}case"smalltalk":{const K=["Aqu estoy, qu necesitas?","Te escucho.","Hola, en qu te ayudo?"],re=K[Math.floor(Math.random()*K.length)];C(re),O("happy");return}default:return}},[ae,W]);u.useEffect(()=>{let $=!1;return(async()=>{try{const se=await et.getWakeStatus();$||(F(se),typeof se.enabled=="boolean"&&z(se.enabled))}catch(se){console.warn("Wake status unavailable",se)}})(),()=>{$=!0}},[]),u.useEffect(()=>{if(typeof window>"u")return;const $=q=>{const se=q.detail;se!=null&&se.settings&&typeof se.settings.wakeWordEnabled=="boolean"&&z(se.settings.wakeWordEnabled)};return window.addEventListener("app-settings-updated",$),()=>{window.removeEventListener("app-settings-updated",$)}},[]),u.useEffect(()=>{V||Y(!1)},[V]),u.useEffect(()=>()=>{ee.current&&(window.clearTimeout(ee.current),ee.current=null),E.current&&(window.clearTimeout(E.current),E.current=null),P.current&&(P.current.close(),P.current=null)},[]),u.useEffect(()=>{if(!V){E.current&&(window.clearTimeout(E.current),E.current=null),P.current&&(P.current.close(),P.current=null),F(se=>se&&{...se,running:!1});return}let $=!1;const q=()=>{if($)return;const se=it.getBaseUrl()||Te.getSettings().apiUrl;let L;try{L=new URL("/api/voice/wake/events",se).toString()}catch{L=`${se.replace(/\/$/,"")}/api/voice/wake/events`}const K=new EventSource(L);P.current=K,K.onopen=()=>{F(ne=>({enabled:!0,running:!0,last_wake_ts:(ne==null?void 0:ne.last_wake_ts)??null,wake_count:(ne==null?void 0:ne.wake_count)??0,intent_count:(ne==null?void 0:ne.intent_count)??0,errors:ne==null?void 0:ne.errors,backend:(ne==null?void 0:ne.backend)??null}))};const re=ne=>{try{const We=JSON.parse(ne.data);Ne(We)}catch(We){console.error("Failed to parse wake event payload",We)}};K.addEventListener("wake",ne=>{re(ne)}),K.addEventListener("intent",ne=>{re(ne)}),K.onmessage=ne=>{re(ne)},K.onerror=()=>{K.close(),P.current===K&&(P.current=null),F(ne=>ne&&{...ne,running:!1}),$||(E.current=window.setTimeout(q,5e3))}};return q(),()=>{$=!0,E.current&&(window.clearTimeout(E.current),E.current=null),P.current&&(P.current.close(),P.current=null)}},[V,Ne]);const Xe=()=>{switch(console.log("Index: Rendering view:",e),e){case"menu":return i.jsx(Qv,{onNavigate:xe});case"scale":return i.jsx($A,{onNavigate:xe});case"scanner":return i.jsx(a5,{});case"timer":return i.jsx(i5,{onClose:Q});case"recipes":return i.jsx(d5,{onClose:Q});case"settings":return i.jsx(U5,{});default:return i.jsx(Qv,{onNavigate:xe})}},ie=e!=="menu"&&e!=="timer"&&e!=="recipes",ve=!b&&!w;return b?i.jsx(AS,{}):w?i.jsx(q5,{}):i.jsxs("div",{className:"h-screen overflow-hidden bg-background",children:[p&&A&&i.jsx(H5,{glucose:A.glucose,onClose:()=>h(!1)}),i.jsx(RS,{isActive:ve,message:j,position:"corner",mood:T,enableVoice:c}),I&&i.jsx("div",{className:"pointer-events-none fixed inset-x-0 top-24 z-40 flex justify-center",children:i.jsxs("div",{className:"flex items-center gap-2 rounded-full border border-primary/40 bg-background/95 px-5 py-2 text-sm font-medium text-primary shadow-lg",children:[i.jsx("span",{className:"animate-pulse",children:""}),i.jsx("span",{children:"Te escucho"})]})}),ie&&i.jsxs(i.Fragment,{children:[i.jsx(B5,{isVoiceActive:c,isWifiConnected:(g==null?void 0:g.connectivity)==="full"?!0:(g==null?void 0:g.isWifiConnected)??!1,glucose:A==null?void 0:A.glucose,glucoseTrend:A==null?void 0:A.trend,timerSeconds:s,onSettingsClick:()=>t("settings"),onTimerClick:()=>n(!0),onVoiceToggle:()=>d(!c),onBackClick:Q,showBackButton:!0,showTimerButton:e==="scale"||e==="scanner"}),N&&i.jsx(By,{message:N.message,type:N.type,onClose:()=>S(null)}),o&&i.jsx(By,{message:o,type:"info",onClose:()=>l("")})]}),i.jsx("div",{className:ie?"h-[calc(100vh-60px)] overflow-y-auto":"h-screen",children:Xe()}),i.jsx(W5,{open:r,onClose:()=>n(!1),onStart:ae})]})},Y5=()=>{const e=uh();return u.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),i.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},X5="Bascula-AP",J5="192.168.4.1",Wy="0.0.1".trim()?"0.0.1".trim():"0.0.0",eO=e=>!e||!Array.isArray(e.networks)?[]:e.networks.map(t=>{const r=typeof(t==null?void 0:t.ssid)=="string"?t.ssid.trim():"";if(!r)return null;const n=typeof(t==null?void 0:t.secured)=="boolean"?t.secured:typeof(t==null?void 0:t.sec)=="string"?t.sec.toUpperCase()!=="NONE":!0,s=typeof(t==null?void 0:t.signal)=="number"?t.signal:null,a=!!(t!=null&&t.in_use);return{ssid:r,secured:n,signal:s,inUse:a}}).filter(t=>!!t),Qm=e=>{if(typeof e=="string"&&e.trim())return e.trim();if(e&&typeof e=="object")try{const t=e,r=t.detail??t.message??t.error??t.reason;return typeof r=="string"&&r.trim()?r.trim():JSON.stringify(t)}catch(t){ue.debug("No se pudo formatear el error",{error:t,value:e})}return"Ocurri un error inesperado"},_o=async e=>{try{const t=await e.json();return Qm(t)}catch{const t=await e.text().catch(()=>"");return t.trim()?t.trim():`HTTP ${e.status}`}},tO=()=>{const e=cd(),{toast:t}=en(),[r,n]=u.useState(""),[s,a]=u.useState(e),[o,l]=u.useState(!1),[c,d]=u.useState(null),[m,f]=u.useState(e?null:{type:"info",message:"Ingresa el PIN mostrado en la pantalla de la bscula para autorizar cambios remotos."}),[p,h]=u.useState([]),[b,y]=u.useState(!1),[w,v]=u.useState(""),[g,x]=u.useState(!0),[N,S]=u.useState(""),[j,C]=u.useState(null),[T,O]=u.useState(!1),[V,z]=u.useState(null),[D,F]=u.useState(!1),[I,Y]=u.useState(!1),[X,ee]=u.useState(""),[P,E]=u.useState(!1),[W,A]=u.useState(!1),[ae,Q]=u.useState(""),[xe,Ne]=u.useState(""),[Xe,ie]=u.useState(!1),[ve,$]=u.useState(!1),[q,se]=u.useState(!1),[L,K]=u.useState(!1),[re,ne]=u.useState({status:"idle"}),[We,At]=u.useState({status:"idle"}),[dt,St]=u.useState(!1),[k,R]=u.useState(!1),[B,ge]=u.useState(!1),[fe,G]=u.useState({ok:!1,message:"Sin comprobar",timestamp:null}),oe=u.useRef(null),Le=u.useCallback(Z=>{if(e)return{allowed:!0};const me=r.trim();if(!me){const we=`Ingresa el PIN mostrado en la bscula para ${Z}.`;return f({type:"error",message:we}),t({title:"PIN requerido",description:we,variant:"destructive"}),{allowed:!1}}if(!s){const we=`Verifica el PIN antes de ${Z}.`;return f({type:"error",message:we}),t({title:"PIN no verificado",description:we,variant:"destructive"}),{allowed:!1}}return{allowed:!0,pin:me}},[e,r,s,t]),$e=u.useCallback(async()=>{O(!0);try{const Z=await fetch("/api/miniweb/status",{cache:"no-store"});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const me=await Z.json(),we=typeof me.ssid=="string"&&me.ssid.trim()?me.ssid.trim():null,ke=typeof me.ip=="string"&&me.ip.trim()?me.ip.trim():typeof me.ip_address=="string"&&me.ip_address.trim()?me.ip_address.trim():null,Oe=typeof me.connectivity=="string"?me.connectivity.trim():null,Je=!!me.ap_active;C({ssid:we,ip:ke,connectivity:Oe,apActive:Je}),!I&&we&&v(we)}catch(Z){ue.debug("No se pudo obtener el estado de red",{error:Z}),j||C(null)}finally{O(!1)}},[I,j]),wt=u.useCallback(async()=>{y(!0);try{const Z=await fetch("/api/miniweb/scan-networks",{cache:"no-store"});if(!Z.ok){const ke=await _o(Z);throw new Error(ke)}const me=await Z.json(),we=eO(me);if(we.sort((ke,Oe)=>(Oe.signal??-100)-(ke.signal??-100)),h(we),!I){const ke=we.find(Oe=>Oe.inUse)??we[0];ke&&(v(ke.ssid),x(ke.secured),ke.secured||S(""))}}catch(Z){const me=Z instanceof Error?Z.message:"No se pudo escanear redes";t({title:"Error al escanear",description:me,variant:"destructive"})}finally{y(!1)}},[I,t]),Ut=u.useCallback(async()=>{var Z,me;try{const we=await fetch("/api/settings",{cache:"no-store"});if(!we.ok)throw new Error(`HTTP ${we.status}`);const ke=await we.json(),Oe=!!((Z=ke.openai)!=null&&Z.hasKey);E(Oe),ee(""),A(!1);const Je=ke.nightscout,Ge=typeof(Je==null?void 0:Je.url)=="string"?Je.url.trim():"";Q(Ge),ie(!!(Je!=null&&Je.hasToken)),Ne(""),$(!1),se(!1);const Ve=(me=ke.network)==null?void 0:me.status;if(Ve){const He=typeof Ve.ssid=="string"&&Ve.ssid.trim()?Ve.ssid.trim():null,Tr=typeof Ve.ip=="string"&&Ve.ip.trim()?Ve.ip.trim():typeof Ve.ip_address=="string"&&Ve.ip_address.trim()?Ve.ip_address.trim():null,Ar=typeof Ve.connectivity=="string"?Ve.connectivity.trim():null,H=!!Ve.ap_active;C({ssid:He,ip:Tr,connectivity:Ar,apActive:H}),!I&&He&&v(He)}}catch(we){ue.debug("No se pudieron cargar los ajustes desde el backend",{error:we}),t({title:"Error al cargar ajustes",description:"No se pudieron obtener las integraciones actuales.",variant:"destructive"})}},[I,t]),bt=u.useCallback(async()=>{try{const Z=await fetch("/health",{cache:"no-store"});if(!Z.ok)throw new Error(`HTTP ${Z.status}`);const me=await Z.json(),we=(me==null?void 0:me.ok)===!0||(me==null?void 0:me.status)==="ok";G({ok:we,message:we?"Backend operativo":"Estado desconocido",timestamp:new Date})}catch(Z){ue.debug("No se pudo comprobar la salud del backend",{error:Z}),G({ok:!1,message:"No se pudo contactar con el backend",timestamp:new Date})}},[]);u.useEffect(()=>{if(!e){d(null),a(!1),f({type:"info",message:"Ingresa el PIN mostrado en la pantalla de la bscula para realizar cambios remotos."});return}let Z=!1;return a(!0),f(null),(async()=>{try{const we=await fetch("/api/miniweb/pin",{cache:"no-store"});if(!we.ok)throw new Error(`HTTP ${we.status}`);const ke=await we.json();if(Z)return;typeof(ke==null?void 0:ke.pin)=="string"&&ke.pin.trim()?d(ke.pin.trim()):d(null)}catch(we){if(Z)return;ue.debug("No se pudo obtener el PIN actual",{error:we}),d(null),f({type:"error",message:"No se pudo obtener el PIN automticamente. Revisa la pantalla de la bscula."})}})(),()=>{Z=!0}},[e]),u.useEffect(()=>{$e(),wt(),Ut(),bt()},[bt,wt,Ut,$e]),u.useEffect(()=>{if(typeof window>"u")return;let Z=!1,me=null;const we=()=>{var Ve;oe.current&&window.clearTimeout(oe.current);const Ge=(Ve=window.location)!=null&&Ve.origin?`${window.location.origin.replace(/\/+$/,"")}/`:"/";oe.current=window.setTimeout(()=>{try{window.location.replace(Ge)}catch(He){ue.warn("No se pudo redirigir tras wifi_connected",{error:He})}oe.current=null},2e3)},ke=Ge=>{if(Z)return;let Ve=null;try{Ve=Ge.data?JSON.parse(Ge.data):null}catch(Ar){ue.debug("No se pudo parsear wifi_connected",{error:Ar,raw:Ge.data})}const Tr=`Conexin completada a${(Ve!=null&&Ve.ssid?` '${Ve.ssid}'`:"")||" la red seleccionada"}.`;F(!1),z({type:"success",message:Tr}),t({title:"Wi-Fi conectada",description:"La bscula se conect correctamente. Volviendo a la app principal"}),$e(),we()},Oe=Ge=>{var Tr;if(Z)return;oe.current&&(window.clearTimeout(oe.current),oe.current=null);let Ve=null;try{Ve=Ge.data?JSON.parse(Ge.data):null}catch(Ar){ue.debug("No se pudo parsear wifi_failed",{error:Ar,raw:Ge.data})}const He=((Tr=Ve==null?void 0:Ve.message)==null?void 0:Tr.trim())||"No se pudo conectar a la red Wi-Fi.";F(!1),z({type:"error",message:He}),t({title:"Conexin fallida",description:He,variant:"destructive"}),$e()},Je=()=>{me&&(me.removeEventListener("wifi_connected",ke),me.removeEventListener("wifi_failed",Oe),me.close(),me=null)};try{me=new EventSource("/api/net/events"),me.addEventListener("wifi_connected",ke),me.addEventListener("wifi_failed",Oe)}catch(Ge){return ue.debug("No se pudo abrir el stream de eventos de red",{error:Ge}),()=>{}}return()=>{Z=!0,oe.current&&(window.clearTimeout(oe.current),oe.current=null),Je()}},[$e,t]);const nn=async()=>{if(e){a(!0),f(null);return}const Z=r.trim();if(!/^[0-9]{4}$/.test(Z)){const me="Ingresa los 4 dgitos del PIN.";f({type:"error",message:me}),t({title:"PIN invlido",description:me,variant:"destructive"});return}l(!0);try{const me=await fetch("/api/miniweb/verify-pin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pin:Z})});if(me.ok){a(!0),f({type:"success",message:"PIN verificado correctamente."}),t({title:"PIN verificado",description:"Ya puedes realizar cambios remotos."});return}if(me.status===429){const ke="Demasiados intentos fallidos. Espera un momento antes de reintentar.";f({type:"error",message:ke}),t({title:"PIN bloqueado temporalmente",description:ke,variant:"destructive"}),a(!1);return}const we="PIN incorrecto. Verifica el cdigo mostrado en la bscula.";f({type:"error",message:we}),t({title:"PIN incorrecto",description:we,variant:"destructive"}),a(!1)}catch(me){ue.error("No se pudo verificar el PIN de la mini-web",{error:me});const we="No se pudo verificar el PIN. Revisa la conexin.";f({type:"error",message:we}),t({title:"Error de conexin",description:we,variant:"destructive"}),a(!1)}finally{l(!1)}},ft=async()=>{if(c)try{if(!navigator.clipboard||!navigator.clipboard.writeText)throw new Error("clipboard_unavailable");await navigator.clipboard.writeText(c),t({title:"PIN copiado",description:"El PIN se copi al portapapeles."})}catch{t({title:"No se pudo copiar",description:"Autoriza el acceso al portapapeles para copiar el PIN.",variant:"destructive"})}},mt=async Z=>{const me=()=>{t({title:"No hay permisos de portapapeles",description:"Concede acceso al portapapeles desde el navegador.",variant:"destructive"})},we=async()=>{try{return!navigator.clipboard||!navigator.clipboard.readText?null:await navigator.clipboard.readText()}catch(Ge){return ue.debug("navigator.clipboard.readText fall",{error:Ge}),null}},ke=()=>{if(typeof document>"u")return null;const Ge=document.createElement("textarea");Ge.setAttribute("aria-hidden","true"),Ge.style.position="fixed",Ge.style.opacity="0",Ge.style.pointerEvents="none",document.body.appendChild(Ge);let Ve=null;try{Ge.focus(),document.execCommand("paste")&&(Ve=Ge.value)}catch(He){ue.debug("document.execCommand('paste') fall",{error:He})}finally{Ge.remove()}return Ve},Oe=await we();if(Oe!==null){Z(Oe);return}const Je=ke();if(Je!==null){Z(Je);return}me()},_r=Z=>{v(Z.ssid),x(Z.secured),Z.secured||S(""),Y(!0)},Xt=async()=>{const Z=w.trim();if(z(null),!Z){z({type:"error",message:"Selecciona o escribe el nombre de la red Wi-Fi."});return}if(g&&!N.trim()){z({type:"error",message:"Ingresa la contrasea de la red seleccionada."});return}const{allowed:me,pin:we}=Le("cambiar la red Wi-Fi");if(!me)return;const ke={ssid:Z,secured:g,open:!g};g&&(ke.password=N),we&&(ke.pin=we),F(!0);try{const Oe=await fetch("/api/miniweb/connect-wifi",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!Oe.ok){const Je=await _o(Oe);z({type:"error",message:Je});return}z({type:"success",message:"Solicitud enviada. Verificando la conexin"}),t({title:"Conectando",description:"La bscula est intentando conectarse a la red seleccionada."}),await $e()}catch(Oe){ue.error("No se pudo iniciar la conexin Wi-Fi",{error:Oe}),z({type:"error",message:"No se pudo conectar a la red. Intntalo nuevamente."}),t({title:"Error de conexin",description:"Ocurri un problema al conectar con la red Wi-Fi.",variant:"destructive"})}finally{F(!1)}},Pt=W||ve||q,xr=async()=>{if(!Pt){t({title:"Sin cambios",description:"No hay cambios pendientes para guardar."});return}const{allowed:Z,pin:me}=Le("guardar las integraciones");if(!Z)return;const we={};W&&(we.openai={apiKey:X.trim()||null}),(ve||q)&&(we.nightscout={url:ve?ae.trim()||null:void 0,token:q?xe.trim()||null:void 0}),me&&(we.pin=me),K(!0);try{const ke=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(we)});if(!ke.ok){const Oe=await _o(ke);throw new Error(Oe)}t({title:"Integraciones guardadas",description:"Los cambios se aplicaron correctamente."}),A(!1),$(!1),se(!1),await Ut()}catch(ke){const Oe=ke instanceof Error?ke.message:"No se pudieron guardar las integraciones.";t({title:"Error al guardar",description:Oe,variant:"destructive"})}finally{K(!1)}},Bt=u.useCallback(async Z=>{const me={},we=X.trim();we&&(me.apiKey=we),Z&&(me.pin=Z),St(!0),ne({status:"running"});try{const ke=await fetch("/api/settings/test/openai",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)}),Oe=await ke.json().catch(()=>({}));if(ke.ok&&(Oe!=null&&Oe.ok)){const Ve=`Conexin correcta${typeof Oe.model=="string"&&Oe.model.trim()?` (${Oe.model})`:""}.`;return ne({status:"success",message:Ve}),t({title:"OpenAI disponible",description:Ve}),!0}const Je=Oe!=null&&Oe.reason?Qm(Oe.reason):await _o(ke);return ne({status:"error",message:Je}),t({title:"OpenAI no respondi",description:Je,variant:"destructive"}),!1}catch(ke){ue.error("No se pudo probar la conexin con OpenAI",{error:ke});const Oe="No se pudo conectar con OpenAI. Verifica la clave y la conexin.";return ne({status:"error",message:Oe}),t({title:"Error",description:Oe,variant:"destructive"}),!1}finally{St(!1)}},[X,t]),Pr=u.useCallback(async Z=>{var Ge;const me=ae.trim(),we=xe.trim(),ke=new URLSearchParams;me&&ke.set("url",me),we&&ke.set("token",we),Z&&ke.set("pin",Z);const Oe=ke.toString(),Je=Oe?`/api/nightscout/test?${Oe}`:"/api/nightscout/test";R(!0),At({status:"running"});try{const Ve=await fetch(Je,{method:"GET",cache:"no-store"}),He=await Ve.json().catch(()=>({}));if(Ve.ok&&(He!=null&&He.ok)){const Ar=He.message??"Conexin con Nightscout verificada.";return At({status:"success",message:Ar}),t({title:"Nightscout disponible",description:Ar}),!0}const Tr=((Ge=He==null?void 0:He.message)==null?void 0:Ge.trim())||(He!=null&&He.reason?Qm(He.reason):await _o(Ve));return At({status:"error",message:Tr}),t({title:"Nightscout no respondi",description:Tr,variant:"destructive"}),!1}catch(Ve){ue.error("No se pudo probar Nightscout",{error:Ve});const He="No se pudo conectar con Nightscout. Verifica la URL y el token.";return At({status:"error",message:He}),t({title:"Error",description:He,variant:"destructive"}),!1}finally{R(!1)}},[xe,ae,t]),En=async()=>{const{allowed:Z,pin:me}=Le("probar la conexin con OpenAI");Z&&await Bt(me)},wr=async()=>{const{allowed:Z,pin:me}=Le("probar la conexin con Nightscout");Z&&await Pr(me)},dr=async()=>{const{allowed:Z,pin:me}=Le("probar las integraciones");if(!Z)return;ge(!0);const we=await Bt(me),ke=await Pr(me);we&&ke?t({title:"Pruebas completadas",description:"Todas las integraciones respondieron correctamente."}):(!we||!ke)&&t({title:"Pruebas con problemas",description:"Revisa el detalle en cada integracin para ms informacin.",variant:"destructive"}),ge(!1)},Ns=u.useMemo(()=>j?j.apActive?"Modo AP activo":j.connectivity?j.connectivity:j.ssid?"En lnea":"Desconectado":"Desconocido",[j]),De=u.useMemo(()=>p,[p]),Qe=fe.timestamp?fe.timestamp.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"Nunca";return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/40",children:i.jsxs("div",{className:"mx-auto flex max-w-5xl flex-col gap-6 px-4 py-10",children:[i.jsx(st,{className:"border border-primary/20 bg-background/80 shadow-lg",children:i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configuracin de la bscula"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona la conexin Wi-Fi y las integraciones principales de la bscula desde esta mini-web segura. Los cambios se aplican directamente en el dispositivo."})]}),i.jsxs(ji,{variant:"outline",className:"self-start font-mono text-xs uppercase tracking-wider",children:["Mini-web ",Wy]})]})}),i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(Ho,{className:"h-5 w-5 text-primary"})," PIN y acceso seguro"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"El PIN protege los cambios de red e integraciones cuando accedes desde otro dispositivo. En la bscula se muestra automticamente."})]}),e?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"min-h-[3rem] min-w-[6rem] rounded-md border border-border bg-muted/30 px-4 py-2 text-3xl font-mono tracking-[0.4em]",children:c||""}),i.jsxs(U,{type:"button",variant:"outline",onClick:()=>void ft(),disabled:!c,children:[i.jsx(Ww,{className:"mr-2 h-4 w-4"})," Copiar PIN"]})]}):i.jsxs("div",{className:"flex w-full flex-col gap-2 sm:w-64",children:[i.jsx(nt,{value:r,onChange:Z=>{const me=Z.target.value.replace(/[^0-9]/g,"");n(me),a(!1),f(null)},placeholder:"PIN de la bscula",maxLength:4,inputMode:"numeric",pattern:"[0-9]*",autoComplete:"one-time-code"}),i.jsx(U,{type:"button",variant:"glow",onClick:()=>void nn(),disabled:o||r.trim().length!==4,children:o?i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"mr-2 h-4 w-4 animate-spin"})," Verificando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ho,{className:"mr-2 h-4 w-4"})," Verificar PIN"]})})]})]}),m?i.jsxs("div",{className:m.type==="success"?"flex items-center gap-2 rounded-md border border-success/40 bg-success/10 px-3 py-2 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/40 bg-warning/10 px-3 py-2 text-sm text-warning-foreground",children:[i.jsx(Hn,{className:"h-4 w-4"}),i.jsx("span",{children:m.message})]}):null,!e&&s?i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-success",children:[i.jsx(Ho,{className:"h-4 w-4"})," PIN verificado para esta sesin."]}):null]})}),i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(ka,{className:"h-5 w-5 text-primary"})," Red Wi-Fi"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona la red Wi-Fi de tu hogar o introduce manualmente los datos. Tras conectar, la bscula volver a su modo normal automticamente."})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(U,{type:"button",variant:"outline",onClick:()=>void $e(),disabled:T,children:[i.jsx(An,{className:`mr-2 h-4 w-4 ${T?"animate-spin":""}`})," Actualizar estado"]}),i.jsxs(U,{type:"button",variant:"outline",onClick:()=>void wt(),disabled:b,children:[i.jsx(An,{className:`mr-2 h-4 w-4 ${b?"animate-spin":""}`})," Escanear redes"]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/60 bg-muted/20 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Estado actual"}),i.jsx(ji,{variant:"outline",className:"border-primary/40 bg-primary/10 text-primary",children:Ns})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ka,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:"SSID:"}),i.jsx("span",{children:(j==null?void 0:j.ssid)??"Sin conexin"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xm,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:"IP:"}),i.jsx("span",{children:(j==null?void 0:j.ip)??""})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mv,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:"Modo AP:"}),i.jsx("span",{children:j!=null&&j.apActive?"Activo":"Desactivado"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(hv,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:"Punto de acceso:"}),i.jsxs("span",{children:[X5," (",J5,")"]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Redes disponibles"}),i.jsx("div",{className:"max-h-64 space-y-2 overflow-y-auto rounded-lg border border-border/60 bg-muted/10 p-2",children:De.length===0?i.jsxs("div",{className:"flex flex-col items-center gap-2 py-8 text-sm text-muted-foreground",children:[i.jsx(ka,{className:"h-8 w-8"}),i.jsx("span",{children:"No se detectaron redes. Intenta escanear nuevamente."})]}):De.map(Z=>{const me=w===Z.ssid;return i.jsx("button",{type:"button",onClick:()=>_r(Z),className:`w-full rounded-md border px-4 py-3 text-left transition hover:border-primary/60 hover:bg-primary/5 ${me?"border-primary bg-primary/10":"border-border"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ka,{className:`h-4 w-4 ${Z.inUse?"text-primary":"text-muted-foreground"}`}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:Z.ssid}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Seal: ",Z.signal!==null?`${Z.signal}%`:"s/d"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[Z.inUse?i.jsx(ji,{variant:"outline",children:"En uso"}):null,Z.secured?i.jsx(hv,{className:"h-4 w-4 text-muted-foreground"}):i.jsx(V2,{className:"h-4 w-4 text-muted-foreground"})]})]})},Z.ssid)})})]})]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/60 bg-muted/20 p-4",children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Nombre de la red (SSID)"}),i.jsx(nt,{value:w,onChange:Z=>{v(Z.target.value),Y(!0)},placeholder:"MiRed",autoComplete:"off"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Contrasea"}),i.jsx(nt,{value:N,onChange:Z=>{S(Z.target.value),Y(!0)},placeholder:g?"":"Red abierta",type:"password",autoComplete:"off",disabled:!g}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(In,{checked:!g,onCheckedChange:Z=>{x(!Z),Z&&S(""),Y(!0)}}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Red abierta (sin contrasea)"})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx(U,{type:"button",variant:"glow",size:"lg",onClick:()=>void Xt(),disabled:D||!e&&!s,title:!e&&!s?"Verifica el PIN antes de conectar":void 0,children:D?i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"mr-2 h-5 w-5 animate-spin"})," Conectando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vn,{className:"mr-2 h-5 w-5"})," Conectar a la red"]})}),V?i.jsx("p",{className:V.type==="success"?"text-sm font-medium text-success":V.type==="error"?"text-sm font-medium text-destructive":"text-sm text-muted-foreground",children:V.message}):null]})]})]})}),i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(mv,{className:"h-5 w-5 text-primary"})," Integraciones"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configura tus credenciales de OpenAI y Nightscout. Puedes probar la conexin antes de guardar los cambios."})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(U,{type:"button",variant:"outline",onClick:()=>void dr(),disabled:B||!e&&!s,title:!e&&!s?"Verifica el PIN antes de probar":void 0,children:B?i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"mr-2 h-4 w-4 animate-spin"})," Probando"]}):i.jsxs(i.Fragment,{children:[i.jsx(K2,{className:"mr-2 h-4 w-4"})," Probar conexiones"]})}),i.jsx(U,{type:"button",variant:"glow",onClick:()=>void xr(),disabled:L||!e&&!s,title:!e&&!s?"Verifica el PIN antes de guardar":void 0,children:L?i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"mr-2 h-4 w-4 animate-spin"})," Guardando"]}):i.jsxs(i.Fragment,{children:[i.jsx(wm,{className:"mr-2 h-4 w-4"})," Guardar cambios"]})})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/60 bg-muted/20 p-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"OpenAI API Key"}),i.jsxs("div",{className:"relative",children:[i.jsx(nt,{type:"password",value:X,onChange:Z=>{ee(Z.target.value),A(!0)},placeholder:P?"":"sk-...",autoComplete:"off"}),i.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:()=>void mt(Z=>{ee(Z),A(!0)}),children:i.jsx(wi,{className:"h-4 w-4"})})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",P?i.jsx("span",{className:"text-success",children:"Clave almacenada en la bscula"}):"Sin configurar"]})]}),i.jsx(U,{type:"button",variant:"outline",className:"w-full justify-start",onClick:()=>void En(),disabled:dt||!e&&!s,title:!e&&!s?"Verifica el PIN antes de probar":void 0,children:dt?i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"mr-2 h-5 w-5 animate-spin"})," Probando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vn,{className:"mr-2 h-5 w-5"})," Probar OpenAI"]})}),re.status!=="idle"?i.jsx("p",{className:re.status==="success"?"text-sm text-success":re.status==="error"?"text-sm text-destructive":"text-sm text-muted-foreground",children:re.message??(re.status==="running"?"Ejecutando prueba":"")}):null]}),i.jsxs("div",{className:"space-y-4 rounded-lg border border-border/60 bg-muted/20 p-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Nightscout URL"}),i.jsxs("div",{className:"relative",children:[i.jsx(nt,{type:"url",value:ae,onChange:Z=>{Q(Z.target.value),$(!0)},placeholder:"https://midominio.herokuapp.com",autoComplete:"url"}),i.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:()=>void mt(Z=>{Q(Z),$(!0)}),children:i.jsx(wi,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Fe,{children:"Nightscout Token"}),i.jsxs("div",{className:"relative",children:[i.jsx(nt,{type:"password",value:xe,onChange:Z=>{Ne(Z.target.value),se(!0)},placeholder:Xe?"":"token",autoComplete:"new-password"}),i.jsx(U,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2",onClick:()=>void mt(Z=>{Ne(Z),se(!0)}),children:i.jsx(wi,{className:"h-4 w-4"})})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estado: ",ae||"Sin URL"," ",Xe?" Token almacenado":""]})]}),i.jsx(U,{type:"button",variant:"outline",className:"w-full justify-start",onClick:()=>void wr(),disabled:k||!e&&!s,title:!e&&!s?"Verifica el PIN antes de probar":void 0,children:k?i.jsxs(i.Fragment,{children:[i.jsx(An,{className:"mr-2 h-5 w-5 animate-spin"})," Probando"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vn,{className:"mr-2 h-5 w-5"})," Probar Nightscout"]})}),We.status!=="idle"?i.jsx("p",{className:We.status==="success"?"text-sm text-success":We.status==="error"?"text-sm text-destructive":"text-sm text-muted-foreground",children:We.message??(We.status==="running"?"Ejecutando prueba":"")}):null]})]})]})}),i.jsx(st,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[i.jsx(yv,{className:"h-5 w-5 text-primary"})," Estado general"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprueba la salud del backend y el modo de red actual de la bscula."})]}),i.jsxs(U,{type:"button",variant:"outline",onClick:()=>void bt(),children:[i.jsx(An,{className:"mr-2 h-4 w-4"})," Volver a comprobar"]})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border/60 bg-muted/20 p-4",children:[i.jsx(yv,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Backend"}),i.jsx("div",{className:fe.ok?"text-sm text-success":"text-sm text-destructive",children:fe.ok?"Operativo":"Sin conexin"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-border/60 bg-muted/20 p-4",children:[i.jsx(xm,{className:"h-5 w-5 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Modo actual"}),i.jsx("div",{className:"text-sm",children:j!=null&&j.apActive?"Punto de acceso habilitado":"Conectado a red cliente"})]})]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ltima comprobacin: ",Qe]})]})}),i.jsxs("p",{className:"pb-6 text-center text-xs text-muted-foreground",children:["Versin mini-web ",Wy]})]})})},rO=new NT,nO=()=>i.jsx(kT,{client:rO,children:i.jsxs(XP,{children:[i.jsx(OE,{}),i.jsx(f_,{}),i.jsx(vA,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsxs(pA,{children:[i.jsx(Fc,{path:"/",element:i.jsx(Z5,{})}),i.jsx(Fc,{path:"/config",element:i.jsx(tO,{})}),i.jsx(Fc,{path:"*",element:i.jsx(Y5,{})})]})})]})});class sO extends u.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){ue.error("React Error Boundary caught an error",{error:t.toString(),componentStack:r.componentStack,stack:t.stack}),localStorage.setItem("recovery_mode","true"),localStorage.setItem("last_error",JSON.stringify({message:t.message,stack:t.stack,timestamp:new Date().toISOString()})),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?i.jsx(AS,{}):this.props.children}}"serviceWorker"in navigator&&(navigator.serviceWorker.addEventListener("message",e=>{e.data.type==="UPDATE_FAILED"?(console.error("Service Worker update failed:",e.data.error),localStorage.setItem("recovery_mode","true"),localStorage.setItem("update_error",JSON.stringify({error:e.data.error,timestamp:new Date().toISOString()})),window.location.reload()):e.data.type==="UPDATE_SUCCESS"&&(console.log("Service Worker updated successfully:",e.data.version),localStorage.removeItem("recovery_mode"),localStorage.removeItem("update_error"))}),caches.open("recovery-cache").then(e=>{e.match("/recovery-flag").then(t=>{t&&t.json().then(r=>{r.failed&&(localStorage.setItem("recovery_mode","true"),window.location.reload())})})}));mw(document.getElementById("root")).render(i.jsx(sO,{children:i.jsx(nO,{})}));export{iO as c,Jy as g};
